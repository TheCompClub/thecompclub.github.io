// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var ba,ca,ea,fa,H,ga,ja,ka,P,ma,na,oa,qa,ra,Q,ua,va,T,wa,xa,ya,za,Aa,Ba,Ca,U,Ea,Fa,Ga,Ha,Ia,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,V,Yb,Zb={},$b={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(k){return k.__proto__}:function(k){return k.constructor.prototype});
(function(){function k(c,b,p,d){this.set(c,b,p,d)}function q(){this.Lb=this.Kb=this.Nb=this.Mb=this.Xb=this.Wb=this.Ua=this.Ta=0}function a(c,b,p,d){c<b?p<d?(w=c<p?c:p,s=b>d?b:d):(w=c<d?c:d,s=b>p?b:p):p<d?(w=b<p?b:p,s=c>d?c:d):(w=b<d?b:d,s=c>p?c:p)}function n(){this.items=this.Cc=null;this.lf=0;A&&(this.Cc=new Set);this.Ff=[];this.Kd=!0}function r(c){D[S++]=c}function g(){this.X=this.wi=this.y=this.Zi=0}function f(c){this.vf=[];this.ql=this.sl=this.tl=this.rl=0;this.Ng(c)}function l(c,b){this.dj=
c;this.cj=b;this.cells={}}function h(c,b){this.dj=c;this.cj=b;this.cells={}}function e(c,b,p){var d;return Y.length?(d=Y.pop(),d.Ij=c,d.x=b,d.y=p,d):new ca(c,b,p)}function b(c,b,p){this.Ij=c;this.x=b;this.y=p;this.Qa=new ea}function d(c,b,p){var d;return G.length?(d=G.pop(),d.Ij=c,d.x=b,d.y=p,d):new fa(c,b,p)}function t(c,b,p){this.Ij=c;this.x=b;this.y=p;this.Qa=[];this.kf=!0;this.Uc=new ea;this.Jf=!1}function m(c,b){return c.Fc-b.Fc}H=function(c){window.console&&window.console.log&&window.console.log(c)};
ga=function(c){window.console&&window.console.error&&window.console.error(c)};ba=function(c){return c};ja=function(c){return"undefined"===typeof c};ka=function(c){return"number"===typeof c};P=function(c){return"string"===typeof c};ma=function(c){return 0<c&&0===(c-1&c)};na=function(c){--c;for(var b=1;32>b;b<<=1)c|=c>>b;return c+1};oa=function(c){return 0>c?-c:c};qa=function(c,b){return c<b?c:b};ra=Math.PI;Q=function(c){return 0<=c?c|0:(c|0)-1};ua=function(c){var b=c|0;return b===c?b:b+1};va=function(c,
b,p,d,u,e,f,m){var g,a,l,h;c<p?(a=c,g=p):(a=p,g=c);u<f?(h=u,l=f):(h=f,l=u);if(g<h||a>l)return!1;b<d?(a=b,g=d):(a=d,g=b);e<m?(h=e,l=m):(h=m,l=e);if(g<h||a>l)return!1;g=u-c+f-p;a=e-b+m-d;c=p-c;b=d-b;u=f-u;e=m-e;m=oa(b*u-e*c);return oa(u*a-e*g)>m?!1:oa(c*a-b*g)<=m};k.prototype.set=function(c,b,p,d){this.left=c;this.top=b;this.right=p;this.bottom=d};k.prototype.$g=function(c){this.left=c.left;this.top=c.top;this.right=c.right;this.bottom=c.bottom};k.prototype.width=function(){return this.right-this.left};
k.prototype.height=function(){return this.bottom-this.top};k.prototype.offset=function(c,b){this.left+=c;this.top+=b;this.right+=c;this.bottom+=b;return this};k.prototype.normalize=function(){var c=0;this.left>this.right&&(c=this.left,this.left=this.right,this.right=c);this.top>this.bottom&&(c=this.top,this.top=this.bottom,this.bottom=c)};k.prototype.$b=function(c,b){return c>=this.left&&c<=this.right&&b>=this.top&&b<=this.bottom};k.prototype.jh=function(c){return this.left===c.left&&this.top===c.top&&
this.right===c.right&&this.bottom===c.bottom};T=k;q.prototype.ri=function(c){this.Ta=c.left;this.Ua=c.top;this.Wb=c.right;this.Xb=c.top;this.Mb=c.right;this.Nb=c.bottom;this.Kb=c.left;this.Lb=c.bottom};q.prototype.Mn=function(c,b){if(0===b)this.ri(c);else{var p=Math.sin(b),d=Math.cos(b),u=c.left*p,e=c.top*p,f=c.right*p,p=c.bottom*p,m=c.left*d,g=c.top*d,a=c.right*d,d=c.bottom*d;this.Ta=m-e;this.Ua=g+u;this.Wb=a-e;this.Xb=g+f;this.Mb=a-p;this.Nb=d+f;this.Kb=m-p;this.Lb=d+u}};q.prototype.offset=function(c,
b){this.Ta+=c;this.Ua+=b;this.Wb+=c;this.Xb+=b;this.Mb+=c;this.Nb+=b;this.Kb+=c;this.Lb+=b;return this};var w=0,s=0;q.prototype.wl=function(c){a(this.Ta,this.Wb,this.Mb,this.Kb);c.left=w;c.right=s;a(this.Ua,this.Xb,this.Nb,this.Lb);c.top=w;c.bottom=s};q.prototype.$b=function(c,b){var p=this.Wb-this.Ta,d=this.Xb-this.Ua,u=this.Mb-this.Ta,e=this.Nb-this.Ua,f=c-this.Ta,m=b-this.Ua,g=p*p+d*d,a=p*u+d*e,d=p*f+d*m,l=u*u+e*e,h=u*f+e*m,N=1/(g*l-a*a),p=(l*d-a*h)*N,g=(g*h-a*d)*N;if(0<=p&&0<g&&1>p+g)return!0;
p=this.Kb-this.Ta;d=this.Lb-this.Ua;g=p*p+d*d;a=p*u+d*e;d=p*f+d*m;N=1/(g*l-a*a);p=(l*d-a*h)*N;g=(g*h-a*d)*N;return 0<=p&&0<g&&1>p+g};q.prototype.Vi=function(c,b){if(b)switch(c){case 0:return this.Ta;case 1:return this.Wb;case 2:return this.Mb;case 3:return this.Kb;case 4:return this.Ta;default:return this.Ta}else switch(c){case 0:return this.Ua;case 1:return this.Xb;case 2:return this.Nb;case 3:return this.Lb;case 4:return this.Ua;default:return this.Ua}};wa=q;xa=function(c,b){for(var p in b)b.hasOwnProperty(p)&&
(c[p]=b[p]);return c};ya=function(c,b){var p,d;b=Q(b);if(!(0>b||b>=c.length)){p=b;for(d=c.length-1;p<d;p++)c[p]=c[p+1];c.length=d}};za=function(c,b){c.length=b.length;var p,d;p=0;for(d=b.length;p<d;p++)c[p]=b[p]};Aa=function(c,b){c.push.apply(c,b)};Ba=function(c,b){var p,d;p=0;for(d=c.length;p<d;++p)if(c[p]===b)return p;return-1};Ca=function(c,b){var p=Ba(c,b);-1!==p&&ya(c,p)};U=function(c){return c/(180/ra)};Ea=function(c){return 180/ra*c};Fa=function(c){c%=360;0>c&&(c+=360);return c};Ga=function(c){c%=
2*ra;0>c&&(c+=2*ra);return c};Ha=function(c){return Fa(Ea(c))};Ia=function(c){return Ga(U(c))};Na=function(c,b,p,d){return Math.atan2(d-b,p-c)};Oa=function(c,b){if(c===b)return 0;var p=Math.sin(c),d=Math.cos(c),u=Math.sin(b),e=Math.cos(b),p=p*u+d*e;return 1<=p?0:-1>=p?ra:Math.acos(p)};Pa=function(c,b,p){var d=Math.sin(c),u=Math.cos(c),e=Math.sin(b),g=Math.cos(b);return Math.acos(d*e+u*g)>p?0<u*e-d*g?Ga(c+p):Ga(c-p):Ga(b)};Qa=function(c,b){var p=Math.sin(c),d=Math.cos(c),u=Math.sin(b),e=Math.cos(b);
return 0>=d*u-p*e};Ra=function(c,b,p,d,u,e){if(0===p)return e?c:b;var g=Math.sin(p);p=Math.cos(p);c-=d;b-=u;var f=c*g;c=c*p-b*g;b=b*p+f;return e?c+d:b+u};Sa=function(c,b,p,d){c=p-c;b=d-b;return Math.sqrt(c*c+b*b)};Ta=function(c,b){return!c!==!b};Ua=function(c){for(var b in c)if(c.hasOwnProperty(b))return!0;return!1};Va=function(c){for(var b in c)c.hasOwnProperty(b)&&delete c[b]};var c=+new Date;Wa=function(){if("undefined"!==typeof window.performance){var b=window.performance;if("undefined"!==typeof b.now)return b.now();
if("undefined"!==typeof b.webkitNow)return b.webkitNow();if("undefined"!==typeof b.mozNow)return b.mozNow();if("undefined"!==typeof b.msNow)return b.msNow()}return Date.now()-c};var p=!1,u=p=!1,N=!1;"undefined"!==typeof window&&(p=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),p=!p&&/safari/i.test(navigator.userAgent),u=/(iphone|ipod|ipad)/i.test(navigator.userAgent),N=window.c2ejecta);var A=!p&&!N&&!u&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;
n.prototype.contains=function(c){return this.rd()?!1:A?this.Cc.has(c):this.items&&this.items.hasOwnProperty(c)};n.prototype.add=function(c){if(A)this.Cc.has(c)||(this.Cc.add(c),this.Kd=!1);else{var b=c.toString(),p=this.items;p?p.hasOwnProperty(b)||(p[b]=c,this.lf++,this.Kd=!1):(this.items={},this.items[b]=c,this.lf=1,this.Kd=!1)}};n.prototype.remove=function(c){if(!this.rd())if(A)this.Cc.has(c)&&(this.Cc["delete"](c),this.Kd=!1);else if(this.items){c=c.toString();var b=this.items;b.hasOwnProperty(c)&&
(delete b[c],this.lf--,this.Kd=!1)}};n.prototype.clear=function(){this.rd()||(A?this.Cc.clear():(this.items=null,this.lf=0),this.Ff.length=0,this.Kd=!0)};n.prototype.rd=function(){return 0===this.count()};n.prototype.count=function(){return A?this.Cc.size:this.lf};var D=null,S=0;n.prototype.Es=function(){if(!this.Kd){if(A)this.Ff.length=this.Cc.size,D=this.Ff,S=0,this.Cc.forEach(r),D=null,S=0;else{var c=this.Ff;c.length=this.lf;var b,p=0,d=this.items;if(d)for(b in d)d.hasOwnProperty(b)&&(c[p++]=d[b])}this.Kd=
!0}};n.prototype.ne=function(){this.Es();return this.Ff};ea=n;new ea;Xa=function(c,b){A?Ya(c,b.Cc):Za(c,b.ne())};Ya=function(c,b){var p,d,u,e;d=p=0;for(u=c.length;p<u;++p)e=c[p],b.has(e)||(c[d++]=e);c.length=d};Za=function(c,b){var p,d,u,e;d=p=0;for(u=c.length;p<u;++p)e=c[p],-1===Ba(b,e)&&(c[d++]=e);c.length=d};g.prototype.add=function(c){this.y=c-this.Zi;this.wi=this.X+this.y;this.Zi=this.wi-this.X-this.y;this.X=this.wi};g.prototype.reset=function(){this.X=this.wi=this.y=this.Zi=0};$a=g;ab=function(c){return c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,
"\\$&")};f.prototype.Ng=function(c){this.An=c;this.ii=c.length/2;this.vf.length=c.length;this.$i=this.aj=-1;this.zl=0};f.prototype.qr=function(){return!this.An.length};f.prototype.Va=function(){for(var c=this.vf,b=c[0],p=b,d=c[1],u=d,e,g,f=1,m=this.ii;f<m;++f)g=2*f,e=c[g],g=c[g+1],e<b&&(b=e),e>p&&(p=e),g<d&&(d=g),g>u&&(u=g);this.rl=b;this.sl=p;this.tl=d;this.ql=u};f.prototype.ri=function(c,b,p){this.vf.length=8;this.ii=4;var d=this.vf;d[0]=c.left-b;d[1]=c.top-p;d[2]=c.right-b;d[3]=c.top-p;d[4]=c.right-
b;d[5]=c.bottom-p;d[6]=c.left-b;d[7]=c.bottom-p;this.aj=c.right-c.left;this.$i=c.bottom-c.top;this.Va()};f.prototype.sp=function(c,b,p){if(this.aj!==c||this.$i!==b||this.zl!==p){this.aj=c;this.$i=b;this.zl=p;var d,u,e,g,f,m=0,a=1,l=this.An,h=this.vf;0!==p&&(m=Math.sin(p),a=Math.cos(p));p=0;for(e=this.ii;p<e;p++)d=2*p,u=d+1,g=l[d]*c,f=l[u]*b,h[d]=g*a-f*m,h[u]=f*a+g*m;this.Va()}};f.prototype.$b=function(c,b){var p=this.vf;if(c===p[0]&&b===p[1])return!0;var d,u,e,g=this.ii,f=this.rl-110,m=this.tl-101,
a=this.sl+131,l=this.ql+120,h,N,A=0,t=0;for(d=0;d<g;d++)u=2*d,e=(d+1)%g*2,h=p[u],u=p[u+1],N=p[e],e=p[e+1],va(f,m,c,b,h,u,N,e)&&A++,va(a,l,c,b,h,u,N,e)&&t++;return 1===A%2||1===t%2};bb=f;l.prototype.Pd=function(c,b,p){var d;d=this.cells[c];return d?(d=d[b])?d:p?(d=e(this,c,b),this.cells[c][b]=d):null:p?(d=e(this,c,b),this.cells[c]={},this.cells[c][b]=d):null};l.prototype.Gb=function(c){return Q(c/this.dj)};l.prototype.Hb=function(c){return Q(c/this.cj)};l.prototype.update=function(c,b,p){var d,u,e,
g,f;if(b)for(d=b.left,u=b.right;d<=u;++d)for(e=b.top,g=b.bottom;e<=g;++e)if(!p||!p.$b(d,e))if(f=this.Pd(d,e,!1))f.remove(c),f.rd()&&(f.Qa.clear(),1E3>Y.length&&Y.push(f),this.cells[d][e]=null);if(p)for(d=p.left,u=p.right;d<=u;++d)for(e=p.top,g=p.bottom;e<=g;++e)b&&b.$b(d,e)||this.Pd(d,e,!0).Qj(c)};l.prototype.Cn=function(c,b){var p,d,u,e,g,f;p=this.Gb(c.left);u=this.Hb(c.top);d=this.Gb(c.right);for(g=this.Hb(c.bottom);p<=d;++p)for(e=u;e<=g;++e)(f=this.Pd(p,e,!1))&&f.dump(b)};cb=l;h.prototype.Pd=function(c,
b,p){var u;u=this.cells[c];return u?(u=u[b])?u:p?(u=d(this,c,b),this.cells[c][b]=u):null:p?(u=d(this,c,b),this.cells[c]={},this.cells[c][b]=u):null};h.prototype.Gb=function(c){return Q(c/this.dj)};h.prototype.Hb=function(c){return Q(c/this.cj)};h.prototype.update=function(c,b,p){var d,u,e,g,f;if(b)for(d=b.left,u=b.right;d<=u;++d)for(e=b.top,g=b.bottom;e<=g;++e)if(!p||!p.$b(d,e))if(f=this.Pd(d,e,!1))f.remove(c),f.rd()&&(f.reset(),1E3>G.length&&G.push(f),this.cells[d][e]=null);if(p)for(d=p.left,u=p.right;d<=
u;++d)for(e=p.top,g=p.bottom;e<=g;++e)b&&b.$b(d,e)||this.Pd(d,e,!0).Qj(c)};h.prototype.Cn=function(c,b,p,d,u){var e,g;c=this.Gb(c);b=this.Hb(b);p=this.Gb(p);for(e=this.Hb(d);c<=p;++c)for(d=b;d<=e;++d)(g=this.Pd(c,d,!1))&&g.dump(u)};h.prototype.yr=function(c){var b,p,d,u,e;b=c.left;d=c.top;p=c.right;for(u=c.bottom;b<=p;++b)for(c=d;c<=u;++c)if(e=this.Pd(b,c,!1))e.kf=!1};db=h;var Y=[];b.prototype.rd=function(){return this.Qa.rd()};b.prototype.Qj=function(c){this.Qa.add(c)};b.prototype.remove=function(c){this.Qa.remove(c)};
b.prototype.dump=function(c){Aa(c,this.Qa.ne())};ca=b;var G=[];t.prototype.rd=function(){if(!this.Qa.length)return!0;if(this.Qa.length>this.Uc.count())return!1;this.uj();return!0};t.prototype.Qj=function(c){this.Uc.contains(c)?(this.Uc.remove(c),this.Uc.rd()&&(this.Jf=!1)):this.Qa.length?(this.Qa[this.Qa.length-1].Nc()>c.Nc()&&(this.kf=!1),this.Qa.push(c)):(this.Qa.push(c),this.kf=!0)};t.prototype.remove=function(c){this.Uc.add(c);this.Jf=!0;30<=this.Uc.count()&&this.uj()};t.prototype.uj=function(){this.Jf&&
(this.Uc.count()===this.Qa.length?this.reset():(Xa(this.Qa,this.Uc),this.Uc.clear(),this.Jf=!1))};t.prototype.Up=function(){this.kf||(this.Qa.sort(m),this.kf=!0)};t.prototype.reset=function(){this.Qa.length=0;this.kf=!0;this.Uc.clear();this.Jf=!1};t.prototype.dump=function(c){this.uj();this.Up();this.Qa.length&&c.push(this.Qa)};fa=t;var y="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");eb=function(c){return 0>=c||11<=
c?"source-over":y[c-1]};fb=function(c,b,p){if(p)switch(c.fb=p.ONE,c.cb=p.ONE_MINUS_SRC_ALPHA,b){case 1:c.fb=p.ONE;c.cb=p.ONE;break;case 3:c.fb=p.ONE;c.cb=p.ZERO;break;case 4:c.fb=p.ONE_MINUS_DST_ALPHA;c.cb=p.ONE;break;case 5:c.fb=p.DST_ALPHA;c.cb=p.ZERO;break;case 6:c.fb=p.ZERO;c.cb=p.SRC_ALPHA;break;case 7:c.fb=p.ONE_MINUS_DST_ALPHA;c.cb=p.ZERO;break;case 8:c.fb=p.ZERO;c.cb=p.ONE_MINUS_SRC_ALPHA;break;case 9:c.fb=p.DST_ALPHA;c.cb=p.ONE_MINUS_SRC_ALPHA;break;case 10:c.fb=p.ONE_MINUS_DST_ALPHA,c.cb=
p.SRC_ALPHA}};gb=function(c){return Math.round(1E6*c)/1E6};hb=function(c,b){return"string"!==typeof c||"string"!==typeof b||c.length!==b.length?!1:c===b?!0:c.toLowerCase()===b.toLowerCase()};ib=function(c){c=c.target;return!c||c===document||c===window||document&&document.body&&c===document.body||hb(c.tagName,"canvas")?!0:!1}})();var ac="undefined"!==typeof Float32Array?Float32Array:Array;function bc(k){var q=new ac(3);k&&(q[0]=k[0],q[1]=k[1],q[2]=k[2]);return q}
function cc(k){var q=new ac(16);k&&(q[0]=k[0],q[1]=k[1],q[2]=k[2],q[3]=k[3],q[4]=k[4],q[5]=k[5],q[6]=k[6],q[7]=k[7],q[8]=k[8],q[9]=k[9],q[10]=k[10],q[11]=k[11],q[12]=k[12],q[13]=k[13],q[14]=k[14],q[15]=k[15]);return q}function dc(k,q){q[0]=k[0];q[1]=k[1];q[2]=k[2];q[3]=k[3];q[4]=k[4];q[5]=k[5];q[6]=k[6];q[7]=k[7];q[8]=k[8];q[9]=k[9];q[10]=k[10];q[11]=k[11];q[12]=k[12];q[13]=k[13];q[14]=k[14];q[15]=k[15]}
function ec(k,q){var a=q[0],n=q[1];q=q[2];k[0]*=a;k[1]*=a;k[2]*=a;k[3]*=a;k[4]*=n;k[5]*=n;k[6]*=n;k[7]*=n;k[8]*=q;k[9]*=q;k[10]*=q;k[11]*=q}
function fc(k,q,a,n){n||(n=cc());var r,g,f,l,h,e,b,d,t=k[0],m=k[1];k=k[2];g=a[0];f=a[1];r=a[2];a=q[1];e=q[2];t===q[0]&&m===a&&k===e?(k=n,k[0]=1,k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=1,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[10]=1,k[11]=0,k[12]=0,k[13]=0,k[14]=0,k[15]=1):(a=t-q[0],e=m-q[1],b=k-q[2],d=1/Math.sqrt(a*a+e*e+b*b),a*=d,e*=d,b*=d,q=f*b-r*e,r=r*a-g*b,g=g*e-f*a,(d=Math.sqrt(q*q+r*r+g*g))?(d=1/d,q*=d,r*=d,g*=d):g=r=q=0,f=e*g-b*r,l=b*q-a*g,h=a*r-e*q,(d=Math.sqrt(f*f+l*l+h*h))?(d=1/d,f*=d,l*=d,h*=d):h=l=f=0,
n[0]=q,n[1]=f,n[2]=a,n[3]=0,n[4]=r,n[5]=l,n[6]=e,n[7]=0,n[8]=g,n[9]=h,n[10]=b,n[11]=0,n[12]=-(q*t+r*m+g*k),n[13]=-(f*t+l*m+h*k),n[14]=-(a*t+e*m+b*k),n[15]=1)}
(function(){function k(g){this.Sd=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Al=bc([0,0,100]);this.Im=bc([0,0,0]);this.ko=bc([0,1,0]);this.cl=bc([1,1,1]);this.Ml=!0;this.jk=cc();this.kc=cc();this.zm=cc();this.ij=cc();this.j=g;this.km()}function q(g,f,a){this.j=g;this.Og=f;this.name=a;this.jc=g.getAttribLocation(f,"aPos");this.Xd=g.getAttribLocation(f,"aTex");this.Gm=g.getUniformLocation(f,"matP");this.Vh=g.getUniformLocation(f,"matMV");this.of=
g.getUniformLocation(f,"opacity");this.Hm=g.getUniformLocation(f,"samplerFront");this.vg=g.getUniformLocation(f,"samplerBack");this.Ke=g.getUniformLocation(f,"destStart");this.Je=g.getUniformLocation(f,"destEnd");this.fk=g.getUniformLocation(f,"seconds");this.ek=g.getUniformLocation(f,"pixelWidth");this.dk=g.getUniformLocation(f,"pixelHeight");this.ug=g.getUniformLocation(f,"layerScale");this.tg=g.getUniformLocation(f,"layerAngle");this.xg=g.getUniformLocation(f,"viewOrigin");this.wg=g.getUniformLocation(f,
"scrollPos");this.dr=!!(this.ek||this.dk||this.fk||this.vg||this.Ke||this.Je||this.ug||this.tg||this.xg||this.wg);this.Qm=this.Rm=-999;this.Yh=1;this.Mm=this.Lm=0;this.Om=this.Km=this.Jm=1;this.Tm=this.Sm=this.Vm=this.Um=this.Nm=0;this.Zj=[];this.Pm=cc();this.of&&g.uniform1f(this.of,1);this.Hm&&g.uniform1i(this.Hm,0);this.vg&&g.uniform1i(this.vg,1);this.Ke&&g.uniform2f(this.Ke,0,0);this.Je&&g.uniform2f(this.Je,1,1);this.ug&&g.uniform1f(this.ug,1);this.tg&&g.uniform1f(this.tg,0);this.xg&&g.uniform2f(this.xg,
0,0);this.wg&&g.uniform2f(this.wg,0,0);this.Be=!1}function a(g,f){this.type=g;this.p=f;this.j=f.j;this.Oc=this.lc=this.mn=0;this.U=this.Dc=null;this.Nn=[]}k.prototype.km=function(){var g=this.j,f;this.Am=1;this.Ge=this.Vd=null;this.eh=1;g.clearColor(0,0,0,0);g.clear(g.COLOR_BUFFER_BIT);g.enable(g.BLEND);g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA);g.disable(g.CULL_FACE);g.disable(g.DEPTH_TEST);this.Bm=g.ONE;this.ym=g.ONE_MINUS_SRC_ALPHA;this.vk=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,this.vk);this.Vg=
Array(4);this.Rg=Array(4);for(f=0;4>f;f++)this.Vg[f]=g.createBuffer(),g.bindBuffer(g.ARRAY_BUFFER,this.Vg[f]),this.Rg[f]=g.createBuffer(),g.bindBuffer(g.ARRAY_BUFFER,this.Rg[f]);this.gd=0;this.gr=g.createBuffer();g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,this.gr);this.$k=new Float32Array(16E3);this.Qk=new Float32Array(16E3);this.Qr=new Float32Array(32E3);for(var a=new Uint16Array(12E3),h=f=0;12E3>f;)a[f++]=h,a[f++]=h+1,a[f++]=h+2,a[f++]=h,a[f++]=h+2,a[f++]=h+3,h+=4;g.bufferData(g.ELEMENT_ARRAY_BUFFER,a,
g.STATIC_DRAW);this.wk=this.$c=0;this.Ma=[];f=this.hj({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.Ma.push(f);f=this.hj({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ma.push(f);for(var e in gc)gc.hasOwnProperty(e)&&this.Ma.push(this.hj(gc[e],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",e));g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,null);this.Jd=[];this.ed=0;this.zb=!1;this.Il=this.mg=-1;this.Sf=null;this.sq=g.createFramebuffer();this.En=null;this.me=bc([0,0,0]);this.Wm=g.getParameter(g.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Wm&&
(this.Wm=2048);this.Xc(0)};q.prototype.Vk=function(g){var f=this.Pm;if(f[0]!==g[0]||f[1]!==g[1]||f[2]!==g[2]||f[3]!==g[3]||f[4]!==g[4]||f[5]!==g[5]||f[6]!==g[6]||f[7]!==g[7]||f[8]!==g[8]||f[9]!==g[9]||f[10]!==g[10]||f[11]!==g[11]||f[12]!==g[12]||f[13]!==g[13]||f[14]!==g[14]||f[15]!==g[15])dc(g,this.Pm),this.j.uniformMatrix4fv(this.Vh,!1,g)};k.prototype.hj=function(g,f,a){var h=this.j,e=h.createShader(h.FRAGMENT_SHADER);h.shaderSource(e,g.src);h.compileShader(e);if(!h.getShaderParameter(e,h.COMPILE_STATUS))return h.deleteShader(e),
null;var b=h.createShader(h.VERTEX_SHADER);h.shaderSource(b,f);h.compileShader(b);if(!h.getShaderParameter(b,h.COMPILE_STATUS))return h.deleteShader(e),h.deleteShader(b),null;f=h.createProgram();h.attachShader(f,e);h.attachShader(f,b);h.linkProgram(f);if(!h.getProgramParameter(f,h.LINK_STATUS))return h.deleteShader(e),h.deleteShader(b),h.deleteProgram(f),null;h.useProgram(f);h.deleteShader(e);h.deleteShader(b);a=new q(h,f,a);a.qj=g.qj||0;a.rj=g.rj||0;a.Hl=!!g.Hl;a.ml=!!g.ml;a.D=g.D||[];g=0;for(e=
a.D.length;g<e;g++)a.D[g][1]=h.getUniformLocation(f,a.D[g][0]),a.Zj.push(0),h.uniform1f(a.D[g][1],0);return a};k.prototype.Fj=function(g){var f,a;f=0;for(a=this.Ma.length;f<a;f++)if(this.Ma[f].name===g)return f;return-1};k.prototype.zn=function(g,f,a){var h=this.kc,e=this.jk,b=[0,0,0,0,0,0,0,0];b[0]=h[0]*g+h[4]*f+h[12];b[1]=h[1]*g+h[5]*f+h[13];b[2]=h[2]*g+h[6]*f+h[14];b[3]=h[3]*g+h[7]*f+h[15];b[4]=e[0]*b[0]+e[4]*b[1]+e[8]*b[2]+e[12]*b[3];b[5]=e[1]*b[0]+e[5]*b[1]+e[9]*b[2]+e[13]*b[3];b[6]=e[2]*b[0]+
e[6]*b[1]+e[10]*b[2]+e[14]*b[3];b[7]=-b[2];0!==b[7]&&(b[7]=1/b[7],b[4]*=b[7],b[5]*=b[7],b[6]*=b[7],a[0]=(.5*b[4]+.5)*this.width,a[1]=(.5*b[5]+.5)*this.height)};k.prototype.he=function(g,f,a){if(this.width!==g||this.height!==f||a){this.Nd();this.width=g;this.height=f;this.j.viewport(0,0,g,f);f=g/f;var h=this.jk,e;e=1*Math.tan(45*Math.PI/360);f*=e;g=-f;a=-e;h||(h=cc());var b=f-g,d=e-a;h[0]=2/b;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=2/d;h[6]=0;h[7]=0;h[8]=(f+g)/b;h[9]=(e+a)/d;h[10]=-1001/999;h[11]=-1;h[12]=
0;h[13]=0;h[14]=-2E3/999;h[15]=0;fc(this.Al,this.Im,this.ko,this.kc);g=[0,0];f=[0,0];this.zn(0,0,g);this.zn(1,1,f);this.cl[0]=1/(f[0]-g[0]);this.cl[1]=-1/(f[1]-g[1]);g=0;for(f=this.Ma.length;g<f;g++)a=this.Ma[g],a.Be=!1,a.Gm&&(this.j.useProgram(a.Og),this.j.uniformMatrix4fv(a.Gm,!1,this.jk));this.j.useProgram(this.Ma[this.mg].Og);this.j.bindTexture(this.j.TEXTURE_2D,null);this.j.activeTexture(this.j.TEXTURE1);this.j.bindTexture(this.j.TEXTURE_2D,null);this.j.activeTexture(this.j.TEXTURE0);this.Ge=
this.Vd=null}};k.prototype.Vc=function(){fc(this.Al,this.Im,this.ko,this.kc);ec(this.kc,this.cl)};k.prototype.translate=function(g,f){if(0!==g||0!==f){this.me[0]=g;this.me[1]=f;this.me[2]=0;var a=this.kc,h=this.me,e=h[0],b=h[1],h=h[2];a[12]=a[0]*e+a[4]*b+a[8]*h+a[12];a[13]=a[1]*e+a[5]*b+a[9]*h+a[13];a[14]=a[2]*e+a[6]*b+a[10]*h+a[14];a[15]=a[3]*e+a[7]*b+a[11]*h+a[15]}};k.prototype.scale=function(g,f){if(1!==g||1!==f)this.me[0]=g,this.me[1]=f,this.me[2]=1,ec(this.kc,this.me)};k.prototype.Fk=function(g){if(0!==
g){var f=this.kc,a,h=Math.sin(g);g=Math.cos(g);var e=f[0],b=f[1],d=f[2],t=f[3],m=f[4],w=f[5],n=f[6],c=f[7];a?f!==a&&(a[8]=f[8],a[9]=f[9],a[10]=f[10],a[11]=f[11],a[12]=f[12],a[13]=f[13],a[14]=f[14],a[15]=f[15]):a=f;a[0]=e*g+m*h;a[1]=b*g+w*h;a[2]=d*g+n*h;a[3]=t*g+c*h;a[4]=e*-h+m*g;a[5]=b*-h+w*g;a[6]=d*-h+n*g;a[7]=t*-h+c*g}};k.prototype.Zc=function(){for(var g=!1,a=0;16>a;a++)if(this.zm[a]!==this.kc[a]){g=!0;break}g&&(g=this.Bc(),g.type=5,g.U?dc(this.kc,g.U):g.U=cc(this.kc),dc(this.kc,this.zm),this.zb=
!1)};a.prototype.Kp=function(){this.j.bindTexture(this.j.TEXTURE_2D,this.Dc)};a.prototype.Lp=function(){var a=this.j;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Dc);a.activeTexture(a.TEXTURE0)};a.prototype.Hp=function(){var a=this.mn,f=this.p;f.eh=a;f=f.Sf;f.of&&f.Yh!==a&&(f.Yh=a,this.j.uniform1f(f.of,a))};a.prototype.Ep=function(){this.j.drawElements(this.j.TRIANGLES,this.Oc,this.j.UNSIGNED_SHORT,2*this.lc)};a.prototype.Gp=function(){this.j.blendFunc(this.lc,this.Oc)};a.prototype.Mp=
function(){var a,f,l,h=this.p.Ma,e=this.p.Il;a=0;for(f=h.length;a<f;a++)l=h[a],a===e&&l.Vh?(l.Vk(this.U),l.Be=!0):l.Be=!1;dc(this.U,this.p.ij)};a.prototype.Fp=function(){var a=this.j,f=this.p;this.Dc?(f.Ge===this.Dc&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),f.Ge=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,f.sq),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Dc,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,
null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};a.prototype.Cp=function(){var a=this.j;0===this.lc?(a.clearColor(this.U[0],this.U[1],this.U[2],this.U[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.U[0],this.U[1],this.U[2],this.U[3]),a.clearColor(0,0,0,0),a.clear(this.j.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};a.prototype.Dp=function(){var a=this.j,f=this.p,l=f.Ma[1];a.useProgram(l.Og);!l.Be&&l.Vh&&(l.Vk(f.ij),l.Be=!0);a.enableVertexAttribArray(l.jc);a.bindBuffer(a.ARRAY_BUFFER,
f.vk);a.vertexAttribPointer(l.jc,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.lc/4,this.Oc);l=f.Sf;a.useProgram(l.Og);0<=l.jc&&(a.enableVertexAttribArray(l.jc),a.bindBuffer(a.ARRAY_BUFFER,f.Vg[f.gd]),a.vertexAttribPointer(l.jc,2,a.FLOAT,!1,0,0));0<=l.Xd&&(a.enableVertexAttribArray(l.Xd),a.bindBuffer(a.ARRAY_BUFFER,f.Rg[f.gd]),a.vertexAttribPointer(l.Xd,2,a.FLOAT,!1,0,0))};a.prototype.Ip=function(){var a=this.j,f=this.p,l=f.Ma[this.lc];f.Il=this.lc;f.Sf=l;a.useProgram(l.Og);!l.Be&&l.Vh&&(l.Vk(f.ij),
l.Be=!0);l.of&&l.Yh!==f.eh&&(l.Yh=f.eh,a.uniform1f(l.of,f.eh));0<=l.jc&&(a.enableVertexAttribArray(l.jc),a.bindBuffer(a.ARRAY_BUFFER,f.Vg[f.gd]),a.vertexAttribPointer(l.jc,2,a.FLOAT,!1,0,0));0<=l.Xd&&(a.enableVertexAttribArray(l.Xd),a.bindBuffer(a.ARRAY_BUFFER,f.Rg[f.gd]),a.vertexAttribPointer(l.Xd,2,a.FLOAT,!1,0,0))};a.prototype.Jp=function(){var a,f,l=this.p.Sf,h=this.j;a=this.U;l.vg&&this.p.Ge!==this.Dc&&(h.activeTexture(h.TEXTURE1),h.bindTexture(h.TEXTURE_2D,this.Dc),this.p.Ge=this.Dc,h.activeTexture(h.TEXTURE0));
var e=a[0];l.ek&&e!==l.Rm&&(l.Rm=e,h.uniform1f(l.ek,e));e=a[1];l.dk&&e!==l.Qm&&(l.Qm=e,h.uniform1f(l.dk,e));e=a[2];f=a[3];!l.Ke||e===l.Lm&&f===l.Mm||(l.Lm=e,l.Mm=f,h.uniform2f(l.Ke,e,f));e=a[4];f=a[5];!l.Je||e===l.Jm&&f===l.Km||(l.Jm=e,l.Km=e,h.uniform2f(l.Je,e,f));e=a[6];l.ug&&e!==l.Om&&(l.Om=e,h.uniform1f(l.ug,e));e=a[7];l.tg&&e!==l.Nm&&(l.Nm=e,h.uniform1f(l.tg,e));e=a[8];f=a[9];!l.xg||e===l.Um&&f===l.Vm||(l.Um=e,l.Vm=f,h.uniform2f(l.xg,e,f));e=a[10];f=a[11];!l.wg||e===l.Sm&&f===l.Tm||(l.Sm=e,l.Tm=
f,h.uniform2f(l.wg,e,f));l.fk&&h.uniform1f(l.fk,Wa()/1E3);if(l.D.length)for(a=0,f=l.D.length;a<f;a++)e=this.Nn[a],e!==l.Zj[a]&&(l.Zj[a]=e,h.uniform1f(l.D[a][1],e))};k.prototype.Bc=function(){this.ed===this.Jd.length&&this.Jd.push(new a(0,this));return this.Jd[this.ed++]};k.prototype.Nd=function(){if(0!==this.ed&&!this.j.isContextLost()){var a=this.j;0<this.wk&&(a.bindBuffer(a.ARRAY_BUFFER,this.vk),a.bufferData(a.ARRAY_BUFFER,this.Qr.subarray(0,this.wk),a.STREAM_DRAW),f&&0<=f.jc&&"<point>"===f.name&&
a.vertexAttribPointer(f.jc,4,a.FLOAT,!1,0,0));if(0<this.$c){var f=this.Sf;a.bindBuffer(a.ARRAY_BUFFER,this.Vg[this.gd]);a.bufferData(a.ARRAY_BUFFER,this.$k.subarray(0,this.$c),a.STREAM_DRAW);f&&0<=f.jc&&"<point>"!==f.name&&a.vertexAttribPointer(f.jc,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Rg[this.gd]);a.bufferData(a.ARRAY_BUFFER,this.Qk.subarray(0,this.$c),a.STREAM_DRAW);f&&0<=f.Xd&&"<point>"!==f.name&&a.vertexAttribPointer(f.Xd,2,a.FLOAT,!1,0,0)}for(var l,a=0,f=this.ed;a<f;a++)switch(l=
this.Jd[a],l.type){case 1:l.Ep();break;case 2:l.Kp();break;case 3:l.Hp();break;case 4:l.Gp();break;case 5:l.Mp();break;case 6:l.Fp();break;case 7:l.Cp();break;case 8:l.Dp();break;case 9:l.Ip();break;case 10:l.Jp();break;case 11:l.Lp()}this.wk=this.$c=this.ed=0;this.zb=!1;this.gd++;4<=this.gd&&(this.gd=0)}};k.prototype.yf=function(a){if(a!==this.Am){var f=this.Bc();f.type=3;this.Am=f.mn=a;this.zb=!1}};k.prototype.Vb=function(a){if(a!==this.Vd){var f=this.Bc();f.type=2;this.Vd=f.Dc=a;this.zb=!1}};k.prototype.ge=
function(a,f){if(a!==this.Bm||f!==this.ym){var l=this.Bc();l.type=4;l.lc=a;l.Oc=f;this.Bm=a;this.ym=f;this.zb=!1}};k.prototype.In=function(){this.ge(this.j.ONE,this.j.ONE_MINUS_SRC_ALPHA)};k.prototype.ki=function(a,f,l,h,e,b,d,t){15992<=this.$c&&this.Nd();var m=this.$c,w=this.$k,n=this.Qk;if(this.zb)this.Jd[this.ed-1].Oc+=6;else{var c=this.Bc();c.type=1;c.lc=m/4*3;c.Oc=6;this.zb=!0}w[m]=a;n[m++]=0;w[m]=f;n[m++]=0;w[m]=l;n[m++]=1;w[m]=h;n[m++]=0;w[m]=e;n[m++]=1;w[m]=b;n[m++]=1;w[m]=d;n[m++]=0;w[m]=
t;n[m++]=1;this.$c=m};k.prototype.ee=function(a,f,l,h,e,b,d,t,m){15992<=this.$c&&this.Nd();var w=this.$c,n=this.$k,c=this.Qk;if(this.zb)this.Jd[this.ed-1].Oc+=6;else{var p=this.Bc();p.type=1;p.lc=w/4*3;p.Oc=6;this.zb=!0}var p=m.left,u=m.top,N=m.right;m=m.bottom;n[w]=a;c[w++]=p;n[w]=f;c[w++]=u;n[w]=l;c[w++]=N;n[w]=h;c[w++]=u;n[w]=e;c[w++]=N;n[w]=b;c[w++]=m;n[w]=d;c[w++]=p;n[w]=t;c[w++]=m;this.$c=w};k.prototype.Xc=function(a){if(this.mg!==a){if(!this.Ma[a]){if(0===this.mg)return;a=0}var f=this.Bc();
f.type=9;this.mg=f.lc=a;this.zb=!1}};k.prototype.Fg=function(a){a=this.Ma[a];return!(!a.Ke&&!a.Je)};k.prototype.xk=function(a){a=this.Ma[a];return!!(a.Ke||a.Je||a.Hl)};k.prototype.Yr=function(a){a=this.Ma[a];return 0!==a.qj||0!==a.rj};k.prototype.Kq=function(a){return this.Ma[a].qj};k.prototype.Lq=function(a){return this.Ma[a].rj};k.prototype.Mq=function(a,f){return this.Ma[a].D[f][2]};k.prototype.hi=function(a){return this.Ma[a].ml};k.prototype.zf=function(a,f,l,h,e,b,d,t,m,w,n,c,p,u){var N=this.Ma[this.mg],
A,D;if(N.dr||u.length){A=this.Bc();A.type=10;A.U?dc(this.kc,A.U):A.U=cc();D=A.U;D[0]=f;D[1]=l;D[2]=h;D[3]=e;D[4]=b;D[5]=d;D[6]=t;D[7]=m;D[8]=w;D[9]=n;D[10]=c;D[11]=p;A.Dc=N.vg?a:null;if(u.length)for(l=A.Nn,l.length=u.length,a=0,f=u.length;a<f;a++)l[a]=u[a];this.zb=!1}};k.prototype.clear=function(a,f,l,h){var e=this.Bc();e.type=7;e.lc=0;e.U||(e.U=cc());e.U[0]=a;e.U[1]=f;e.U[2]=l;e.U[3]=h;this.zb=!1};k.prototype.clearRect=function(a,f,l,h){if(!(0>l||0>h)){var e=this.Bc();e.type=7;e.lc=1;e.U||(e.U=cc());
e.U[0]=a;e.U[1]=f;e.U[2]=l;e.U[3]=h;this.zb=!1}};k.prototype.Xr=function(){this.Nd();this.j.flush()};var n=[],r={};k.prototype.vp=function(){n.length=0;r={}};k.prototype.Fm=function(a,f,l){var h;h=!1;f=!!f;var e=a.src+","+h+","+f+(h?",undefined":""),b=null;if("undefined"!==typeof a.src&&r.hasOwnProperty(e))return b=r[e],b.Wg++,b;this.Nd();var d=this.j,t=ma(a.width)&&ma(a.height),b=d.createTexture();d.bindTexture(d.TEXTURE_2D,b);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var m=d.RGBA,w=d.RGBA,
k=d.UNSIGNED_BYTE;if(l&&!this.Sd)switch(l){case 1:w=m=d.RGB;break;case 2:k=d.UNSIGNED_SHORT_4_4_4_4;break;case 3:k=d.UNSIGNED_SHORT_5_5_5_1;break;case 4:w=m=d.RGB,k=d.UNSIGNED_SHORT_5_6_5}if(!t&&h){l=document.createElement("canvas");l.width=na(a.width);l.height=na(a.height);var c=l.getContext("2d");c.webkitImageSmoothingEnabled=f;c.mozImageSmoothingEnabled=f;c.msImageSmoothingEnabled=f;c.imageSmoothingEnabled=f;c.drawImage(a,0,0,a.width,a.height,0,0,l.width,l.height);d.texImage2D(d.TEXTURE_2D,0,m,
w,k,l)}else d.texImage2D(d.TEXTURE_2D,0,m,w,k,a);h?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT)):(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE));f?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),t&&this.Ml?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,
d.TEXTURE_MIN_FILTER,d.LINEAR)):(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST));d.bindTexture(d.TEXTURE_2D,null);this.Vd=null;b.Nf=a.width;b.Mf=a.height;b.Wg=1;b.yl=e;n.push(b);return r[e]=b};k.prototype.fd=function(a,f,l,h){this.Nd();var e=this.j;this.Sd&&(h=!1);var b=e.createTexture();e.bindTexture(e.TEXTURE_2D,b);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a,f,0,e.RGBA,h?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_2D,
e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,l?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,l?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,null);this.Vd=null;b.Nf=a;b.Mf=f;n.push(b);return b};k.prototype.Is=function(a,f,l){this.Nd();var h=this.j;this.Sd&&(l=!1);h.bindTexture(h.TEXTURE_2D,f);h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{h.texImage2D(h.TEXTURE_2D,
0,h.RGBA,h.RGBA,l?h.UNSIGNED_SHORT_4_4_4_4:h.UNSIGNED_BYTE,a)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}h.bindTexture(h.TEXTURE_2D,null);this.Vd=null};k.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Wg&&1<a.Wg?a.Wg--:(this.Nd(),a===this.Vd&&(this.j.bindTexture(this.j.TEXTURE_2D,null),this.Vd=null),a===this.Ge&&(this.j.activeTexture(this.j.TEXTURE1),this.j.bindTexture(this.j.TEXTURE_2D,null),this.j.activeTexture(this.j.TEXTURE0),this.Ge=null),
Ca(n,a),"undefined"!==typeof a.yl&&delete r[a.yl],this.j.deleteTexture(a)))};k.prototype.Wc=function(a){if(a!==this.En){var f=this.Bc();f.type=6;this.En=f.Dc=a;this.zb=!1}};jb=k})();
(function(){function k(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function q(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function a(c){if(c&&(c.getContext||c.dc)&&!c.c2runtime){c.c2runtime=this;var b=this;this.Rd=(this.fg=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.lb=!!c.dc;this.pm="undefined"!==typeof window.AppMobi||this.lb;this.tc=!!window.c2cocoonjs;this.uc=!!window.c2ejecta;this.tc&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.uc&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",
function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.Na=this.lb||this.tc||this.uc;this.Sd=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.tm=/tizen/i.test(navigator.userAgent);this.Ch=/android/i.test(navigator.userAgent)&&!this.tm&&!this.Sd;this.Yj=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.Sd;this.xm=/ipad/i.test(navigator.userAgent);this.Hh=this.Yj||this.xm||this.uc;this.rr=this.Yj&&/os\s6/i.test(navigator.userAgent);this.eg=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.Sd;this.om=/amazonwebappplatform/i.test(navigator.userAgent);this.kr=/firefox/i.test(navigator.userAgent);this.rm=/safari/i.test(navigator.userAgent)&&!this.eg&&!this.Sd;this.or=/windows/i.test(navigator.userAgent);this.Td="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);
this.vm=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.pr=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.gf=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Wj=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.um=this.vm||this.pr||this.Wj;this.ir=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Dh=this.Ch&&!this.eg&&!this.fg&&!this.kr&&!this.om&&
!this.Na;this.devicePixelRatio=1;this.Qc=this.Rd||this.fg||this.pm||this.tc||this.Ch||this.Hh||this.gf||this.Wj||this.ir||this.tm||this.uc;this.Qc||(this.Qc=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.Td||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.Td=!0);this.jr="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=
c;this.Bl=document.getElementById("c2canvasdiv");this.aa=this.p=this.j=null;this.xj="";this.nh=!1;this.jn=this.kn=0;this.canvas.oncontextmenu=function(c){c.preventDefault&&c.preventDefault();return!1};this.canvas.onselectstart=function(c){c.preventDefault&&c.preventDefault();return!1};this.lb&&(window.c2runtime=this);this.Td&&(window.ondragover=function(c){c.preventDefault();return!1},window.ondrop=function(c){c.preventDefault();return!1},require("nw.gui").App.clearCache());this.Dh&&"undefined"!==
typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=c.width;this.height=c.height;this.H=this.width;this.G=this.height;this.bh=this.width;this.ah=this.height;this.pg=window.innerWidth;this.ng=window.innerHeight;this.uq=!1;this.ba=!0;this.hg=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.k=[];this.ta=[];this.bk={};this.xc=[];this.pj={};this.ld=[];this.Hf=[];this.Di=[];this.Ri=[];this.mp=[];this.ve={};this.Tj=this.Qd=!1;this.vc=0;
this.Vj=!1;this.Ic=[];this.sd=this.hb=this.Qh=this.Jk="";this.Pg=this.Qn=!1;this.gj=this.yg=this.kd=this.xe=0;this.Cf=1;this.Rb=new $a;this.ad=new $a;this.Lh=0;this.Xm=!0;this.ai=this.ph=this.Vf=this.yd=this.Ie=this.wj=0;this.Of=null;this.mj=[];this.oj=[];this.kh=-1;this.gk=[[]];this.Tk=this.Wh=0;this.ji(null);this.ik=[];this.Xh=-1;this.Wf=this.bn=this.Bg=0;this.Qg=[];this.Ai=this.li=-1;this.lg=!0;this.Uh=0;this.gg=!1;this.ts=0;this.Xe=null;this.br=!1;this.$j=0;this.Pc=this.Jj=this.zk=!1;this.gn=
new ea;this.ok=new ea;this.hn=new ea;this.bs=[];new bb([]);new bb([]);this.We=[];this.xh={};this.Ye={};this.Ve={};this.Gf={};this.ul={};this.Em=this.Ph=this.Cb=this.Sb=this.Dm=this.Oh=this.ea=null;this.Ef=this.Xj=!1;this.yj=[null,null];this.ze=0;this.tj="";this.$d={};this.ti=this.nf=null;this.$h=[];this.cs()}}function n(c){c.target.result.createObjectStore("saves",{keyPath:"slot"})}function r(c,b,a,d){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=n;e.onerror=d;e.onsuccess=function(e){e=
e.target.result;e.onerror=d;e.transaction(["saves"],"readwrite").objectStore("saves").put({slot:c,data:b}).onsuccess=a}}function g(c,b,a){var d=indexedDB.open("_C2SaveStates");d.onupgradeneeded=n;d.onerror=a;d.onsuccess=function(d){d=d.target.result;d.onerror=a;var e=d.transaction(["saves"]).objectStore("saves").get(c);e.onsuccess=function(){e.result?b(e.result.data):b(null)}}}function f(){H("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?
window.location.reload(!0):window.location+="?continuous"}function l(c){var b,a={};for(b in c)!c.hasOwnProperty(b)||c[b]instanceof ea||c[b]&&"undefined"!==typeof c[b].Nt||(a[b]=c[b]);return a}a.prototype.cs=function(){var c=this,b;b=this.gf?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var a="data.js";if(this.vm||this.gf||this.Wj)a="data.json";b.open("GET",a,!0);var d=!1;if(!this.Na&&"response"in b&&"responseType"in b)try{b.responseType="json",d="json"===b.responseType}catch(e){d=!1}if(!d&&
"responseType"in b)try{b.responseType="text"}catch(f){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(m){}this.gf?b.onreadystatechange=function(){4===b.readyState&&c.Sh(JSON.parse(b.responseText))}:(b.onload=function(){if(d)c.Sh(b.response);else if(c.uc){var a=b.responseText,a=a.substr(a.indexOf("{"));c.Sh(JSON.parse(a))}else c.Sh(JSON.parse(b.responseText))},b.onerror=function(c){ga("Error requesting "+a+":");ga(c)});b.send()};a.prototype.hr=function(){var c=
this,b,a,d,e,f,m,h,l,t;this.devicePixelRatio=(this.ff=(!this.Na||this.uc)&&this.Gs&&!this.Dh)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.$a();a=!(!this.uq&&(!this.Si||this.Td||this.um||this.gf||this.fg||this.Rd||this.om));0<this.yb&&this.setSize(k(),q(),!0);try{this.Sp&&(this.tc||this.uc||!this.Na)&&(b={alpha:a,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.j=this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",
b))}catch(g){}if(this.j){this.Na||(this.Xa=document.createElement("canvas"),jQuery(this.Xa).appendTo(this.canvas.parentNode),this.Xa.oncontextmenu=function(){return!1},this.Xa.onselectstart=function(){return!1},this.Xa.width=this.bh,this.Xa.height=this.ah,jQuery(this.Xa).css({width:this.bh+"px",height:this.ah+"px"}),this.xn(),this.uk=this.Xa.getContext("2d"));this.p=new jb(this.j,this.Qc);this.p.he(this.canvas.width,this.canvas.height);this.p.Ml=0!==this.Np;this.aa=null;this.canvas.addEventListener("webglcontextlost",
function(b){b.preventDefault();c.Dr();H("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){c.p.km();c.p.he(c.p.width,c.p.height,!0);c.Sb=null;c.Cb=null;c.yj[0]=null;c.yj[1]=null;c.Er();c.ba=!0;H("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);b=0;for(a=this.k.length;b<a;b++)for(f=this.k[b],d=0,e=f.C.length;d<e;d++)h=f.C[d],h.Ya=this.p.Fj(h.id),this.Ef=this.Ef||this.p.Fg(h.Ya);b=0;for(a=this.xc.length;b<
a;b++){l=this.xc[b];d=0;for(e=l.C.length;d<e;d++)h=l.C[d],h.Ya=this.p.Fj(h.id);d=0;for(e=l.I.length;d<e;d++)for(t=l.I[d],f=0,m=t.C.length;f<m;f++)h=t.C[f],h.Ya=this.p.Fj(h.id),this.Ef=this.Ef||this.p.Fg(h.Ya)}}else{if(0<this.yb&&this.lb){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.aa=AppMobi.canvas.getContext("2d");try{this.aa.samplingMode=this.T?"smooth":"sharp",this.aa.globalScale=1,this.aa.HTML5CompatibilityMode=!0,this.aa.imageSmoothingEnabled=
this.T}catch(w){}0!==this.width&&0!==this.height&&(this.aa.width=this.width,this.aa.height=this.height)}this.aa||(b=this.tc?{antialias:!!this.T,alpha:a}:{alpha:a},this.aa=this.canvas.getContext("2d",b),this.aa.webkitImageSmoothingEnabled=this.T,this.aa.mozImageSmoothingEnabled=this.T,this.aa.msImageSmoothingEnabled=this.T,this.aa.imageSmoothingEnabled=this.T);this.uk=this.Xa=null}this.yi=function(){c.jb(!1)};window==window.top||this.Na||this.um||this.gf||(document.addEventListener("mousedown",function(){window.focus()},
!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.tc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(H("Reloading for continuous preview"),this.Qh="__c2_continuouspreview",this.Pg=!0),this.Or&&!this.Qc&&(jQuery(window).focus(function(){c.setSuspended(!1)}),jQuery(window).blur(function(){c.setSuspended(!0)})));this.Na||(b=function(c){if(ib(c)&&document.activeElement&&
document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.yb&&this.ff&&1<this.devicePixelRatio&&this.setSize(this.Ja,this.Ia,!0);this.eo();this.Zq();this.go();this.na={}};
a.prototype.setSize=function(c,b,a){var d=0,e=0,f=0,m=0,m=0,h=this.rr&&this.rm&&!navigator.standalone&&!this.Na&&!this.Rd;h&&(b+=60);if(this.pg!==c||this.ng!==b||a){this.pg=c;this.ng=b;var l=this.yb,t=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.gg)&&!this.Rd;if(t||0!==this.yb||a)t&&0<this.ze&&(l=this.ze),a=this.devicePixelRatio,4<=l?(f=this.Ja/this.Ia,c/b>f?(f*=b,5===l?(m=f*a/this.Ja,1<m?m=Math.floor(m):1>m&&(m=1/Math.ceil(1/m)),
f=this.Ja*m/a,m=this.Ia*m/a,d=(c-f)/2,e=(b-m)/2,c=f,b=m):(d=(c-f)/2,c=f)):(m=c/f,5===l?(m=m*a/this.Ia,1<m?m=Math.floor(m):1>m&&(m=1/Math.ceil(1/m)),f=this.Ja*m/a,m=this.Ia*m/a,d=(c-f)/2,e=(b-m)/2,c=f):e=(b-m)/2,b=m),t&&!this.Td&&(e=d=0)):this.Td&&this.gg&&0===this.Wl&&(d=Math.floor((c-this.Ja)/2),e=Math.floor((b-this.Ia)/2),c=this.Ja,b=this.Ia),2>l&&(this.Lf=a),this.ff&&this.xm&&1<a&&(1024<=c&&(c=1023),1024<=b&&(b=1023)),this.bh=Math.round(c),this.ah=Math.round(b),this.width=Math.round(c*a),this.height=
Math.round(b*a),this.ba=!0,this.po?(this.H=this.width,this.G=this.height,this.hc=!0):this.width<this.Ja&&this.height<this.Ia||1===l?(this.H=this.width,this.G=this.height,this.hc=!0):(this.H=this.Ja,this.G=this.Ia,this.hc=!1,2===l?(f=this.Ja/this.Ia,l=this.pg/this.ng,l<f?this.H=this.G*l:l>f&&(this.G=this.H/l)):3===l&&(f=this.Ja/this.Ia,l=this.pg/this.ng,l>f?this.H=this.G*l:l<f&&(this.G=this.H/l))),this.Bl&&!this.Na&&(jQuery(this.Bl).css({width:Math.round(c)+"px",height:Math.round(b)+"px","margin-left":Math.floor(d)+
"px","margin-top":Math.floor(e)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(c)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(c*a),this.canvas.height=Math.round(b*a),this.uc?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(e)+"px",this.canvas.style.width=Math.round(c)+"px",this.canvas.style.height=Math.round(b)+"px"):this.ff&&!this.Na&&jQuery(this.canvas).css({width:Math.round(c)+"px",height:Math.round(b)+
"px"})),this.Xa&&(this.Xa.width=Math.round(c),this.Xa.height=Math.round(b),jQuery(this.Xa).css({width:Math.round(c)+"px",height:Math.round(b)+"px"})),this.p&&this.p.he(Math.round(c*a),Math.round(b*a)),this.lb&&this.aa&&(this.aa.width=Math.round(c),this.aa.height=Math.round(b)),this.aa&&(this.aa.webkitImageSmoothingEnabled=this.T,this.aa.mozImageSmoothingEnabled=this.T,this.aa.msImageSmoothingEnabled=this.T,this.aa.imageSmoothingEnabled=this.T),this.eo(),this.Na||!h&&!this.Yj||window.setTimeout(function(){window.scrollTo(0,
1)},100)}};a.prototype.eo=function(){if(this.op&&0!==this.sk){var c="portrait";2===this.sk&&(c="landscape");screen.orientation&&screen.orientation.lock?screen.orientation.lock(c):screen.lockOrientation?screen.lockOrientation(c):screen.webkitLockOrientation?screen.webkitLockOrientation(c):screen.mozLockOrientation?screen.mozLockOrientation(c):screen.msLockOrientation&&screen.msLockOrientation(c)}};a.prototype.Dr=function(){this.p.vp();this.Xj=!0;var c,b,a;c=0;for(b=this.k.length;c<b;c++)a=this.k[c],
a.rk&&a.rk()};a.prototype.Er=function(){this.Xj=!1;var c,b,a;c=0;for(b=this.k.length;c<b;c++)a=this.k[c],a.ln&&a.ln()};a.prototype.xn=function(){if(!this.Na){var c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.gg)&&!this.Rd?jQuery(this.canvas).offset():jQuery(this.canvas).position();c.position="absolute";jQuery(this.Xa).css(c)}};var h=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||
window.oCancelAnimationFrame;a.prototype.setSuspended=function(c){var b;if(c&&!this.hg)for(H("[Construct 2] Suspending"),this.hg=!0,-1!==this.li&&h&&h(this.li),-1!==this.Ai&&clearTimeout(this.Ai),c=0,b=this.Qg.length;c<b;c++)this.Qg[c](!0);else if(!c&&this.hg){H("[Construct 2] Resuming");this.hg=!1;this.Lh=Wa();this.Ie=Wa();c=this.yg=this.ph=0;for(b=this.Qg.length;c<b;c++)this.Qg[c](!1);this.jb(!1)}};a.prototype.lp=function(c){this.Qg.push(c)};a.prototype.Fd=function(c){return this.$h[c]};a.prototype.Sh=
function(c){c&&c.project||ga("Project model unavailable");c=c.project;this.name=c[0];this.Sl=c[1];this.yb=c[12];this.Wl=c[12];this.Ja=c[10];this.Ia=c[11];this.tn=this.Ja/2;this.un=this.Ia/2;this.Na&&!this.uc&&(4<=c[12]||0===c[12])&&(H("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Wl=this.yb=3);this.Yk=c[18];this.sg=c[19];0===this.sg&&(this.nf=new Image,this.nf.src="loading-logo.png");this.Bg=c[21];this.$h=hc();this.Yc=new X(this);
var b,a,d,e,f,m,h,l,t;b=0;for(a=c[2].length;b<a;b++)h=c[2][b],d=this.Fd(h[0]),kb(h,d.prototype),t=new d(this),t.si=h[1],t.Ud=h[2],t.Zm=h[9],t.za&&t.za(),this.plugins.push(t);this.$h=hc();b=0;for(a=c[3].length;b<a;b++){h=c[3][b];f=this.Fd(h[1]);t=null;d=0;for(e=this.plugins.length;d<e;d++)if(this.plugins[d]instanceof f){t=this.plugins[d];break}var g=new t.oc(t);g.name=h[0];g.K=h[2];g.Rj=h[3].slice(0);g.Hs=h[3].length;g.pp=h[4];g.wq=h[5];g.L=h[11];g.K?(g.Zh=[],g.md=this.Wf++,g.fa=null):(g.Zh=null,g.md=
-1,g.fa=[]);g.lh=null;g.bf=null;g.Ol=null;g.Qb=!1;g.xb=null;h[6]?(g.Wn=h[6][0],g.Xn=h[6][1],g.xs=h[6][2]):(g.Wn=null,g.Xn=0,g.xs=0);g.ub=h[7]?h[7]:null;g.index=b;g.d=[];g.gh=[];g.ke=[new lb(g)];g.hd=0;g.fc=null;g.Bp=0;g.Bf=!0;g.Ei=mb;g.Dq=nb;g.Iq=pb;g.Y=qb;g.Hg=rb;g.Ig=sb;g.de=tb;g.rh=ub;g.zj=vb;g.Bj=wb;g.cd=xb;g.cm=yb;g.Dl=new cb(this.Ja,this.Ia);g.nl=!0;g.ol=!1;g.na={};g.toString=zb;g.ta=[];d=0;for(e=h[8].length;d<e;d++){l=h[8][d];var w=this.Fd(l[1]),n=null;f=0;for(m=this.ta.length;f<m;f++)if(this.ta[f]instanceof
w){n=this.ta[f];break}n||(n=new w(this),n.$m=[],n.mk=new ea,n.za&&n.za(),this.ta.push(n));-1===n.$m.indexOf(g)&&n.$m.push(g);f=new n.oc(n,g);f.name=l[0];f.L=l[2];f.za();g.ta.push(f)}g.global=h[9];g.Uj=h[10];g.C=[];d=0;for(e=h[12].length;d<e;d++)g.C.push({id:h[12][d][0],name:h[12][d][1],Ya:-1,Ib:!0,index:d});g.$t=h[13];this.Yk&&!g.K&&!g.Uj&&t.Ud||g.za();g.name&&(this.types[g.name]=g);this.k.push(g);t.si&&(d=new t.sb(g),d.uid=this.Bg++,d.Bn=this.bn++,d.De=0,d.$f=Ab,d.toString=Bb,d.V=h[14],d.za(),g.d.push(d),
this.$d[d.uid.toString()]=d)}b=0;for(a=c[4].length;b<a;b++)for(f=c[4][b],m=this.k[f[0]],d=1,e=f.length;d<e;d++)h=this.k[f[d]],h.fa.push(m),m.Zh.push(h);b=0;for(a=c[27].length;b<a;b++){f=c[27][b];m=[];d=0;for(e=f.length;d<e;d++)m.push(this.k[f[d]]);d=0;for(e=m.length;d<e;d++)m[d].Qb=!0,m[d].xb=m}if(0<this.Wf)for(b=0,a=this.k.length;b<a;b++)if(h=this.k[b],!h.K&&h.fa.length){h.lh=Array(this.Wf);h.bf=Array(this.Wf);h.Ol=Array(this.Wf);g=[];d=n=w=l=0;for(e=h.fa.length;d<e;d++)for(t=h.fa[d],h.lh[t.md]=
l,l+=t.Hs,h.bf[t.md]=w,w+=t.pp,h.Ol[t.md]=n,n+=t.wq,f=0,m=t.C.length;f<m;f++)g.push(xa({},t.C[f]));h.C=g.concat(h.C);d=0;for(e=h.C.length;d<e;d++)h.C[d].index=d}b=0;for(a=c[5].length;b<a;b++)h=c[5][b],d=new Cb(this,h),this.bk[d.name]=d,this.xc.push(d);b=0;for(a=c[6].length;b<a;b++)h=c[6][b],d=new Db(this,h),this.pj[d.name]=d,this.ld.push(d);b=0;for(a=this.ld.length;b<a;b++)this.ld[b].ra();b=0;for(a=this.ld.length;b<a;b++)this.ld[b].mo();b=0;for(a=this.Di.length;b<a;b++)this.Di[b].ra();this.Di.length=
0;this.np=c[7];this.tj=c[8];this.be=c[9];this.Lf=1;this.Sp=c[13];this.T=c[14];this.Si=c[15];this.Gs=c[17];this.sk=c[20];this.op=0<this.sk;this.Or=c[22];this.hc=this.po=c[23];this.Np=c[24];this.Vr=c[25];this.vi=Date.now();this.$h.length=0;this.hr()};var e=!1;a.prototype.Js=function(c,b){c.cocoonLazyLoad=!0;c.onerror=function(b){e=c.xl=!0;console&&console.error&&console.error("Error loading image '"+c.src+"': ",b)};this.uc?c.src=b:c.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){c.src=
b},function(d){e=c.xl=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",d)}):c.src=b);this.Hf.push(c)};a.prototype.tq=function(c){var b,d;b=0;for(d=this.Hf.length;b<d;b++)if(this.Hf[b].xp===c)return this.Hf[b];return null};var b=0,d=!1;a.prototype.Zq=function(){this.Xe&&(b=this.Xe.rs(this.np))};a.prototype.pl=function(){var c=b,a=0,e=0,f=!0,m,h,e=0;for(m=this.Hf.length;e<m;e++){h=this.Hf[e];var g=h.wp;if(!g||0>=g)g=5E4;c+=g;h.src&&(h.complete||h.loaded)&&
!h.xl?a+=g:f=!1}f&&this.Vr&&this.Xe&&(d||(this.Xe.us(),d=!0),e=this.Xe.Jq(),a+=e,e<b&&(f=!1));this.Ne=0==c?0:a/c;return f};a.prototype.go=function(){if(this.aa||this.p){var c=this.aa||this.uk;this.Xa&&this.xn();this.Ne=0;this.Cm=-1;if(this.pl())this.$q();else{var b=Date.now()-this.vi;if(c){var d=this.width,a=this.height,f=this.devicePixelRatio;this.Xa&&(d=this.bh,a=this.ah,f=1);if(3!==this.sg&&(this.tc||500<=b&&this.Cm!=this.Ne)){c.clearRect(0,0,d,a);var b=d/2,a=a/2,d=0===this.sg&&this.nf.complete,
m=40*f,h=0,g=80*f,l;d&&(g=this.nf.width*f,l=this.nf.height*f,m=g/2,h=l/2,c.drawImage(this.nf,Q(b-m),Q(a-h),g,l));1>=this.sg?(b=Q(b-m)+.5,a=Q(a+(h+(d?12*f:0)))+.5,c.fillStyle=e?"red":"DodgerBlue",c.fillRect(b,a,Math.floor(g*this.Ne),6*f),c.strokeStyle="black",c.strokeRect(b,a,g,6*f),c.strokeStyle="white",c.strokeRect(b-1*f,a-1*f,g+2*f,8*f)):2===this.sg&&(c.font=this.uc?"12pt ArialMT":"12pt Arial",c.fillStyle=e?"#f00":"#999",c.Zt="middle",f=Math.round(100*this.Ne)+"%",d=c.measureText?c.measureText(f):
null,c.fillText(f,b-(d?d.width:0)/2,a))}this.Cm=this.Ne}setTimeout(function(c){return function(){c.go()}}(this),this.tc?10:100)}}};a.prototype.$q=function(){this.Xa&&(this.canvas.parentNode.removeChild(this.Xa),this.Xa=this.uk=null);this.vi=Date.now();this.Ie=Wa();var c,b,d;if(this.Yk)for(c=0,b=this.k.length;c<b;c++)d=this.k[c],d.K||d.Uj||!d.ka.Ud||d.za();else this.lg=!1;c=0;for(b=this.xc.length;c<b;c++)this.xc[c].yp();2<=this.yb&&(c=this.Ja/this.Ia,b=this.width/this.height,this.Lf=2!==this.yb&&b>
c||2===this.yb&&b<c?this.height/this.Ia:this.width/this.Ja);this.Sl?this.bk[this.Sl].Pk():this.xc[0].Pk();this.Yk||(this.Uh=1,this.trigger(X.prototype.n.hl,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();c=0;for(b=this.k.length;c<b;c++)d=this.k[c],d.Cr&&d.Cr();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.jb(!1);this.lb&&AppMobi.webview.execute("onGameReady();")};var t=window.requestAnimationFrame||
window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;a.prototype.jb=function(c){if(this.ea){var b=Wa();if(this.br&&this.zk&&29>b-this.$j)this.zk=!1,this.$j=b,t?this.li=t(this.yi,this.canvas):this.Ai=setTimeout(this.yi,this.Qc?1:16);else{this.zk=!0;this.$j=b;var d=this.yb,a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Rd;(a||this.gg)&&0<this.ze&&(d=this.ze);
0<d&&(!this.Hh||window.self!==window.top)&&(d=window.innerHeight,this.pg===window.innerWidth&&this.ng===d||this.setSize(k(),q()));this.Na||(a?(this.nh||(this.xj=jQuery(this.canvas).css("margin")||"0",this.nh=!0),this.eg||this.Td||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.nh?(this.eg||this.Td||jQuery(this.canvas).css("margin",this.xj),this.xj=
"",this.nh=!1,0===this.yb&&this.setSize(Math.round(this.kn/this.devicePixelRatio),Math.round(this.jn/this.devicePixelRatio),!0)):(this.kn=this.width,this.jn=this.height));this.lg&&(a=this.pl(),this.Uh=this.Ne,a&&(this.lg=!1,this.Ne=1,this.trigger(X.prototype.n.hl,null)));this.xr();!this.ba&&!this.tc||this.Xj||this.Pg||c||(this.ba=!1,this.p?this.sc():this.jd(),this.ti&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.ti[0],this.ti[1]),this.trigger(X.prototype.n.Ko,null)),this.ti=null));
this.Ut||(this.yd++,this.Vf++,this.ph++);this.yg+=Wa()-b;this.hg||c||(t?this.li=t(this.yi,this.canvas):this.Ai=setTimeout(this.yi,this.Qc?1:16))}}};a.prototype.xr=function(){var c,b,d,a,e,f,m,h,g;c=Wa();1E3<=c-this.Ie&&(this.Ie+=1E3,1E3<=c-this.Ie&&(this.Ie=c),this.wj=this.ph,this.ph=0,this.gj=this.yg,this.yg=0);this.Xm&&(0!==this.Lh&&(b=c-this.Lh,0!==b||this.jr?(this.kd=b/1E3,.5<this.kd?this.kd=0:.1<this.kd&&(this.kd=.1)):(10<=this.cu&&(this.Xm=!1),this.kd=1/60)),this.Lh=c);this.xe=this.kd*this.Cf;
this.Rb.add(this.xe);this.ad.add(this.kd);c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.gg)&&!this.Rd;2<=this.yb||c&&0<this.ze?(b=this.Ja/this.Ia,d=this.width/this.height,a=this.yb,c&&0<this.ze&&(a=this.ze),this.Lf=2!==a&&d>b||2===a&&d<b?this.height/this.Ia:this.width/this.Ja,this.ea&&(this.ea.Gn(this.ea.scrollX),this.ea.Hn(this.ea.scrollY))):this.Lf=this.ff?this.devicePixelRatio:1;this.$a();this.vc++;this.Yc.gs();this.vc--;this.$a();
this.vc++;d=this.gn.ne();c=0;for(b=d.length;c<b;c++)d[c].Wt();c=0;for(b=this.k.length;c<b;c++)if(m=this.k[c],!m.K&&(m.ta.length||m.fa.length))for(d=0,a=m.d.length;d<a;d++)for(h=m.d[d],e=0,f=h.F.length;e<f;e++)h.F[e].jb();c=0;for(b=this.k.length;c<b;c++)if(m=this.k[c],!m.K&&(m.ta.length||m.fa.length))for(d=0,a=m.d.length;d<a;d++)for(h=m.d[d],e=0,f=h.F.length;e<f;e++)g=h.F[e],g.Ur&&g.Ur();d=this.ok.ne();c=0;for(b=d.length;c<b;c++)d[c].jb();this.vc--;this.cr();for(c=0;this.Of&&10>c++;)this.Ll(this.Of);
c=0;for(b=this.ld.length;c<b;c++)this.ld[c].Mj=!1;this.ea.Tf&&this.ea.Tf.Ba();this.bs.length=0;this.vc++;c=0;for(b=this.k.length;c<b;c++)if(m=this.k[c],!m.K&&(m.ta.length||m.fa.length))for(d=0,a=m.d.length;d<a;d++)for(h=m.d[d],e=0,f=h.F.length;e<f;e++)g=h.F[e],g.Zn&&g.Zn();d=this.hn.ne();c=0;for(b=d.length;c<b;c++)d[c].Zn();this.vc--};a.prototype.Ll=function(c){var b=this.ea;this.ea.vs();var d,a,e,f,m,h,g;if(this.p)for(d=0,a=this.k.length;d<a;d++)m=this.k[d],m.K||!m.jo||m.global&&0!==m.d.length||
-1!==c.dg.indexOf(m)||m.jo();b==c&&(this.Yc.rb.length=0);c.Pk();d=0;for(a=this.k.length;d<a;d++)if(m=this.k[d],m.global||m.ka.si)for(c=0,b=m.d.length;c<b;c++)if(h=m.d[c],h.qk&&h.qk(),h.F)for(e=0,f=h.F.length;e<f;e++)g=h.F[e],g.qk&&g.qk();this.ba=!0;this.$a()};a.prototype.Sg=function(c){this.ok.add(c)};a.prototype.$l=function(c){return c&&-1!==c.Ag?this.kd*c.Ag:this.xe};a.prototype.jd=function(){this.ea.jd(this.aa);this.lb&&this.aa.present()};a.prototype.sc=function(){this.ea.sc(this.p);this.p.Xr()};
a.prototype.jp=function(c){c&&this.mj.push(c)};a.prototype.uh=function(c){c=c.toString();return this.$d.hasOwnProperty(c)?this.$d[c]:null};var m=[];a.prototype.oe=function(c){var b,d;b=c.type.name;var a=null;if(this.ve.hasOwnProperty(b)){if(a=this.ve[b],a.contains(c))return}else a=m.length?m.pop():new ea,this.ve[b]=a;a.add(c);this.Qd=!0;if(c.Qb)for(b=0,d=c.siblings.length;b<d;b++)this.oe(c.siblings[b]);this.Tj&&a.Ff.push(c);this.vc++;this.trigger(Object.getPrototypeOf(c.type.ka).n.Lo,c);this.vc--};
a.prototype.$a=function(){if(this.Qd){var c,b,d,a,e,f;this.Tj=!0;d=0;for(e=this.Ic.length;d<e;++d)for(c=this.Ic[d],b=c.type,b.d.push(c),a=0,f=b.fa.length;a<f;++a)b.fa[a].d.push(c),b.fa[a].Bf=!0;this.Ic.length=0;this.Fo();Va(this.ve);this.Qd=this.Tj=!1}};a.prototype.Fo=function(){for(var c in this.ve)this.ve.hasOwnProperty(c)&&this.uo(this.ve[c])};a.prototype.uo=function(c){var b=c.ne(),d=b[0].type,a,e,f,h,g,l;Xa(d.d,c);d.Bf=!0;0===d.d.length&&(d.ol=!1);a=0;for(e=d.fa.length;a<e;++a)l=d.fa[a],Xa(l.d,
c),l.Bf=!0;a=0;for(e=this.Yc.rb.length;a<e;++a)if(g=this.Yc.rb[a],g.ib.hasOwnProperty(d.index)&&Xa(g.ib[d.index].qd,c),!d.K)for(f=0,h=d.fa.length;f<h;++f)l=d.fa[f],g.ib.hasOwnProperty(l.index)&&Xa(g.ib[l.index].qd,c);if(g=b[0].e){if(g.Ec)for(f=g.d,a=0,e=f.length;a<e;++a)h=f[a],c.contains(h)&&(h.Va(),g.Fb.update(h,h.nb,null),h.nb.set(0,0,-1,-1));Xa(g.d,c);g.Mg(0)}for(a=0;a<b.length;++a)this.to(b[a],d);c.clear();m.push(c);this.ba=!0};a.prototype.to=function(c,b){var d,a,e;d=0;for(a=this.mj.length;d<
a;++d)this.mj[d](c);c.Ld&&b.Dl.update(c,c.Ld,null);(d=c.e)&&d.xf(c,!0);if(c.F)for(d=0,a=c.F.length;d<a;++d)e=c.F[d],e.Cg&&e.Cg(),e.behavior.mk.remove(c);this.gn.remove(c);this.ok.remove(c);this.hn.remove(c);c.Cg&&c.Cg();this.$d.hasOwnProperty(c.uid.toString())&&delete this.$d[c.uid.toString()];this.ai--;100>b.gh.length&&b.gh.push(c)};a.prototype.Gl=function(c,b,d,a){if(c.K){var e=Q(Math.random()*c.Zh.length);return this.Gl(c.Zh[e],b,d,a)}return c.fc?this.Md(c.fc,b,!1,d,a,!1):null};var w=[];a.prototype.Md=
function(c,b,d,a,e,f){var m,h,g,l;if(!c)return null;var t=this.k[c[1]],n=t.ka.Ud;if(this.lg&&n&&!t.Uj||n&&!this.p&&11===c[0][11])return null;var k=b;n||(b=null);var s;t.gh.length?(s=t.gh.pop(),s.Tb=!0,t.ka.sb.call(s,t)):(s=new t.ka.sb(t),s.Tb=!1);s.uid=d&&!f?c[2]:this.Bg++;this.$d[s.uid.toString()]=s;s.Bn=this.bn++;s.De=t.d.length;m=0;for(h=this.Ic.length;m<h;++m)this.Ic[m].type===t&&s.De++;s.$f=Ab;s.toString=Bb;g=c[3];if(s.Tb)Va(s.na);else{s.na={};if("undefined"!==typeof cr_is_preview)for(s.nm=[],
s.nm.length=g.length,m=0,h=g.length;m<h;m++)s.nm[m]=g[m][1];s.Ga=[];s.Ga.length=g.length}m=0;for(h=g.length;m<h;m++)s.Ga[m]=g[m][0];if(n){var q=c[0];s.x=ja(a)?q[0]:a;s.y=ja(e)?q[1]:e;s.z=q[2];s.width=q[3];s.height=q[4];s.depth=q[5];s.i=q[6];s.opacity=q[7];s.Ab=q[8];s.Bb=q[9];s.kb=q[10];m=q[11];!this.p&&t.C.length&&(s.kb=m);s.Qf=eb(s.kb);this.j&&fb(s,s.kb,this.j);if(s.Tb){m=0;for(h=q[12].length;m<h;m++)for(g=0,l=q[12][m].length;g<l;g++)s.ja[m][g]=q[12][m][g];s.ab.set(0,0,0,0);s.Ld.set(0,0,-1,-1);s.nb.set(0,
0,-1,-1);s.te.ri(s.ab);s.Xi.length=0}else{s.ja=q[12].slice(0);m=0;for(h=s.ja.length;m<h;m++)s.ja[m]=q[12][m].slice(0);s.O=[];s.Gd=[];s.Gd.length=t.C.length;s.ab=new T(0,0,0,0);s.Ld=new T(0,0,-1,-1);s.nb=new T(0,0,-1,-1);s.te=new wa;s.Xi=[];s.La=Eb;s.Mt=Fb;s.$b=Gb;s.Va=Hb;s.Fs=Ib;s.bu=Jb;s.Nc=Kb}s.zs=!1;s.Bs=0;s.As=0;s.ys=null;14===q.length&&(s.zs=!0,s.Bs=q[13][0],s.As=q[13][1],s.ys=q[13][2]);m=0;for(h=t.C.length;m<h;m++)s.Gd[m]=!0;s.Bd=Lb;s.Bd();s.oo=!!s.O.length;s.Wi=!0;s.bj=!0;t.nl=!0;s.visible=
!0;s.Ag=-1;s.e=b;s.Fc=b.d.length;"undefined"===typeof s.Hc&&(s.Hc=null);this.ba=s.Pf=!0}var r;m=w.length=0;for(h=t.fa.length;m<h;m++)w.push.apply(w,t.fa[m].ta);w.push.apply(w,t.ta);if(s.Tb)for(m=0,h=w.length;m<h;m++){var E=w[m];r=s.F[m];r.Tb=!0;E.behavior.sb.call(r,E,s);q=c[4][m];g=0;for(l=q.length;g<l;g++)r.V[g]=q[g];r.za();E.behavior.mk.add(s)}else for(s.F=[],m=0,h=w.length;m<h;m++)E=w[m],r=new E.behavior.sb(E,s),r.Tb=!1,r.V=c[4][m].slice(0),r.za(),s.F.push(r),E.behavior.mk.add(s);q=c[5];if(s.Tb)for(m=
0,h=q.length;m<h;m++)s.V[m]=q[m];else s.V=q.slice(0);this.Ic.push(s);this.Qd=!0;b&&(b.Kf(s,!0),1!==b.td||1!==b.ud)&&(t.ol=!0);this.ai++;if(t.Qb){if(s.Qb=!0,s.Tb?s.siblings.length=0:s.siblings=[],!d&&!f){m=0;for(h=t.xb.length;m<h;m++)if(t.xb[m]!==t){if(!t.xb[m].fc)return null;s.siblings.push(this.Md(t.xb[m].fc,k,!1,n?s.x:a,n?s.y:e,!0))}m=0;for(h=s.siblings.length;m<h;m++)for(s.siblings[m].siblings.push(s),g=0;g<h;g++)m!==g&&s.siblings[m].siblings.push(s.siblings[g])}}else s.Qb=!1,s.siblings=null;s.za();
m=0;for(h=s.F.length;m<h;m++)s.F[m].Tr&&s.F[m].Tr();return s};a.prototype.Dj=function(c){var b,d;b=0;for(d=this.ea.I.length;b<d;b++){var a=this.ea.I[b];if(hb(a.name,c))return a}return null};a.prototype.Xf=function(c){c=Q(c);0>c&&(c=0);c>=this.ea.I.length&&(c=this.ea.I.length-1);return this.ea.I[c]};a.prototype.ej=function(c){var b,d;b=0;for(d=c.length;b<d;b++)c[b].Y().da=!0};a.prototype.Hg=function(c){var b,d;b=0;for(d=c.length;b<d;b++)c[b].Hg()};a.prototype.Ig=function(c){var b,d;b=0;for(d=c.length;b<
d;b++)c[b].Ig()};a.prototype.de=function(c){var b,d;b=0;for(d=c.length;b<d;b++)c[b].de()};a.prototype.ws=function(c,b,d){var a=c.Y(),e,m,f,h,g,l;if(a.da)for(a.da=!1,e=a.d.length=0,h=c.d.length;e<h;e++)f=c.d[e],f.Va(),g=f.e.wb(b,d,!0),l=f.e.wb(b,d,!1),f.$b(g,l)&&a.d.push(f);else{e=m=0;for(h=a.d.length;e<h;e++)f=a.d[e],f.Va(),g=f.e.wb(b,d,!0),l=f.e.wb(b,d,!1),f.$b(g,l)&&(a.d[m]=a.d[e],m++);a.d.length=m}c.cd();return a.Lj()};new wa;new T(0,0,0,0);a.prototype.fo=function(c,b){if(!b)return!1;var d,a,e,
m,f;d=0;for(a=c.ta.length;d<a;d++)if(c.ta[d].behavior instanceof b)return!0;if(!c.K)for(d=0,a=c.fa.length;d<a;d++)for(f=c.fa[d],e=0,m=f.ta.length;e<m;e++)if(f.ta[e].behavior instanceof b)return!0;return!1};a.prototype.ho=function(c){return this.fo(c,$b.lt)};a.prototype.Uk=function(c){return this.fo(c,$b.mt)};var s=-1;a.prototype.trigger=function(c,b,d){if(!this.ea)return!1;var a=this.ea.Tf;if(!a)return!1;var e=!1,m,f,h;s++;var g=a.kj;f=0;for(h=g.length;f<h;++f)m=this.bo(c,b,g[f],d),e=e||m;m=this.bo(c,
b,a,d);s--;return e||m};a.prototype.bo=function(c,b,d,a){var e=!1,m,f,h,g;if(b)for(h=this.Sk(c,b,b.type.name,d,a),e=e||h,g=b.type.fa,m=0,f=g.length;m<f;++m)h=this.Sk(c,b,g[m].name,d,a),e=e||h;else h=this.Sk(c,b,"system",d,a),e=e||h;return e};a.prototype.Sk=function(c,b,d,a,e){var m,f=!1,h=!1,h="undefined"!==typeof e,g=(h?a.Ql:a.co)[d];if(!g)return f;var l=null;a=0;for(m=g.length;a<m;++a)if(g[a].method==c){l=g[a].Uf;break}if(!l)return f;c=h?l[e]:l;if(!c)return null;a=0;for(m=c.length;a<m;a++)e=c[a][0],
h=c[a][1],h=this.rq(b,d,e,h),f=f||h;return f};a.prototype.rq=function(c,b,d,a){var e,m,f=!1;this.Tk++;var h=this.eb().bb;h&&this.Hg(h.ie);var g=1<this.Tk;this.Hg(d.ie);g&&this.Zr();var l=this.ji(d);l.bb=d;c&&(e=this.types[b].Y(),e.da=!1,e.d.length=1,e.d[0]=c,this.types[b].cd());c=!0;if(d.parent){b=l.Tn;for(e=d.parent;e;)b.push(e),e=e.parent;b.reverse();e=0;for(m=b.length;e<m;e++)if(!b[e].js()){c=!1;break}}c&&(this.Vf++,d.zc?d.hs(a):d.Ba(),f=f||l.He);this.ei();g&&this.Rr();this.de(d.ie);h&&this.de(h.ie);
this.Qd&&0===this.vc&&0===s&&!this.Vj&&this.$a();this.Tk--;return f};a.prototype.Bq=function(){var c=this.eb();return c.bb.Ea[c.ua]};a.prototype.Zr=function(){this.Wh++;this.Wh>=this.gk.length&&this.gk.push([])};a.prototype.Rr=function(){this.Wh--};a.prototype.Zl=function(){return this.gk[this.Wh]};a.prototype.ji=function(c){this.kh++;this.kh>=this.oj.length&&this.oj.push(new Mb);var b=this.eb();b.reset(c);return b};a.prototype.ei=function(){this.kh--};a.prototype.eb=function(){return this.oj[this.kh]};
a.prototype.$r=function(){this.Xh++;this.Xh>=this.ik.length&&this.ik.push(ba({name:void 0,index:0,Za:!1}));var c=this.Cq();c.name=void 0;c.index=0;c.Za=!1;return c};a.prototype.Sr=function(){this.Xh--};a.prototype.Cq=function(){return this.ik[this.Xh]};a.prototype.am=function(c,b){for(var d,a,e,m,f,h;b;){d=0;for(a=b.mc.length;d<a;d++)if(h=b.mc[d],h instanceof Nb&&hb(c,h.name))return h;b=b.parent}d=0;for(a=this.ld.length;d<a;d++)for(f=this.ld[d],e=0,m=f.Od.length;e<m;e++)if(h=f.Od[e],h instanceof Nb&&
hb(c,h.name))return h;return null};a.prototype.dm=function(c){var b,d;b=0;for(d=this.xc.length;b<d;b++)if(this.xc[b].L===c)return this.xc[b];return null};a.prototype.vh=function(c){var b,d;b=0;for(d=this.k.length;b<d;b++)if(this.k[b].L===c)return this.k[b];return null};a.prototype.Eq=function(c){var b,d;b=0;for(d=this.We.length;b<d;b++)if(this.We[b].L===c)return this.We[b];return null};a.prototype.cr=function(){var c=this,b=this.Jk,d=this.sd,a=this.Qh,e=!1;this.Qn&&(e=!0,b="__c2_continuouspreview",
this.Qn=!1);if(b.length){this.$a();d=this.ns();if(window.indexedDB&&!this.tc)r(b,d,function(){H("Saved state to IndexedDB storage ("+d.length+" bytes)");c.sd=d;c.trigger(X.prototype.n.Ni,null);c.sd="";e&&f()},function(a){try{localStorage.setItem("__c2save_"+b,d),H("Saved state to WebStorage ("+d.length+" bytes)"),c.sd=d,c.trigger(X.prototype.n.Ni,null),c.sd="",e&&f()}catch(m){H("Failed to save game state: "+a+"; "+m)}});else try{localStorage.setItem("__c2save_"+b,d),H("Saved state to WebStorage ("+
d.length+" bytes)"),c.sd=d,this.trigger(X.prototype.n.Ni,null),c.sd="",e&&f()}catch(m){H("Error saving to WebStorage: "+m)}this.hb=this.Qh=this.Jk=""}a.length&&(window.indexedDB&&!this.tc?g(a,function(b){b?(c.hb=b,H("Loaded state from IndexedDB storage ("+c.hb.length+" bytes)")):(c.hb=localStorage.getItem("__c2save_"+a)||"",H("Loaded state from WebStorage ("+c.hb.length+" bytes)"));c.Pg=!1;c.hb.length||c.trigger(X.prototype.n.Li,null)},function(){c.hb=localStorage.getItem("__c2save_"+a)||"";H("Loaded state from WebStorage ("+
c.hb.length+" bytes)");c.Pg=!1;c.hb.length||c.trigger(X.prototype.n.Li,null)}):(this.hb=localStorage.getItem("__c2save_"+a)||"",H("Loaded state from WebStorage ("+this.hb.length+" bytes)"),this.Pg=!1,c.hb.length||c.trigger(X.prototype.n.Li,null)),this.Jk=this.Qh="");this.hb.length&&(this.$a(),this.tr(this.hb),this.sd=this.hb,this.trigger(X.prototype.n.No,null),this.hb=this.sd="")};a.prototype.ns=function(){var c,b,d,a,e,m,f,h={c2save:!0,version:1,rt:{time:this.Rb.X,walltime:this.ad.X,timescale:this.Cf,
tickcount:this.yd,execcount:this.Vf,next_uid:this.Bg,running_layout:this.ea.L,start_time_offset:Date.now()-this.vi},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};c=0;for(b=this.k.length;c<b;c++)if(e=this.k[c],!e.K&&!this.ho(e)){m={instances:[]};Ua(e.na)&&(m.ex=l(e.na));d=0;for(a=e.d.length;d<a;d++)m.instances.push(this.Ik(e.d[d]));h.types[e.L.toString()]=m}c=0;for(b=this.xc.length;c<b;c++)d=this.xc[c],h.layouts[d.L.toString()]=d.Ub();a=h.events.groups;c=0;for(b=this.We.length;c<
b;c++)d=this.We[c],a[d.L.toString()]=this.xh[d.ag].wh;b=h.events.cnds;for(f in this.Ye)this.Ye.hasOwnProperty(f)&&(c=this.Ye[f],Ua(c.na)&&(b[f]={ex:l(c.na)}));b=h.events.acts;for(f in this.Ve)this.Ve.hasOwnProperty(f)&&(c=this.Ve[f],Ua(c.na)&&(b[f]={ex:c.na}));b=h.events.vars;for(f in this.Gf)this.Gf.hasOwnProperty(f)&&(c=this.Gf[f],c.Eh||c.parent&&!c.kg||(b[f]=c.data));h.system=this.Yc.Ub();return JSON.stringify(h)};a.prototype.Dn=function(){var c,b,d,a,e,m;this.$d={};c=0;for(b=this.k.length;c<b;c++)if(d=
this.k[c],!d.K)for(a=0,e=d.d.length;a<e;a++)m=d.d[a],this.$d[m.uid.toString()]=m};a.prototype.tr=function(c){c=JSON.parse(c);if(c.c2save&&!(1<c.version)){var b=c.rt;this.Rb.reset();this.Rb.X=b.time;this.ad.reset();this.ad.X=b.walltime||0;this.Cf=b.timescale;this.yd=b.tickcount;this.Vf=b.execcount;this.vi=Date.now()-b.start_time_offset;var d=b.running_layout;if(d!==this.ea.L)if(d=this.dm(d))this.Ll(d);else return;var a,e,m,f,h,g,l;g=c.types;for(e in g)if(g.hasOwnProperty(e)&&(f=this.vh(parseInt(e,
10)))&&!f.K&&!this.ho(f)){g[e].ex?f.na=g[e].ex:Va(f.na);h=f.d;m=g[e].instances;d=0;for(a=qa(h.length,m.length);d<a;d++)this.Rh(h[d],m[d]);d=m.length;for(a=h.length;d<a;d++)this.oe(h[d]);d=h.length;for(a=m.length;d<a;d++){h=null;if(f.ka.Ud&&(h=this.ea.sh(m[d].w.l),!h))continue;h=this.Md(f.fc,h,!1,0,0,!0);this.Rh(h,m[d])}f.Bf=!0}this.$a();this.Dn();a=c.layouts;for(e in a)a.hasOwnProperty(e)&&(d=this.dm(parseInt(e,10)))&&d.yc(a[e]);a=c.events.groups;for(e in a)a.hasOwnProperty(e)&&(d=this.Eq(parseInt(e,
10)))&&this.xh[d.ag]&&(this.xh[d.ag].wh=a[e]);d=c.events.cnds;for(e in d)d.hasOwnProperty(e)&&this.Ye.hasOwnProperty(e)&&(this.Ye[e].na=d[e].ex);d=c.events.acts;for(e in d)d.hasOwnProperty(e)&&this.Ve.hasOwnProperty(e)&&(this.Ve[e].na=d[e].ex);d=c.events.vars;for(e in d)d.hasOwnProperty(e)&&this.Gf.hasOwnProperty(e)&&(this.Gf[e].data=d[e]);this.Bg=b.next_uid;this.Yc.yc(c.system);d=0;for(a=this.k.length;d<a;d++)if(f=this.k[d],!f.K)for(e=0,c=f.d.length;e<c;e++){h=f.d[e];if(f.Qb)for(g=h.$f(),b=h.siblings.length=
0,m=f.xb.length;b<m;b++)l=f.xb[b],f!==l&&h.siblings.push(l.d[g]);h.Hd&&h.Hd();if(h.F)for(b=0,m=h.F.length;b<m;b++)g=h.F[b],g.Hd&&g.Hd()}this.ba=!0}};a.prototype.Ik=function(c,b){var d,a,e,m,f;m=c.type;e=m.ka;var h={};b?h.c2=!0:h.uid=c.uid;Ua(c.na)&&(h.ex=l(c.na));if(c.Ga&&c.Ga.length)for(h.ivs={},d=0,a=c.Ga.length;d<a;d++)h.ivs[c.type.Rj[d].toString()]=c.Ga[d];if(e.Ud){e={x:c.x,y:c.y,w:c.width,h:c.height,l:c.e.L,zi:c.Nc()};0!==c.i&&(e.a=c.i);1!==c.opacity&&(e.o=c.opacity);.5!==c.Ab&&(e.hX=c.Ab);.5!==
c.Bb&&(e.hY=c.Bb);0!==c.kb&&(e.bm=c.kb);c.visible||(e.v=c.visible);c.Pf||(e.ce=c.Pf);-1!==c.Ag&&(e.mts=c.Ag);if(m.C.length)for(e.fx=[],d=0,a=m.C.length;d<a;d++)f=m.C[d],e.fx.push({name:f.name,active:c.Gd[f.index],params:c.ja[f.index]});h.w=e}if(c.F&&c.F.length)for(h.behs={},d=0,a=c.F.length;d<a;d++)m=c.F[d],m.Ub&&(h.behs[m.type.L.toString()]=m.Ub());c.Ub&&(h.data=c.Ub());return h};a.prototype.Gq=function(c,b){var d,a;d=0;for(a=c.Rj.length;d<a;d++)if(c.Rj[d]===b)return d;return-1};a.prototype.Aq=function(c,
b){var d,a;d=0;for(a=c.F.length;d<a;d++)if(c.F[d].type.L===b)return d;return-1};a.prototype.Rh=function(c,b,d){var a,e,m,f,h;h=c.type;m=h.ka;if(d){if(!b.c2)return}else c.uid=b.uid;b.ex?c.na=b.ex:Va(c.na);if(e=b.ivs)for(a in e)e.hasOwnProperty(a)&&(d=this.Gq(h,parseInt(a,10)),0>d||d>=c.Ga.length||(c.Ga[d]=e[a]));if(m.Ud){m=b.w;c.e.L!==m.l&&(d=c.e,c.e=this.ea.sh(m.l),c.e?(d.xf(c,!0),c.e.Kf(c,!0),c.La(),c.e.Mg(0)):(c.e=d,this.oe(c)));c.x=m.x;c.y=m.y;c.width=m.w;c.height=m.h;c.Fc=m.zi;c.i=m.hasOwnProperty("a")?
m.a:0;c.opacity=m.hasOwnProperty("o")?m.o:1;c.Ab=m.hasOwnProperty("hX")?m.hX:.5;c.Bb=m.hasOwnProperty("hY")?m.hY:.5;c.visible=m.hasOwnProperty("v")?m.v:!0;c.Pf=m.hasOwnProperty("ce")?m.ce:!0;c.Ag=m.hasOwnProperty("mts")?m.mts:-1;c.kb=m.hasOwnProperty("bm")?m.bm:0;c.Qf=eb(c.kb);this.j&&fb(c,c.kb,this.j);c.La();if(m.hasOwnProperty("fx"))for(d=0,e=m.fx.length;d<e;d++)f=h.Bj(m.fx[d].name),0>f||(c.Gd[f]=m.fx[d].active,c.ja[f]=m.fx[d].params);c.Bd()}if(h=b.behs)for(a in h)h.hasOwnProperty(a)&&(m=this.Aq(c,
parseInt(a,10)),0>m||c.F[m].yc(h[a]));b.data&&c.yc(b.data)};Ob=function(c){return new a(document.getElementById(c))};Pb=function(c,b){return new a({dc:!0,width:c,height:b})};window.cr_createRuntime=Ob;window.cr_createDCRuntime=Pb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var c=document.createElement("screencanvas")||document.createElement("canvas");c.Yt=!0;document.body.appendChild(c);c=new a(c);window.c2runtime=c;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,
window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return c};window.createEjectaRuntime=function(){var c=new a(document.getElementById("canvas"));window.c2runtime=c;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return c}})();window.cr_getC2Runtime=function(){var k=document.getElementById("c2canvas");return k?k.c2runtime:window.c2runtime?window.c2runtime:null};
window.cr_sizeCanvas=function(k,q){if(0!==k&&0!==q){var a=window.cr_getC2Runtime();a&&a.setSize(k,q)}};window.cr_setSuspended=function(k){var q=window.cr_getC2Runtime();q&&q.setSuspended(k)};
(function(){function k(b,d){this.b=b;this.Tf=null;this.scrollX=this.b.Ja/2;this.scrollY=this.b.Ia/2;this.scale=1;this.i=0;this.cf=!0;this.name=d[0];this.width=d[1];this.height=d[2];this.io=d[3];this.On=d[4];this.L=d[5];var a=d[6],e,f;this.I=[];this.dg=[];e=0;for(f=a.length;e<f;e++){var h=new Qb(this,a[e]);h.dn=e;this.I.push(h)}a=d[7];this.Ee=[];e=0;for(f=a.length;e<f;e++){var h=a[e],c=this.b.k[h[1]];c.fc||(c.fc=h);this.Ee.push(h);-1===this.dg.indexOf(c)&&this.dg.push(c)}this.C=[];this.O=[];this.ja=
[];e=0;for(f=d[8].length;e<f;e++)this.C.push({id:d[8][e][0],name:d[8][e][1],Ya:-1,Ib:!0,index:e}),this.ja.push(d[8][e][2].slice(0));this.Bd();this.wf=new T(0,0,1,1);this.Ak=new T(0,0,1,1);this.ae={}}function q(b,d){return b.Fc-d.Fc}function a(b,d){this.Pa=b;this.b=b.b;this.d=[];this.scale=1;this.i=0;this.we=!1;this.zd=new T(0,0,0,0);this.$n=new wa;this.Ca=this.ma=this.Da=this.la=0;this.Re=!1;this.Dd=-1;this.name=d[0];this.index=d[1];this.L=d[2];this.visible=d[3];this.Id=d[4];this.Ad=d[5];this.td=
d[6];this.ud=d[7];this.opacity=d[8];this.vj=d[9];this.Ec=d[10];this.Ed=d[11];this.kb=d[12];this.Rp=d[13];this.Qf="source-over";this.cb=this.fb=0;this.Fb=null;this.mf=n();this.vd=!0;this.Kh=new T(0,0,-1,-1);this.cc=new T(0,0,-1,-1);this.Ec&&(this.Fb=new db(this.b.Ja,this.b.Ia));this.fe=!1;var a=d[14],e,f;this.df=[];e=0;for(f=a.length;e<f;e++){var h=a[e],c=this.b.k[h[1]];c.fc||(c.fc=h,c.Bp=this.index);this.df.push(h);-1===this.Pa.dg.indexOf(c)&&this.Pa.dg.push(c)}this.C=[];this.O=[];this.ja=[];e=0;
for(f=d[15].length;e<f;e++)this.C.push({id:d[15][e][0],name:d[15][e][1],Ya:-1,Ib:!0,index:e}),this.ja.push(d[15][e][2].slice(0));this.Bd();this.wf=new T(0,0,1,1);this.Ak=new T(0,0,1,1)}function n(){return l.length?l.pop():[]}function r(b){b.length=0;l.push(b)}k.prototype.ms=function(b){var d=b.type.L.toString();this.ae.hasOwnProperty(d)||(this.ae[d]=[]);this.ae[d].push(this.b.Ik(b))};k.prototype.hm=function(){var b=this.I[0];return!b.Ad&&1===b.opacity&&!b.vj&&b.visible};k.prototype.Bd=function(){this.O.length=
0;var b,d,a;b=0;for(d=this.C.length;b<d;b++)a=this.C[b],a.Ib&&this.O.push(a)};k.prototype.Aj=function(b){var d,a,e;d=0;for(a=this.C.length;d<a;d++)if(e=this.C[d],e.name===b)return e;return null};var g=[],f=!0;k.prototype.Pk=function(){this.On&&(this.Tf=this.b.pj[this.On],this.Tf.mo());this.b.ea=this;this.scrollX=this.b.Ja/2;this.scrollY=this.b.Ia/2;var b,d,a,e,h,l,c;b=0;for(a=this.b.k.length;b<a;b++)if(d=this.b.k[b],!d.K)for(h=d.d,d=0,e=h.length;d<e;d++)if(l=h[d],l.e){var p=l.e.dn;p>=this.I.length&&
(p=this.I.length-1);l.e=this.I[p];-1===l.e.d.indexOf(l)&&l.e.d.push(l);l.e.Re=!0}if(!f)for(b=0,a=this.I.length;b<a;++b)this.I[b].d.sort(q);g.length=0;this.qp();b=0;for(a=this.I.length;b<a;b++)l=this.I[b],l.zp(),l.Wk();h=!1;if(!this.cf){for(c in this.ae)if(this.ae.hasOwnProperty(c)&&(d=this.b.vh(parseInt(c,10)))&&!d.K&&this.b.Uk(d)){e=this.ae[c];b=0;for(a=e.length;b<a;b++){l=null;if(d.ka.Ud&&(l=this.sh(e[b].w.l),!l))continue;l=this.b.Md(d.fc,l,!1,0,0,!0);this.b.Rh(l,e[b]);h=!0;g.push(l)}e.length=0}b=
0;for(a=this.I.length;b<a;b++)this.I[b].d.sort(q),this.I[b].Re=!0}h&&(this.b.$a(),this.b.Dn());for(b=0;b<g.length;b++)if(l=g[b],l.type.Qb)for(a=l.$f(),d=0,e=l.type.xb.length;d<e;d++)c=l.type.xb[d],l.type!==c&&(c.d.length>a?l.siblings.push(c.d[a]):c.fc&&(h=this.b.Md(c.fc,l.e,!0,l.x,l.y,!0),this.b.$a(),c.Ei(),l.siblings.push(h),g.push(h)));b=0;for(a=this.Ee.length;b<a;b++)this.b.Md(this.Ee[b],null,!0);this.b.Of=null;this.b.$a();if(this.b.aa&&!this.b.Na)for(b=0,a=this.b.k.length;b<a;b++)c=this.b.k[b],
!c.K&&c.d.length&&c.yn&&c.yn(this.b.aa);b=0;for(a=g.length;b<a;b++)l=g[b],this.b.trigger(Object.getPrototypeOf(l.type.ka).n.Ji,l);g.length=0;this.b.trigger(X.prototype.n.gl,null);this.cf=!1};k.prototype.yp=function(){var b,d,a,e,f;d=b=0;for(a=this.Ee.length;b<a;b++)e=this.Ee[b],f=this.b.k[e[1]],f.global?this.b.Md(e,null,!0):(this.Ee[d]=e,d++);this.Ee.length=d};k.prototype.vs=function(){this.b.trigger(X.prototype.n.Mo,null);this.b.Yc.rb.length=0;var b,d,a,e,h,g;if(!this.cf)for(b=0,d=this.I.length;b<
d;b++)for(this.I[b].Xk(),h=this.I[b].d,a=0,e=h.length;a<e;a++)g=h[a],g.type.global||this.b.Uk(g.type)&&this.ms(g);b=0;for(d=this.I.length;b<d;b++){h=this.I[b].d;a=0;for(e=h.length;a<e;a++)g=h[a],g.type.global||this.b.oe(g);this.b.$a();h.length=0;this.I[b].Re=!0}b=0;for(d=this.b.k.length;b<d;b++)if(h=this.b.k[b],!(h.global||h.ka.Ud||h.ka.si||h.K)){a=0;for(e=h.d.length;a<e;a++)this.b.oe(h.d[a]);this.b.$a()}f=!1};new T(0,0,0,0);k.prototype.jd=function(b){var d,a=b,e=!1,f=!this.b.hc;f&&(this.b.Ph||(this.b.Ph=
document.createElement("canvas"),d=this.b.Ph,d.width=this.b.H,d.height=this.b.G,this.b.Em=d.getContext("2d"),e=!0),d=this.b.Ph,a=this.b.Em,d.width!==this.b.H&&(d.width=this.b.H,e=!0),d.height!==this.b.G&&(d.height=this.b.G,e=!0),e&&(a.webkitImageSmoothingEnabled=this.b.T,a.mozImageSmoothingEnabled=this.b.T,a.msImageSmoothingEnabled=this.b.T,a.imageSmoothingEnabled=this.b.T));a.globalAlpha=1;a.globalCompositeOperation="source-over";this.b.Si&&!this.hm()&&a.clearRect(0,0,this.b.H,this.b.G);var h,c,
e=0;for(h=this.I.length;e<h;e++)c=this.I[e],c.visible&&0<c.opacity&&11!==c.kb&&(c.d.length||!c.Ad)?c.jd(a):c.Wk();f&&b.drawImage(d,0,0,this.b.width,this.b.height)};k.prototype.sc=function(b){var d=0<this.O.length||this.b.Ef||!this.b.hc;if(d){this.b.Cb||(this.b.Cb=b.fd(this.b.H,this.b.G,this.b.T));if(this.b.Cb.Nf!==this.b.H||this.b.Cb.Mf!==this.b.G)b.deleteTexture(this.b.Cb),this.b.Cb=b.fd(this.b.H,this.b.G,this.b.T);b.Wc(this.b.Cb);this.b.hc||b.he(this.b.H,this.b.G)}else this.b.Cb&&(b.Wc(null),b.deleteTexture(this.b.Cb),
this.b.Cb=null);this.b.Si&&!this.hm()&&b.clear(0,0,0,0);var a,e,f;a=0;for(e=this.I.length;a<e;a++)f=this.I[a],f.visible&&0<f.opacity&&(f.d.length||!f.Ad)?f.sc(b):f.Wk();d&&(0===this.O.length||1===this.O.length&&this.b.hc?(1===this.O.length?(d=this.O[0].index,b.Xc(this.O[0].Ya),b.zf(null,1/this.b.H,1/this.b.G,0,0,1,1,this.scale,this.i,0,0,this.b.H/2,this.b.G/2,this.ja[d]),b.hi(this.O[0].Ya)&&(this.b.ba=!0)):b.Xc(0),this.b.hc||b.he(this.b.width,this.b.height),b.Wc(null),b.yf(1),b.Vb(this.b.Cb),b.In(),
b.Vc(),b.Zc(),d=this.b.width/2,a=this.b.height/2,b.ki(-d,a,d,a,d,-a,-d,-a),b.Vb(null)):this.Bk(b,null,null,null))};k.prototype.Yf=function(){return 0<this.O.length||this.b.Ef||!this.b.hc?this.b.Cb:null};k.prototype.em=function(){var b=this.I[0].Pb(),d,a,e;d=1;for(a=this.I.length;d<a;d++)e=this.I[d],(0!==e.td||0!==e.ud)&&e.Pb()<b&&(b=e.Pb());return b};k.prototype.Gn=function(b){if(!this.io){var d=1/this.em()*this.b.H/2;b>this.width-d&&(b=this.width-d);b<d&&(b=d)}this.scrollX!==b&&(this.scrollX=b,this.b.ba=
!0)};k.prototype.Hn=function(b){if(!this.io){var d=1/this.em()*this.b.G/2;b>this.height-d&&(b=this.height-d);b<d&&(b=d)}this.scrollY!==b&&(this.scrollY=b,this.b.ba=!0)};k.prototype.qp=function(){this.Gn(this.scrollX);this.Hn(this.scrollY)};k.prototype.Bk=function(b,d,a,e){var f=a?a.O:d?d.O:this.O,h=1,c=0,p=0,g=0,l=this.b.H,n=this.b.G;a?(h=a.e.Pb(),c=a.e.ya(),p=a.e.la,g=a.e.ma,l=a.e.Da,n=a.e.Ca):d&&(h=d.Pb(),c=d.ya(),p=d.la,g=d.ma,l=d.Da,n=d.Ca);var k=this.b.yj,q,r,G,y,L=0,sa=1,W,C=this.b.H,v=this.b.G,
ta=C/2,E=v/2,F=d?d.wf:this.wf,x=d?d.Ak:this.Ak,I=0,J=0,B=0,O=0,K=C,ha=C,M=v,la=v,da=G=0,pa=a?a.e.ya():0;if(a){q=0;for(r=f.length;q<r;q++)G+=b.Kq(f[q].Ya),da+=b.Lq(f[q].Ya);y=a.ab;I=d.Ha(y.left,y.top,!0);B=d.Ha(y.left,y.top,!1);K=d.Ha(y.right,y.bottom,!0);M=d.Ha(y.right,y.bottom,!1);0!==pa&&(q=d.Ha(y.right,y.top,!0),r=d.Ha(y.right,y.top,!1),J=d.Ha(y.left,y.bottom,!0),O=d.Ha(y.left,y.bottom,!1),y=Math.min(I,K,q,J),K=Math.max(I,K,q,J),I=y,y=Math.min(B,M,r,O),M=Math.max(B,M,r,O),B=y);I-=G;B-=da;K+=G;
M+=da;x.left=I/C;x.top=1-B/v;x.right=K/C;x.bottom=1-M/v;J=I=Q(I);O=B=Q(B);ha=K=ua(K);la=M=ua(M);J-=G;O-=da;ha+=G;la+=da;0>I&&(I=0);0>B&&(B=0);K>C&&(K=C);M>v&&(M=v);0>J&&(J=0);0>O&&(O=0);ha>C&&(ha=C);la>v&&(la=v);F.left=I/C;F.top=1-B/v;F.right=K/C;F.bottom=1-M/v}else F.left=x.left=0,F.top=x.top=0,F.right=x.right=1,F.bottom=x.bottom=1;da=a&&((a.i||pa)&&b.Fg(f[0].Ya)||0!==G||0!==da||1!==a.opacity||a.type.ka.Zm)||d&&!a&&1!==d.opacity;b.In();if(da){k[L]||(k[L]=b.fd(C,v,this.b.T));if(k[L].Nf!==C||k[L].Mf!==
v)b.deleteTexture(k[L]),k[L]=b.fd(C,v,this.b.T);b.Xc(0);b.Wc(k[L]);W=la-O;b.clearRect(J,v-O-W,ha-J,W);a?a.sc(b):(b.Vb(this.b.Sb),b.yf(d.opacity),b.Vc(),b.translate(-ta,-E),b.Zc(),b.ee(I,M,K,M,K,B,I,B,F));x.left=x.top=0;x.right=x.bottom=1;a&&(y=F.top,F.top=F.bottom,F.bottom=y);L=1;sa=0}b.yf(1);G=f.length-1;var pa=b.xk(f[G].Ya)||!d&&!a&&!this.b.hc,aa=0;q=0;for(r=f.length;q<r;q++){k[L]||(k[L]=b.fd(C,v,this.b.T));if(k[L].Nf!==C||k[L].Mf!==v)b.deleteTexture(k[L]),k[L]=b.fd(C,v,this.b.T);b.Xc(f[q].Ya);
aa=f[q].index;b.hi(f[q].Ya)&&(this.b.ba=!0);0!=q||da?(b.zf(e,1/C,1/v,x.left,x.top,x.right,x.bottom,h,c,p,g,(p+l)/2,(g+n)/2,a?a.ja[aa]:d?d.ja[aa]:this.ja[aa]),b.Vb(null),q!==G||pa?(b.Wc(k[L]),W=la-O,y=v-O-W,b.clearRect(J,y,ha-J,W)):(a?b.ge(a.fb,a.cb):d&&b.ge(d.fb,d.cb),b.Wc(e)),b.Vb(k[sa]),b.Vc(),b.translate(-ta,-E),b.Zc(),b.ee(I,M,K,M,K,B,I,B,F),q!==G||pa||b.Vb(null)):(b.Wc(k[L]),W=la-O,y=v-O-W,b.clearRect(J,y,ha-J,W),a?(b.zf(e,1/a.width,1/a.height,x.left,x.top,x.right,x.bottom,h,c,p,g,(p+l)/2,(g+
n)/2,a.ja[aa]),a.sc(b)):(b.zf(e,1/C,1/v,0,0,1,1,h,c,p,g,(p+l)/2,(g+n)/2,d?d.ja[aa]:this.ja[aa]),b.Vb(d?this.b.Sb:this.b.Cb),b.Vc(),b.translate(-ta,-E),b.Zc(),b.ee(I,M,K,M,K,B,I,B,F)),x.left=x.top=0,x.right=x.bottom=1,a&&!pa&&(y=M,M=B,B=y));L=0===L?1:0;sa=0===L?1:0}pa&&(b.Xc(0),a?b.ge(a.fb,a.cb):d?b.ge(d.fb,d.cb):this.b.hc||(b.he(this.b.width,this.b.height),ta=this.b.width/2,E=this.b.height/2,B=I=0,K=this.b.width,M=this.b.height),b.Wc(e),b.Vb(k[sa]),b.Vc(),b.translate(-ta,-E),b.Zc(),a&&1===f.length&&
!da?b.ee(I,B,K,B,K,M,I,M,F):b.ee(I,M,K,M,K,B,I,B,F),b.Vb(null))};k.prototype.sh=function(b){var a,e;a=0;for(e=this.I.length;a<e;a++)if(this.I[a].L===b)return this.I[a];return null};k.prototype.Ub=function(){var b,a,e,f={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.i,w:this.width,h:this.height,fv:this.cf,persist:this.ae,fx:[],layers:{}};b=0;for(a=this.C.length;b<a;b++)e=this.C[b],f.fx.push({name:e.name,active:e.Ib,params:this.ja[e.index]});b=0;for(a=this.I.length;b<a;b++)e=this.I[b],f.layers[e.L.toString()]=
e.Ub();return f};k.prototype.yc=function(b){var a,e,f,h;this.scrollX=b.sx;this.scrollY=b.sy;this.scale=b.s;this.i=b.a;this.width=b.w;this.height=b.h;this.ae=b.persist;"undefined"!==typeof b.fv&&(this.cf=b.fv);var g=b.fx;a=0;for(e=g.length;a<e;a++)if(f=this.Aj(g[a].name))f.Ib=g[a].active,this.ja[f.index]=g[a].params;this.Bd();a=b.layers;for(h in a)a.hasOwnProperty(h)&&(b=this.sh(parseInt(h,10)))&&b.yc(a[h])};Cb=k;a.prototype.Bd=function(){this.O.length=0;var b,a,e;b=0;for(a=this.C.length;b<a;b++)e=
this.C[b],e.Ib&&this.O.push(e)};a.prototype.Aj=function(b){var a,e,f;a=0;for(e=this.C.length;a<e;a++)if(f=this.C[a],f.name===b)return f;return null};a.prototype.zp=function(){var b,a,e,f,h,l;a=b=0;for(e=this.df.length;b<e;b++){f=this.df[b];h=this.b.k[f[1]];l=this.b.Uk(h);h=!0;if(!l||this.Pa.cf)f=this.b.Md(f,this,!0),g.push(f),f.type.global&&(h=!1);h&&(this.df[a]=this.df[b],a++)}this.df.length=a;this.b.$a();!this.b.p&&this.C.length&&(this.kb=this.Rp);this.Qf=eb(this.kb);this.b.j&&fb(this,this.kb,this.b.j);
this.vd=!0};a.prototype.xf=function(b,a){var e=Ba(this.d,b);0>e||(a&&this.Ec&&b.nb&&b.nb.right>=b.nb.left&&(b.Va(),this.Fb.update(b,b.nb,null),b.nb.set(0,0,-1,-1)),e===this.d.length-1?this.d.pop():(ya(this.d,e),this.Mg(e)),this.vd=!0)};a.prototype.Kf=function(b,a){b.Fc=this.d.length;this.d.push(b);a&&this.Ec&&b.nb&&b.La();this.vd=!0};a.prototype.Wr=function(b){this.d.unshift(b);this.Mg(0)};a.prototype.Br=function(b,a,e){var f=b.Nc();a=a.Nc();ya(this.d,f);f<a&&a--;e&&a++;a===this.d.length?this.d.push(b):
this.d.splice(a,0,b);this.Mg(f<a?f:a)};a.prototype.Mg=function(b){-1===this.Dd?this.Dd=b:b<this.Dd&&(this.Dd=b);this.vd=this.Re=!0};a.prototype.Xk=function(){if(this.Re){-1===this.Dd&&(this.Dd=0);var b,a,e;if(this.Ec)for(b=this.Dd,a=this.d.length;b<a;++b)e=this.d[b],e.Fc=b,this.Fb.yr(e.nb);else for(b=this.Dd,a=this.d.length;b<a;++b)this.d[b].Fc=b;this.Re=!1;this.Dd=-1}};a.prototype.Pb=function(b){return this.Hq()*(this.b.hc||b?this.b.Lf:1)};a.prototype.Hq=function(){return(this.scale*this.Pa.scale-
1)*this.Ed+1};a.prototype.ya=function(){return this.we?0:Ga(this.Pa.i+this.i)};var l=[],h=[],e=[];a.prototype.fm=function(){this.Xk();this.Fb.Cn(this.la,this.ma,this.Da,this.Ca,e);if(!e.length)return n();if(1===e.length){var b=n();za(b,e[0]);e.length=0;return b}for(var a=!0;1<e.length;){for(var b=e,f=void 0,m=void 0,g=void 0,l=void 0,c=void 0,f=0,m=b.length;f<m-1;f+=2){var g=b[f],l=b[f+1],c=n(),p=g,u=l,k=c,q=0,D=0,S=0,Y=p.length,G=u.length,y=void 0,L=void 0;for(k.length=Y+G;q<Y&&D<G;++S)y=p[q],L=
u[D],y.Fc<L.Fc?(k[S]=y,++q):(k[S]=L,++D);for(;q<Y;++q,++S)k[S]=p[q];for(;D<G;++D,++S)k[S]=u[D];a||(r(g),r(l));h.push(c)}1===m%2&&(a?(g=n(),za(g,b[m-1]),h.push(g)):h.push(b[m-1]));za(b,h);h.length=0;a=!1}b=e[0];e.length=0;return b};a.prototype.jd=function(b){this.fe=this.vj||1!==this.opacity||0!==this.kb;var a=this.b.canvas,e=b,f=!1;this.fe&&(this.b.Oh||(this.b.Oh=document.createElement("canvas"),a=this.b.Oh,a.width=this.b.H,a.height=this.b.G,this.b.Dm=a.getContext("2d"),f=!0),a=this.b.Oh,e=this.b.Dm,
a.width!==this.b.H&&(a.width=this.b.H,f=!0),a.height!==this.b.G&&(a.height=this.b.G,f=!0),f&&(e.webkitImageSmoothingEnabled=this.b.T,e.mozImageSmoothingEnabled=this.b.T,e.msImageSmoothingEnabled=this.b.T,e.imageSmoothingEnabled=this.b.T),this.Ad&&e.clearRect(0,0,this.b.H,this.b.G));e.globalAlpha=1;e.globalCompositeOperation="source-over";this.Ad||(e.fillStyle="rgb("+this.Id[0]+","+this.Id[1]+","+this.Id[2]+")",e.fillRect(0,0,this.b.H,this.b.G));e.save();this.we=!0;var f=this.wb(0,0,!0,!0),h=this.wb(0,
0,!1,!0);this.we=!1;this.b.be&&(f=Math.round(f),h=Math.round(h));this.Ek(f,h,e);var g=this.Pb();e.scale(g,g);e.translate(-f,-h);this.Ec?(this.cc.left=this.Fb.Gb(this.la),this.cc.top=this.Fb.Hb(this.ma),this.cc.right=this.Fb.Gb(this.Da),this.cc.bottom=this.Fb.Hb(this.Ca),this.vd||!this.cc.jh(this.Kh)?(r(this.mf),f=this.fm(),this.vd=!1,this.Kh.$g(this.cc)):f=this.mf):f=this.d;for(var c,p=null,h=0,g=f.length;h<g;++h)c=f[h],c!==p&&(this.Op(c,e),p=c);this.Ec&&(this.mf=f);e.restore();this.fe&&(b.globalCompositeOperation=
this.Qf,b.globalAlpha=this.opacity,b.drawImage(a,0,0))};a.prototype.Op=function(b,a){if(b.visible&&0!==b.width&&0!==b.height){b.Va();var e=b.ab;e.right<this.la||e.bottom<this.ma||e.left>this.Da||e.top>this.Ca||(a.globalCompositeOperation=b.Qf,b.jd(a))}};a.prototype.Wk=function(){this.we=!0;var b=this.wb(0,0,!0,!0),a=this.wb(0,0,!1,!0);this.we=!1;this.b.be&&(b=Math.round(b),a=Math.round(a));this.Ek(b,a,null)};a.prototype.Ek=function(b,a,e){var f=this.Pb();this.la=b;this.ma=a;this.Da=b+1/f*this.b.H;
this.Ca=a+1/f*this.b.G;b=this.ya();0!==b&&(e&&(e.translate(this.b.H/2,this.b.G/2),e.rotate(-b),e.translate(this.b.H/-2,this.b.G/-2)),this.zd.set(this.la,this.ma,this.Da,this.Ca),this.zd.offset((this.la+this.Da)/-2,(this.ma+this.Ca)/-2),this.$n.Mn(this.zd,b),this.$n.wl(this.zd),this.zd.offset((this.la+this.Da)/2,(this.ma+this.Ca)/2),this.la=this.zd.left,this.ma=this.zd.top,this.Da=this.zd.right,this.Ca=this.zd.bottom)};a.prototype.sc=function(b){var a=0,e=0;if(this.fe=this.vj||1!==this.opacity||0<
this.O.length||0!==this.kb){this.b.Sb||(this.b.Sb=b.fd(this.b.H,this.b.G,this.b.T));if(this.b.Sb.Nf!==this.b.H||this.b.Sb.Mf!==this.b.G)b.deleteTexture(this.b.Sb),this.b.Sb=b.fd(this.b.H,this.b.G,this.b.T);b.Wc(this.b.Sb);this.Ad&&b.clear(0,0,0,0)}this.Ad||b.clear(this.Id[0]/255,this.Id[1]/255,this.Id[2]/255,1);this.we=!0;var f=this.wb(0,0,!0,!0),a=this.wb(0,0,!1,!0);this.we=!1;this.b.be&&(f=Math.round(f),a=Math.round(a));this.Ek(f,a,null);f=this.Pb();b.Vc();b.scale(f,f);b.Fk(-this.ya());b.translate((this.la+
this.Da)/-2,(this.ma+this.Ca)/-2);b.Zc();this.Ec?(this.cc.left=this.Fb.Gb(this.la),this.cc.top=this.Fb.Hb(this.ma),this.cc.right=this.Fb.Gb(this.Da),this.cc.bottom=this.Fb.Hb(this.Ca),this.vd||!this.cc.jh(this.Kh)?(r(this.mf),a=this.fm(),this.vd=!1,this.Kh.$g(this.cc)):a=this.mf):a=this.d;var h,g,c=null,e=0;for(h=a.length;e<h;++e)g=a[e],g!==c&&(this.Pp(a[e],b),c=g);this.Ec&&(this.mf=a);this.fe&&(a=this.O.length?this.O[0].Ya:0,e=this.O.length?this.O[0].index:0,0===this.O.length||1===this.O.length&&
!b.xk(a)&&1===this.opacity?(1===this.O.length?(b.Xc(a),b.zf(this.Pa.Yf(),1/this.b.H,1/this.b.G,0,0,1,1,f,this.ya(),this.la,this.ma,(this.la+this.Da)/2,(this.ma+this.Ca)/2,this.ja[e]),b.hi(a)&&(this.b.ba=!0)):b.Xc(0),b.Wc(this.Pa.Yf()),b.yf(this.opacity),b.Vb(this.b.Sb),b.ge(this.fb,this.cb),b.Vc(),b.Zc(),f=this.b.H/2,a=this.b.G/2,b.ki(-f,a,f,a,f,-a,-f,-a),b.Vb(null)):this.Pa.Bk(b,this,null,this.Pa.Yf()))};a.prototype.Pp=function(b,a){if(b.visible&&0!==b.width&&0!==b.height){b.Va();var e=b.ab;e.right<
this.la||e.bottom<this.ma||e.left>this.Da||e.top>this.Ca||(b.oo?this.Qp(b,a):(a.Xc(0),a.ge(b.fb,b.cb),b.sc(a)))}};a.prototype.Qp=function(b,a){var e=b.O[0].Ya,f=b.O[0].index,h=this.Pb();if(1!==b.O.length||a.xk(e)||a.Yr(e)||(b.i||b.e.ya())&&a.Fg(e)||1!==b.opacity||b.type.ka.Zm)this.Pa.Bk(a,this,b,this.fe?this.b.Sb:this.Pa.Yf()),a.Vc(),a.scale(h,h),a.Fk(-this.ya()),a.translate((this.la+this.Da)/-2,(this.ma+this.Ca)/-2),a.Zc();else{a.Xc(e);a.ge(b.fb,b.cb);a.hi(e)&&(this.b.ba=!0);var g=0,c=0,p=0,l=0;
a.Fg(e)&&(e=b.ab,g=this.Ha(e.left,e.top,!0),c=this.Ha(e.left,e.top,!1),p=this.Ha(e.right,e.bottom,!0),e=this.Ha(e.right,e.bottom,!1),g/=windowWidth,c=1-c/windowHeight,p/=windowWidth,l=1-e/windowHeight);a.zf(this.fe?this.b.Sb:this.Pa.Yf(),1/b.width,1/b.height,g,c,p,l,h,this.ya(),this.la,this.ma,(this.la+this.Da)/2,(this.ma+this.Ca)/2,b.ja[f]);b.sc(a)}};a.prototype.wb=function(b,a,e,f){var h=this.b.devicePixelRatio;this.b.ff&&(b*=h,a*=h);var h=this.b.tn,g=this.b.un,h=(this.Pa.scrollX-h)*this.td+h,g=
(this.Pa.scrollY-g)*this.ud+g,c=h,p=g,l=1/this.Pb(!f);f?(c-=this.b.H*l/2,p-=this.b.G*l/2):(c-=this.b.width*l/2,p-=this.b.height*l/2);c+=b*l;p+=a*l;a=this.ya();0!==a&&(c-=h,p-=g,b=Math.cos(a),a=Math.sin(a),f=c*b-p*a,p=p*b+c*a,c=f+h,p+=g);return e?c:p};a.prototype.Ha=function(b,a,e){var f=this.b.tn,h=this.b.un,f=(this.Pa.scrollX-f)*this.td+f,g=(this.Pa.scrollY-h)*this.ud+h,h=f,c=g,p=this.ya();if(0!==p){b-=f;a-=g;var l=Math.cos(-p),p=Math.sin(-p),n=b*l-a*p;a=a*l+b*p;b=n+f;a+=g}f=1/this.Pb(!1);h-=this.b.H*
f/2;c-=this.b.G*f/2;h=(b-h)/f;return e?h:(a-c)/f};a.prototype.Ub=function(){var b,a,e,f={s:this.scale,a:this.i,vl:this.la,vt:this.ma,vr:this.Da,vb:this.Ca,v:this.visible,bc:this.Id,t:this.Ad,px:this.td,py:this.ud,o:this.opacity,zr:this.Ed,fx:[],instances:[]};b=0;for(a=this.C.length;b<a;b++)e=this.C[b],f.fx.push({name:e.name,active:e.Ib,params:this.ja[e.index]});return f};a.prototype.yc=function(b){var a,e;this.scale=b.s;this.i=b.a;this.la=b.vl;this.ma=b.vt;this.Da=b.vr;this.Ca=b.vb;this.visible=b.v;
this.Id=b.bc;this.Ad=b.t;this.td=b.px;this.ud=b.py;this.opacity=b.o;this.Ed=b.zr;var f=b.fx;b=0;for(a=f.length;b<a;b++)if(e=this.Aj(f[b].name))e.Ib=f[b].active,this.ja[e.index]=f[b].params;this.Bd();this.d.sort(q);this.Re=!0};Qb=a})();
(function(){function k(c,b){var a,e=c.length;switch(e){case 0:return!0;case 1:return c[0]===b[0];case 2:return c[0]===b[0]&&c[1]===b[1];default:for(a=0;a<e;a++)if(c[a]!==b[a])return!1;return!0}}function q(c,b){return c.index-b.index}function a(c){var b,a,e,d;2===c.length?c[0].index>c[1].index&&(b=c[0],c[0]=c[1],c[1]=b):2<c.length&&c.sort(q);c.length>=m.length&&(m.length=c.length+1);m[c.length]||(m[c.length]=[]);d=m[c.length];b=0;for(a=d.length;b<a;b++)if(e=d[b],k(c,e))return e;d.push(c);return c}
function n(c,b){this.b=c;this.co={};this.Ql={};this.Mj=!1;this.jm=new ea;this.kj=[];this.Ti=[];this.name=b[0];var a=b[1];this.Od=[];var e,d;e=0;for(d=a.length;e<d;e++)this.lm(a[e],null,this.Od)}function r(c){this.type=c;this.d=[];this.R=[];this.da=!0}function g(c,b,a){this.sheet=c;this.parent=b;this.b=c.b;this.W=[];this.ie=[];this.im=this.Bi=this.Rk=this.Pj=this.group=this.Ok=!1;this.Ea=[];this.pc=[];this.mc=[];this.ag="";this.wh=this.Pj=this.group=!1;this.Fl=null;a[1]&&(this.ag=a[1][1].toLowerCase(),
this.group=!0,this.Pj=!!a[1][0],this.Fl=[],this.wh=this.Pj,this.b.We.push(this),this.b.xh[this.ag]=this);this.zc=a[2];this.L=a[4];this.group||(this.b.ul[this.L.toString()]=this);var e=a[5];c=0;for(b=e.length;c<b;c++){var d=new Rb(this,e[c]);d.index=c;this.Ea.push(d);this.jl(d.type)}e=a[6];c=0;for(b=e.length;c<b;c++)d=new Sb(this,e[c]),d.index=c,this.pc.push(d);if(8===a.length)for(a=a[7],c=0,b=a.length;c<b;c++)this.sheet.lm(a[c],this,this.mc);this.Fh=!1;this.Ea.length&&(this.Fh=null==this.Ea[0].type&&
this.Ea[0].Wa==X.prototype.n.Ao)}function f(c,b){var a,e,d;if(c&&(-1===b.indexOf(c)&&b.push(c),c.Qb))for(a=0,e=c.xb.length;a<e;a++)d=c.xb[a],c!==d&&-1===b.indexOf(d)&&b.push(d)}function l(c,b){this.Jb=c;this.sheet=c.sheet;this.b=c.b;this.D=[];this.ca=[];this.na={};this.index=-1;this.If=!1;this.Wa=this.b.Fd(b[1]);this.trigger=0<b[3];this.Pl=2===b[3];this.Rc=b[4];this.Sj=b[5];this.sr=b[6];this.L=b[7];this.b.Ye[this.L.toString()]=this;-1===b[0]?(this.type=null,this.Ba=this.Hk,this.se=null,this.Yb=-1):
(this.type=this.b.k[b[0]],this.Ba=this.sr?this.ks:this.Gk,b[2]?(this.se=this.type.rh(b[2]),this.Yb=this.type.zj(b[2])):(this.se=null,this.Yb=-1),this.Jb.parent&&this.Jb.parent.qi());this.Pl&&(this.Ba=this.ls);if(10===b.length){var a,e,d=b[9];a=0;for(e=d.length;a<e;a++){var f=new Tb(this,d[a]);this.D.push(f)}this.ca.length=d.length}}function h(c,b){this.Jb=c;this.sheet=c.sheet;this.b=c.b;this.D=[];this.ca=[];this.na={};this.index=-1;this.If=!1;this.Wa=this.b.Fd(b[1]);-1===b[0]?(this.type=null,this.Ba=
this.Hk,this.se=null,this.Yb=-1):(this.type=this.b.k[b[0]],this.Ba=this.Gk,b[2]?(this.se=this.type.rh(b[2]),this.Yb=this.type.zj(b[2])):(this.se=null,this.Yb=-1));this.L=b[3];this.b.Ve[this.L.toString()]=this;if(6===b.length){var a,e,d=b[5];a=0;for(e=d.length;a<e;a++){var f=new Tb(this,d[a]);this.D.push(f)}this.ca.length=d.length}}function e(c,b){this.q=c;this.Jb=c.Jb;this.sheet=c.sheet;this.b=c.b;this.type=b[0];this.Kc=null;this.je=0;this.get=null;this.El=0;this.Pa=null;this.key=0;this.object=null;
this.index=0;this.Tg=this.Pe=this.Tg=this.Pe=this.Rl=this.ye=this.Ug=null;this.nc=!1;var a,e,d;switch(b[0]){case 0:case 7:this.Kc=new Ub(this,b[1]);this.je=0;this.get=this.Qq;break;case 1:this.Kc=new Ub(this,b[1]);this.je=0;this.get=this.Rq;break;case 5:this.Kc=new Ub(this,b[1]);this.je=0;this.get=this.Vq;break;case 3:case 8:this.El=b[1];this.get=this.Oq;break;case 6:this.Pa=this.b.bk[b[1]];this.get=this.Wq;break;case 9:this.key=b[1];this.get=this.Uq;break;case 4:this.object=this.b.k[b[1]];this.get=
this.Xq;this.Jb.jl(this.object);this.q instanceof Sb?this.Jb.qi():this.Jb.parent&&this.Jb.parent.qi();break;case 10:this.index=b[1];c.type.K?(this.get=this.Sq,this.nc=!0):this.get=this.Tq;break;case 11:this.Ug=b[1];this.ye=null;this.get=this.Pq;break;case 2:case 12:this.Rl=b[1];this.get=this.Nq;break;case 13:for(this.get=this.Yq,this.Pe=[],this.Tg=[],a=1,e=b.length;a<e;a++)d=new Tb(this.q,b[a]),this.Pe.push(d),this.Tg.push(0)}}function b(c,b,a){this.sheet=c;this.parent=b;this.b=c.b;this.W=[];this.name=
a[1];this.Gi=a[2];this.Bh=a[3];this.kg=!!a[4];this.Eh=!!a[5];this.L=a[6];this.b.Gf[this.L.toString()]=this;this.data=this.Bh;this.parent?(this.Le=this.kg||this.Eh?-1:this.b.ts++,this.b.mp.push(this)):(this.Le=-1,this.b.Ri.push(this))}function d(c,b,a){this.sheet=c;this.parent=b;this.b=c.b;this.W=[];this.cg=null;this.fr=a[1];this.Ib=!0}function t(){this.Tn=[];this.reset(null)}var m=[];n.prototype.toString=function(){return this.name};n.prototype.lm=function(c,b,a){switch(c[0]){case 0:c=new Vb(this,
b,c);if(c.zc)for(a.push(c),a=0,b=c.Ea.length;a<b;a++)c.Ea[a].trigger&&this.mm(c,a);else c.wm()?this.mm(c,0):a.push(c);break;case 1:c=new Nb(this,b,c);a.push(c);break;case 2:c=new Wb(this,b,c),a.push(c)}};n.prototype.ra=function(){var c,b;c=0;for(b=this.Od.length;c<b;c++)this.Od[c].ra(c<b-1&&this.Od[c+1].Fh)};n.prototype.mo=function(){this.kj.length=0;this.Ti.length=0;this.il(this);this.Ti.length=0};n.prototype.il=function(c){var b,a,e,d,f=c.kj,h=c.Ti,m=this.jm.ne();b=0;for(a=m.length;b<a;++b)e=m[b],
d=e.cg,!e.Ib||c===d||-1<h.indexOf(d)||(h.push(d),d.il(c),f.push(d))};n.prototype.Ba=function(c){this.b.Xt||(this.Mj=!0,c||(this.b.Vj=!0));var b,a;b=0;for(a=this.Od.length;b<a;b++){var e=this.Od[b];e.Ba();this.b.ej(e.W);this.b.Qd&&this.b.$a()}c||(this.b.Vj=!1)};n.prototype.mm=function(c,b){c.zc||this.b.Di.push(c);var a,e,d=c.Ea[b],f;f=d.type?d.type.name:"system";var h=(a=d.Pl)?this.Ql:this.co;h[f]||(h[f]=[]);f=h[f];h=d.Wa;if(a){if(d.D.length&&(d=d.D[0],1===d.type&&2===d.Kc.type)){d=d.Kc.value.toLowerCase();
a=0;for(e=f.length;a<e;a++)if(f[a].method==h){a=f[a].Uf;a[d]?a[d].push([c,b]):a[d]=[[c,b]];return}a={};a[d]=[[c,b]];f.push({method:h,Uf:a})}}else{a=0;for(e=f.length;a<e;a++)if(f[a].method==h){f[a].Uf.push([c,b]);return}Z&&h===Z.prototype.n.Ue?f.unshift({method:h,Uf:[[c,b]]}):f.push({method:h,Uf:[[c,b]]})}};Db=n;r.prototype.Lj=function(){return this.da?this.type.d.length:this.d.length};r.prototype.Mc=function(){return this.da?this.type.d:this.d};r.prototype.Eg=function(c){c&&(c.b.eb().bb.zc?(this.da&&
(this.d.length=0,za(this.R,c.type.d),this.da=!1),c=this.R.indexOf(c),-1!==c&&(this.d.push(this.R[c]),this.R.splice(c,1))):(this.da=!1,this.d.length=1,this.d[0]=c))};lb=r;window._c2hh_="";g.prototype.ra=function(c){var b,e=this.parent;if(this.group)for(this.Bi=!0;e;){if(!e.group){this.Bi=!1;break}e=e.parent}this.Rk=!this.wm()&&(!this.parent||this.parent.group&&this.parent.Bi);this.im=!!c;this.ie=this.W.slice(0);for(e=this.parent;e;){c=0;for(b=e.W.length;c<b;c++)this.kp(e.W[c]);e=e.parent}this.W=a(this.W);
this.ie=a(this.ie);c=0;for(b=this.Ea.length;c<b;c++)this.Ea[c].ra();c=0;for(b=this.pc.length;c<b;c++)this.pc[c].ra();c=0;for(b=this.mc.length;c<b;c++)this.mc[c].ra(c<b-1&&this.mc[c+1].Fh)};g.prototype.jl=function(c){f(c,this.W)};g.prototype.kp=function(c){f(c,this.ie)};g.prototype.qi=function(){this.Ok=!0;this.parent&&this.parent.qi()};g.prototype.wm=function(){return this.Ea.length?this.Ea[0].trigger:!1};g.prototype.Ba=function(){var c,b=!1,a,e=this.b,d=this.b.eb();d.bb=this;var f=this.Ea;this.Fh||
(d.nj=!1);if(this.zc){0===f.length&&(b=!0);d.ua=0;for(c=f.length;d.ua<c;d.ua++)f[d.ua].trigger||(a=f[d.ua].Ba())&&(b=!0);(d.He=b)&&this.ni()}else{d.ua=0;for(c=f.length;d.ua<c;d.ua++)if(a=f[d.ua].Ba(),!a){d.He=!1;this.Rk&&e.Qd&&e.$a();return}d.He=!0;this.ni()}this.Tp(d)};g.prototype.Tp=function(c){c.He&&this.im&&(c.nj=!0);this.Rk&&this.b.Qd&&this.b.$a()};g.prototype.hs=function(c){this.b.eb().bb=this;this.Ea[c].Ba()&&(this.ni(),this.b.eb().He=!0)};g.prototype.ni=function(){var c=this.b.eb(),b;c.tb=
0;for(b=this.pc.length;c.tb<b;c.tb++)if(this.pc[c.tb].Ba())return;this.Fn()};g.prototype.es=function(){var c=this.b.eb(),b;for(b=this.pc.length;c.tb<b;c.tb++)if(this.pc[c.tb].Ba())return;this.Fn()};g.prototype.Fn=function(){if(this.mc.length){var c,b,a,e,d=this.mc.length-1;this.b.ji(this);if(this.Ok)for(c=0,b=this.mc.length;c<b;c++)a=this.mc[c],(e=!this.Bi||!this.group&&c<d)&&this.b.Ig(a.W),a.Ba(),e?this.b.de(a.W):this.b.ej(a.W);else for(c=0,b=this.mc.length;c<b;c++)this.mc[c].Ba();this.b.ei()}};
g.prototype.js=function(){var c=this.b.eb();c.bb=this;var b=!1,a;c.ua=0;for(a=this.Ea.length;c.ua<a;c.ua++)if(this.Ea[c.ua].Ba())b=!0;else if(!this.zc)return!1;return this.zc?b:!0};g.prototype.Dk=function(){this.b.Vf++;var c=this.b.eb().ua,b=this.b.ji(this);if(!this.zc)for(b.ua=c+1,c=this.Ea.length;b.ua<c;b.ua++)if(!this.Ea[b.ua].Ba()){this.b.ei();return}this.ni();this.b.ei()};g.prototype.lr=function(c){var b=c.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Ea[b].type===c.type)return!1;return!0};
Vb=g;l.prototype.ra=function(){var c,b,a;c=0;for(b=this.D.length;c<b;c++)a=this.D[c],a.ra(),a.nc&&(this.If=!0)};l.prototype.ls=function(){return!0};l.prototype.Hk=function(){var c,b;c=0;for(b=this.D.length;c<b;c++)this.ca[c]=this.D[c].get();return Ta(this.Wa.apply(this.b.Yc,this.ca),this.Sj)};l.prototype.ks=function(){var c,b;c=0;for(b=this.D.length;c<b;c++)this.ca[c]=this.D[c].get();c=this.Wa.apply(this.se?this.se:this.type,this.ca);this.type.cd();return c};l.prototype.Gk=function(){var c,b,a,e,
d,f,h,m,g=this.type,l=g.Y(),n=this.Jb.zc&&!this.trigger;b=0;var k=g.Qb,q=g.K,s=g.md,w=this.Yb,t=-1<w,r=this.If,F=this.D,x=this.ca,I=this.Sj,J=this.Wa,B;if(r)for(b=0,d=F.length;b<d;++b)f=F[b],f.nc||(x[b]=f.get(0));else for(b=0,d=F.length;b<d;++b)x[b]=F[b].get(0);if(l.da){l.d.length=0;l.R.length=0;B=g.d;c=0;for(e=B.length;c<e;++c){m=B[c];if(r)for(b=0,d=F.length;b<d;++b)f=F[b],f.nc&&(x[b]=f.get(c));t?(b=0,q&&(b=m.type.bf[s]),b=J.apply(m.F[w+b],x)):b=J.apply(m,x);(h=Ta(b,I))?l.d.push(m):n&&l.R.push(m)}g.finish&&
g.finish(!0);l.da=!1;g.cd();return l.Lj()}a=0;B=(h=n&&!this.Jb.lr(this))?l.R:l.d;var O=!1;c=0;for(e=B.length;c<e;++c){m=B[c];if(r)for(b=0,d=F.length;b<d;++b)f=F[b],f.nc&&(x[b]=f.get(c));t?(b=0,q&&(b=m.type.bf[s]),b=J.apply(m.F[w+b],x)):b=J.apply(m,x);if(Ta(b,I))if(O=!0,h){if(l.d.push(m),k)for(b=0,d=m.siblings.length;b<d;b++)f=m.siblings[b],f.type.Y().d.push(f)}else{B[a]=m;if(k)for(b=0,d=m.siblings.length;b<d;b++)f=m.siblings[b],f.type.Y().d[a]=f;a++}else if(h){B[a]=m;if(k)for(b=0,d=m.siblings.length;b<
d;b++)f=m.siblings[b],f.type.Y().R[a]=f;a++}else if(n&&(l.R.push(m),k))for(b=0,d=m.siblings.length;b<d;b++)f=m.siblings[b],f.type.Y().R.push(f)}B.length=a;if(k)for(q=g.xb,c=0,e=q.length;c<e;c++)m=q[c].Y(),h?m.R.length=a:m.d.length=a;a=O;if(h&&!O)for(c=0,e=l.d.length;c<e;c++){m=l.d[c];if(r)for(b=0,d=F.length;b<d;b++)f=F[b],f.nc&&(x[b]=f.get(c));b=t?J.apply(m.F[w],x):J.apply(m,x);if(Ta(b,I)){O=!0;break}}g.finish&&g.finish(a||n);return n?O:l.Lj()};Rb=l;h.prototype.ra=function(){var b,a,d;b=0;for(a=this.D.length;b<
a;b++)d=this.D[b],d.ra(),d.nc&&(this.If=!0)};h.prototype.Hk=function(){var b,a;b=0;for(a=this.D.length;b<a;b++)this.ca[b]=this.D[b].get();return this.Wa.apply(this.b.Yc,this.ca)};h.prototype.Gk=function(){var b=this.type.Y().Mc(),a=this.type.K,d=this.type.md,e=this.Yb,f=-1<e,h=this.If,m=this.D,g=this.ca,l=this.Wa,n,k,q,s,w,t;if(h)for(k=0,s=m.length;k<s;++k)w=m[k],w.nc||(g[k]=w.get(0));else for(k=0,s=m.length;k<s;++k)g[k]=m[k].get(0);n=0;for(q=b.length;n<q;++n){t=b[n];if(h)for(k=0,s=m.length;k<s;++k)w=
m[k],w.nc&&(g[k]=w.get(n));f?(k=0,a&&(k=t.type.bf[d]),l.apply(t.F[e+k],g)):l.apply(t,g)}return!1};Sb=h;var w=[],s=-1;e.prototype.ra=function(){var b,a;if(11===this.type)this.ye=this.b.am(this.Ug,this.Jb.parent);else if(13===this.type)for(b=0,a=this.Pe.length;b<a;b++)this.Pe[b].ra();this.Kc&&this.Kc.ra()};e.prototype.Ar=function(b){this.nc||!b||b.ka.si||(this.nc=!0)};e.prototype.Kn=function(){this.nc=!0};e.prototype.Ka=function(){s++;w.length===s&&w.push(new Xb);return w[s]};e.prototype.Aa=function(){s--};
e.prototype.Qq=function(b){this.je=b||0;b=this.Ka();this.Kc.get(b);this.Aa();return b.data};e.prototype.Rq=function(b){this.je=b||0;b=this.Ka();this.Kc.get(b);this.Aa();return P(b.data)?b.data:""};e.prototype.Xq=function(){return this.object};e.prototype.Oq=function(){return this.El};e.prototype.Vq=function(b){this.je=b||0;b=this.Ka();this.Kc.get(b);this.Aa();return b.Oa()?this.b.Xf(b.data):this.b.Dj(b.data)};e.prototype.Wq=function(){return this.Pa};e.prototype.Uq=function(){return this.key};e.prototype.Tq=
function(){return this.index};e.prototype.Sq=function(b){b=b||0;var a=this.q.type,d=null,d=a.Y(),e=d.Mc();if(e.length)d=e[b%e.length].type;else if(d.R.length)d=d.R[b%d.R.length].type;else if(a.d.length)d=a.d[b%a.d.length].type;else return 0;return this.index+d.lh[a.md]};e.prototype.Pq=function(){return this.ye};e.prototype.Nq=function(){return this.Rl};e.prototype.Yq=function(){var b,a;b=0;for(a=this.Pe.length;b<a;b++)this.Tg[b]=this.Pe[b].get();return this.Tg};Tb=e;b.prototype.ra=function(){this.W=
a(this.W)};b.prototype.Oe=function(b){var a=this.b.Zl();this.parent&&!this.kg&&a?(this.Le>=a.length&&(a.length=this.Le+1),a[this.Le]=b):this.data=b};b.prototype.Zf=function(){var b=this.b.Zl();return!this.parent||this.kg||!b||this.Eh?this.data:this.Le>=b.length||"undefined"===typeof b[this.Le]?this.Bh:b[this.Le]};b.prototype.Ba=function(){!this.parent||this.kg||this.Eh||this.Oe(this.Bh)};Nb=b;d.prototype.toString=function(){return"include:"+this.cg.toString()};d.prototype.ra=function(){this.cg=this.b.pj[this.fr];
this.sheet.jm.add(this);this.W=a(this.W);for(var b=this.parent;b;)b.group&&b.Fl.push(this),b=b.parent;this.Cs()};d.prototype.Ba=function(){this.parent&&this.b.Hg(this.b.k);this.cg.Mj||this.cg.Ba(!0);this.parent&&this.b.de(this.b.k)};d.prototype.Cs=function(){for(var b=this.parent;b;){if(b.group&&!b.wh){this.Ib=!1;return}b=b.parent}this.Ib=!0};Wb=d;t.prototype.reset=function(b){this.bb=b;this.tb=this.ua=0;this.Tn.length=0;this.nj=this.He=!1};t.prototype.nr=function(){return this.bb.Ok?!0:this.ua<this.bb.Ea.length-
1?!!this.bb.W.length:!1};Mb=t})();
(function(){function k(a,n){this.q=a;this.b=a.b;this.type=n[0];this.get=[this.fq,this.aq,this.nq,this.qq,this.Vp,this.oq,this.jq,this.Yp,this.iq,this.mq,this.Wp,this.lq,this.Zp,this.kq,this.gq,this.hq,this.bq,this.cq,this.Xp,this.pq,this.Nl,this.dq,this.Nl,this.$p][this.type];var k=null;this.mb=this.D=this.ca=this.Wa=this.xi=this.Sa=this.first=this.value=null;this.Yb=-1;this.pd=null;this.Zk=-1;this.ye=this.Ug=null;this.Jg=!1;switch(this.type){case 0:case 1:case 2:this.value=n[1];break;case 3:this.first=
new Ub(a,n[1]);break;case 18:this.first=new Ub(a,n[1]);this.Sa=new Ub(a,n[2]);this.xi=new Ub(a,n[3]);break;case 19:this.Wa=this.b.Fd(n[1]);this.Wa!==X.prototype.Fa.random&&this.Wa!==X.prototype.Fa.up||this.q.Kn();this.ca=[];this.D=[];3===n.length?(k=n[2],this.ca.length=k.length+1):this.ca.length=1;break;case 20:this.mb=this.b.k[n[1]];this.Yb=-1;this.Wa=this.b.Fd(n[2]);this.Jg=n[3];Zb.Function&&this.Wa===Zb.Function.prototype.Fa.Ss&&this.q.Kn();this.pd=n[4]?new Ub(a,n[4]):null;this.ca=[];this.D=[];
6===n.length?(k=n[5],this.ca.length=k.length+1):this.ca.length=1;break;case 21:this.mb=this.b.k[n[1]];this.Jg=n[2];this.pd=n[3]?new Ub(a,n[3]):null;this.Zk=n[4];break;case 22:this.mb=this.b.k[n[1]];this.mb.rh(n[2]);this.Yb=this.mb.zj(n[2]);this.Wa=this.b.Fd(n[3]);this.Jg=n[4];this.pd=n[5]?new Ub(a,n[5]):null;this.ca=[];this.D=[];7===n.length?(k=n[6],this.ca.length=k.length+1):this.ca.length=1;break;case 23:this.Ug=n[1],this.ye=null}this.q.Ar(this.mb);4<=this.type&&17>=this.type&&(this.first=new Ub(a,
n[1]),this.Sa=new Ub(a,n[2]));if(k){var g,f;g=0;for(f=k.length;g<f;g++)this.D.push(new Ub(a,k[g]))}}function q(a,n){this.type=a||V.Te;this.data=n||0;this.rf=null;this.type==V.Te&&(this.data=Math.floor(this.data))}k.prototype.ra=function(){23===this.type&&(this.ye=this.q.b.am(this.Ug,this.q.Jb.parent));this.first&&this.first.ra();this.Sa&&this.Sa.ra();this.xi&&this.xi.ra();this.pd&&this.pd.ra();if(this.D){var a,n;a=0;for(n=this.D.length;a<n;a++)this.D[a].ra()}};k.prototype.pq=function(a){this.ca[0]=
a;a=this.q.Ka();var n,k;n=0;for(k=this.D.length;n<k;n++)this.D[n].get(a),this.ca[n+1]=a.data;this.q.Aa();this.Wa.apply(this.b.Yc,this.ca)};k.prototype.Nl=function(a){var n=this.mb.Y(),k=n.Mc();if(!k.length)if(n.R.length)k=n.R;else{this.Jg?a.pb(""):a.P(0);return}this.ca[0]=a;a.rf=this.mb;a=this.q.Ka();var g,n=0;for(g=this.D.length;n<g;n++)this.D[n].get(a),this.ca[n+1]=a.data;n=this.q.je;this.pd&&(this.pd.get(a),a.Oa()&&(n=a.data,k=this.mb.d));this.q.Aa();n%=k.length;0>n&&(n+=k.length);k=k[n];-1<this.Yb?
(a=0,this.mb.K&&(a=k.type.bf[this.mb.md]),this.Wa.apply(k.F[this.Yb+a],this.ca)):this.Wa.apply(k,this.ca)};k.prototype.dq=function(a){var n=this.mb.Y(),k=n.Mc();if(!k.length)if(n.R.length)k=n.R;else{this.Jg?a.pb(""):a.P(0);return}n=this.q.je;if(this.pd){var g=this.q.Ka();this.pd.get(g);if(g.Oa()){n=g.data;k=this.mb.d;n%=k.length;0>n&&(n+=k.length);k=k[n].Ga[this.Zk];P(k)?a.pb(k):a.r(k);this.q.Aa();return}this.q.Aa()}n%=k.length;0>n&&(n+=k.length);k=k[n];n=0;this.mb.K&&(n=k.type.lh[this.mb.md]);k=
k.Ga[this.Zk+n];P(k)?a.pb(k):a.r(k)};k.prototype.fq=function(a){a.type=V.Te;a.data=this.value};k.prototype.aq=function(a){a.type=V.Se;a.data=this.value};k.prototype.nq=function(a){a.type=V.String;a.data=this.value};k.prototype.qq=function(a){this.first.get(a);a.Oa()&&(a.data=-a.data)};k.prototype.Vp=function(a){this.first.get(a);var k=this.q.Ka();this.Sa.get(k);a.Oa()&&k.Oa()&&(a.data+=k.data,k.hf()&&a.pf());this.q.Aa()};k.prototype.oq=function(a){this.first.get(a);var k=this.q.Ka();this.Sa.get(k);
a.Oa()&&k.Oa()&&(a.data-=k.data,k.hf()&&a.pf());this.q.Aa()};k.prototype.jq=function(a){this.first.get(a);var k=this.q.Ka();this.Sa.get(k);a.Oa()&&k.Oa()&&(a.data*=k.data,k.hf()&&a.pf());this.q.Aa()};k.prototype.Yp=function(a){this.first.get(a);var k=this.q.Ka();this.Sa.get(k);a.Oa()&&k.Oa()&&(a.data/=k.data,a.pf());this.q.Aa()};k.prototype.iq=function(a){this.first.get(a);var k=this.q.Ka();this.Sa.get(k);a.Oa()&&k.Oa()&&(a.data%=k.data,k.hf()&&a.pf());this.q.Aa()};k.prototype.mq=function(a){this.first.get(a);
var k=this.q.Ka();this.Sa.get(k);a.Oa()&&k.Oa()&&(a.data=Math.pow(a.data,k.data),k.hf()&&a.pf());this.q.Aa()};k.prototype.Wp=function(a){this.first.get(a);var k=this.q.Ka();this.Sa.get(k);a.Oa()?k.Gh()?a.pb(a.data.toString()+k.data):a.data&&k.data?a.P(1):a.P(0):a.Gh()&&(a.data=k.Gh()?a.data+k.data:a.data+(Math.round(1E10*k.data)/1E10).toString());this.q.Aa()};k.prototype.lq=function(a){this.first.get(a);var k=this.q.Ka();this.Sa.get(k);a.Oa()&&k.Oa()&&(a.data||k.data?a.P(1):a.P(0));this.q.Aa()};k.prototype.Xp=
function(a){this.first.get(a);a.data?this.Sa.get(a):this.xi.get(a)};k.prototype.Zp=function(a){this.first.get(a);var k=this.q.Ka();this.Sa.get(k);a.P(a.data===k.data?1:0);this.q.Aa()};k.prototype.kq=function(a){this.first.get(a);var k=this.q.Ka();this.Sa.get(k);a.P(a.data!==k.data?1:0);this.q.Aa()};k.prototype.gq=function(a){this.first.get(a);var k=this.q.Ka();this.Sa.get(k);a.P(a.data<k.data?1:0);this.q.Aa()};k.prototype.hq=function(a){this.first.get(a);var k=this.q.Ka();this.Sa.get(k);a.P(a.data<=
k.data?1:0);this.q.Aa()};k.prototype.bq=function(a){this.first.get(a);var k=this.q.Ka();this.Sa.get(k);a.P(a.data>k.data?1:0);this.q.Aa()};k.prototype.cq=function(a){this.first.get(a);var k=this.q.Ka();this.Sa.get(k);a.P(a.data>=k.data?1:0);this.q.Aa()};k.prototype.$p=function(a){var k=this.ye.Zf();ka(k)?a.r(k):a.pb(k)};Ub=k;q.prototype.hf=function(){return this.type===V.Se};q.prototype.Oa=function(){return this.type===V.Te||this.type===V.Se};q.prototype.Gh=function(){return this.type===V.String};
q.prototype.pf=function(){this.hf()||(this.Gh()&&(this.data=parseFloat(this.data)),this.type=V.Se)};q.prototype.P=function(a){this.type=V.Te;this.data=Math.floor(a)};q.prototype.r=function(a){this.type=V.Se;this.data=a};q.prototype.pb=function(a){this.type=V.String;this.data=a};q.prototype.Ln=function(a){ka(a)?(this.type=V.Se,this.data=a):P(a)?(this.type=V.String,this.data=a.toString()):(this.type=V.Te,this.data=0)};Xb=q;V={Te:0,Se:1,String:2}})();function X(k){this.b=k;this.rb=[]}
X.prototype.Ub=function(){var k={},q,a,n,r,g,f,l,h;k.waits=[];var e=k.waits,b;q=0;for(a=this.rb.length;q<a;q++){f=this.rb[q];b={t:f.time,st:f.Rn,s:f.Nk,ev:f.Ze.L,sm:[],sols:{}};f.Ze.pc[f.tb]&&(b.act=f.Ze.pc[f.tb].L);n=0;for(r=f.W.length;n<r;n++)b.sm.push(f.W[n].L);for(g in f.ib)if(f.ib.hasOwnProperty(g)){l=this.b.k[parseInt(g,10)];h={sa:f.ib[g].oi,insts:[]};n=0;for(r=f.ib[g].qd.length;n<r;n++)h.insts.push(f.ib[g].qd[n].uid);b.sols[l.L.toString()]=h}e.push(b)}return k};
X.prototype.yc=function(k){k=k.waits;var q,a,n,r,g,f,l,h,e,b,d;q=this.rb.length=0;for(a=k.length;q<a;q++)if(f=k[q],h=this.b.ul[f.ev.toString()]){e=-1;n=0;for(r=h.pc.length;n<r;n++)if(h.pc[n].L===f.act){e=n;break}if(-1!==e){l={ib:{},W:[],lj:!1};l.time=f.t;l.Rn=f.st||"";l.Nk=!!f.s;l.Ze=h;l.tb=e;n=0;for(r=f.sm.length;n<r;n++)(h=this.b.vh(f.sm[n]))&&l.W.push(h);for(g in f.sols)if(f.sols.hasOwnProperty(g)&&(h=this.b.vh(parseInt(g,10)))){e=f.sols[g];b={oi:e.sa,qd:[]};n=0;for(r=e.insts.length;n<r;n++)(d=
this.b.uh(e.insts[n]))&&b.qd.push(d);l.ib[h.index.toString()]=b}this.rb.push(l)}}};
(function(){function k(){}function q(){}function a(){}var n=X.prototype;k.prototype.gl=function(){return!0};k.prototype.Mo=function(){return!0};k.prototype.vo=function(a,g,h){return Yb(a,g,h)};k.prototype.Ro=function(a){var g=this.b.eb(),h=g.bb,e=g.nr(),g=this.b.$r();if(e)for(e=0;e<a&&!g.Za;e++)this.b.Ig(h.W),g.index=e,h.Dk(),this.b.de(h.W);else for(e=0;e<a&&!g.Za;e++)g.index=e,h.Dk();this.b.Sr();return!1};k.prototype.wo=function(a,g,h){return Yb(a.Zf(),g,h)};k.prototype.Qo=function(a){if(!a||!a.d.length)return!1;
a.Y().da=!0;a.cd();return!0};k.prototype.Ao=function(){var a=this.b.eb();return a.nj?!1:!a.He};k.prototype.hl=function(){return!0};k.prototype.Ko=function(){return!0};k.prototype.Ni=function(){return!0};k.prototype.No=function(){return!0};k.prototype.Li=function(){return!0};k.prototype.ro=function(a,g,h){return Oa(U(a),U(h))<=U(g)};k.prototype.Eo=function(a,g){return Qa(U(a),U(g))};k.prototype.Co=function(a,g,h){a=Ia(a);g=Ia(g);h=Ia(h);return Qa(h,g)?Qa(a,g)&&!Qa(a,h):!(!Qa(a,g)&&Qa(a,h))};n.n=new k;
q.prototype.Bo=function(a){this.b.lg||this.b.Of||(this.b.Of=a)};q.prototype.yo=function(a,g,h,e){if(g&&a&&(g=this.b.Gl(a,g,h,e))){this.b.vc++;var b;this.b.trigger(Object.getPrototypeOf(a.ka).n.Ji,g);if(g.Qb)for(h=0,e=g.siblings.length;h<e;h++)b=g.siblings[h],this.b.trigger(Object.getPrototypeOf(b.type.ka).n.Ji,b);this.b.vc--;a=a.Y();a.da=!1;a.d.length=1;a.d[0]=g;if(g.Qb)for(h=0,e=g.siblings.length;h<e;h++)b=g.siblings[h],a=b.type.Y(),a.da=!1,a.d.length=1,a.d[0]=b}};q.prototype.Zo=function(a,g){0===
a.Gi?ka(g)?a.Oe(g):a.Oe(parseFloat(g)):1===a.Gi&&a.Oe(g.toString())};q.prototype.qo=function(a,g){0===a.Gi?ka(g)?a.Oe(a.Zf()+g):a.Oe(a.Zf()+parseFloat(g)):1===a.Gi&&a.Oe(a.Zf()+g.toString())};var r=[],g=[];q.prototype.dp=function(a){if(!(0>a)){var l,h,e,b=this.b.eb(),d;d=r.length?r.pop():{ib:{},W:[]};d.lj=!1;d.time=this.b.Rb.X+a;d.Rn="";d.Nk=!1;d.Ze=b.bb;d.tb=b.tb+1;a=0;for(l=this.b.k.length;a<l;a++)e=this.b.k[a],h=e.Y(),h.da&&-1===b.bb.W.indexOf(e)||(d.W.push(e),e=void 0,e=g.length?g.pop():{qd:[]},
e.oi=!1,e.oi=h.da,za(e.qd,h.d),d.ib[a.toString()]=e);this.rb.push(d);return!0}};q.prototype.So=function(){var a,g,h;a=0;for(g=this.b.Ri.length;a<g;a++)h=this.b.Ri[a],h.data=h.Bh};n.Z=new q;a.prototype["int"]=function(a,g){P(g)?(a.P(parseInt(g,10)),isNaN(a.data)&&(a.data=0)):a.P(g)};a.prototype["float"]=function(a,g){P(g)?(a.r(parseFloat(g)),isNaN(a.data)&&(a.data=0)):a.r(g)};a.prototype.random=function(a,g,h){void 0===h?a.r(Math.random()*g):a.r(Math.random()*(h-g)+g)};a.prototype.sqrt=function(a,
g){a.r(Math.sqrt(g))};a.prototype.abs=function(a,g){a.r(Math.abs(g))};a.prototype.round=function(a,g){a.P(Math.round(g))};a.prototype.floor=function(a,g){a.P(Math.floor(g))};a.prototype.ceil=function(a,g){a.P(Math.ceil(g))};a.prototype.sin=function(a,g){a.r(Math.sin(U(g)))};a.prototype.cos=function(a,g){a.r(Math.cos(U(g)))};a.prototype.tan=function(a,g){a.r(Math.tan(U(g)))};a.prototype.asin=function(a,g){a.r(Ea(Math.asin(g)))};a.prototype.acos=function(a,g){a.r(Ea(Math.acos(g)))};a.prototype.atan=
function(a,g){a.r(Ea(Math.atan(g)))};a.prototype.exp=function(a,g){a.r(Math.exp(g))};a.prototype.log10=function(a,g){a.r(Math.log(g)/Math.LN10)};a.prototype.max=function(a){var g=arguments[1];"number"!==typeof g&&(g=0);var h,e,b;h=2;for(e=arguments.length;h<e;h++)b=arguments[h],"number"===typeof b&&g<b&&(g=b);a.r(g)};a.prototype.min=function(a){var g=arguments[1];"number"!==typeof g&&(g=0);var h,e,b;h=2;for(e=arguments.length;h<e;h++)b=arguments[h],"number"===typeof b&&g>b&&(g=b);a.r(g)};a.prototype.xe=
function(a){a.r(this.b.xe)};a.prototype.Cf=function(a){a.r(this.b.Cf)};a.prototype.time=function(a){a.r(this.b.Rb.X)};a.prototype.yd=function(a){a.P(this.b.yd)};a.prototype.ai=function(a){a.P(this.b.ai)};a.prototype.wj=function(a){a.P(this.b.wj)};a.prototype.i=function(a,g,h,e,b){a.r(Ea(Na(g,h,e,b)))};a.prototype.Ls=function(a){a.P(this.b.width)};a.prototype.Ks=function(a){a.P(this.b.height)};a.prototype.find=function(a,g,h){P(g)&&P(h)?a.P(g.search(new RegExp(ab(h),"i"))):a.P(-1)};a.prototype.left=
function(a,g,h){a.pb(P(g)?g.substr(0,h):"")};a.prototype.right=function(a,g,h){a.pb(P(g)?g.substr(g.length-h):"")};a.prototype.replace=function(a,g,h,e){P(g)&&P(h)&&P(e)?a.pb(g.replace(new RegExp(ab(h),"gi"),e)):a.pb(P(g)?g:"")};a.prototype.trim=function(a,g){a.pb(P(g)?g.trim():"")};a.prototype.up=function(a){var g=Q(Math.random()*(arguments.length-1));a.Ln(arguments[g+1])};a.prototype.gj=function(a){a.r(this.b.gj/1E3)};a.prototype.Uh=function(a){a.r(this.b.Uh)};n.Fa=new a;n.gs=function(){var a,k,
h,e,b,d,q=this.b.eb();a=0;for(h=this.rb.length;a<h;a++){e=this.rb[a];if(-1===e.time){if(!e.Nk)continue}else if(e.time>this.b.Rb.X)continue;q.bb=e.Ze;q.tb=e.tb;q.ua=0;for(k in e.ib)e.ib.hasOwnProperty(k)&&(b=this.b.k[parseInt(k,10)].Y(),d=e.ib[k],b.da=d.oi,za(b.d,d.qd),b=d,b.qd.length=0,g.push(b));e.Ze.es();this.b.ej(e.W);e.lj=!0}k=a=0;for(h=this.rb.length;a<h;a++)e=this.rb[a],this.rb[k]=e,e.lj?(Va(e.ib),e.W.length=0,r.push(e)):k++;this.rb.length=k}})();
(function(){kb=function(k,a){var n=k[1],r=k[3],g=k[4],f=k[5],l=k[6],h=k[7],e=k[8];a.n||(a.n={});a.Z||(a.Z={});a.Fa||(a.Fa={});var b=a.n,d=a.Z,t=a.Fa;r&&(b.xo=function(b,a){return Yb(this.x,b,a)},b.Xs=function(b,a){return Yb(this.y,b,a)},b.bt=function(){var b=this.e;this.Va();var a=this.ab;return!(a.right<b.la||a.bottom<b.ma||a.left>b.Da||a.top>b.Ca)},b.ct=function(){this.Va();var b=this.ab,a=this.b.ea;return 0>b.right||0>b.bottom||b.left>a.width||b.top>a.height},b.ot=function(b,a,d){var c=this.Y(),
e=c.Mc();if(!e.length)return!1;var h=e[0],f=h,g=Sa(h.x,h.y,a,d),k,l,q;k=1;for(l=e.length;k<l;k++)if(h=e[k],q=Sa(h.x,h.y,a,d),0===b&&q<g||1===b&&q>g)g=q,f=h;c.Eg(f);return!0},d.Pi=function(b){this.x!==b&&(this.x=b,this.La())},d.Gt=function(b){this.y!==b&&(this.y=b,this.La())},d.Xo=function(b,a){if(this.x!==b||this.y!==a)this.x=b,this.y=a,this.La()},d.Et=function(b,a){var d=b.Iq(this);if(d){var c;d.Cj?(c=d.Cj(a,!0),d=d.Cj(a,!1)):(c=d.x,d=d.y);if(this.x!==c||this.y!==d)this.x=c,this.y=d,this.La()}},
d.ht=function(b){0!==b&&(this.x+=Math.cos(this.i)*b,this.y+=Math.sin(this.i)*b,this.La())},d.gt=function(b,a){0!==a&&(this.x+=Math.cos(U(b))*a,this.y+=Math.sin(U(b))*a,this.La())},t.gp=function(b){b.r(this.x)},t.hp=function(b){b.r(this.y)},t.xe=function(b){b.r(this.b.$l(this))});g&&(b.Ws=function(b,a){return Yb(this.width,b,a)},b.Ts=function(b,a){return Yb(this.height,b,a)},d.bp=function(b){this.width!==b&&(this.width=b,this.La())},d.Ct=function(b){this.height!==b&&(this.height=b,this.La())},d.Oi=
function(b,a){if(this.width!==b||this.height!==a)this.width=b,this.height=a,this.La()},t.Qi=function(b){b.r(this.width)},t.Ii=function(b){b.r(this.height)},t.Ps=function(b){this.Va();b.r(this.ab.left)},t.Rs=function(b){this.Va();b.r(this.ab.top)},t.Qs=function(b){this.Va();b.r(this.ab.right)},t.Os=function(b){this.Va();b.r(this.ab.bottom)});f&&(b.ro=function(b,a){return Oa(this.i,U(a))<=U(b)},b.Eo=function(b){return Qa(this.i,U(b))},b.Co=function(b,a){var d=Ia(b),c=Ia(a),e=Ga(this.i);return Qa(c,
d)?Qa(e,d)&&!Qa(e,c):!(!Qa(e,d)&&Qa(e,c))},d.zt=function(b){b=U(Fa(b));isNaN(b)||this.i===b||(this.i=b,this.La())},d.ut=function(b){0===b||isNaN(b)||(this.i+=U(b),this.i=Ga(this.i),this.La())},d.wt=function(b){0===b||isNaN(b)||(this.i-=U(b),this.i=Ga(this.i),this.La())},d.xt=function(b,a){var d=Pa(this.i,U(a),U(b));isNaN(d)||this.i===d||(this.i=d,this.La())},d.yt=function(b,a,d){b=Pa(this.i,Math.atan2(d-this.y,a-this.x),U(b));isNaN(b)||this.i===b||(this.i=b,this.La())},d.Ft=function(b,a){var d=Math.atan2(a-
this.y,b-this.x);isNaN(d)||this.i===d||(this.i=d,this.La())},t.Ns=function(b){b.r(Ha(this.i))});n||(b.Us=function(b,a,d){return Yb(this.Ga[b],a,d)},b.Do=function(b){return this.Ga[b]},b.pt=function(b,a){var d=this.Y(),c=d.Mc();if(!c.length)return!1;var e=c[0],h=e,f=e.Ga[a],g,k,l;g=1;for(k=c.length;g<k;g++)if(e=c[g],l=e.Ga[a],0===b&&l<f||1===b&&l>f)f=l,h=e;d.Eg(h);return!0},b.nt=function(b){var a,d,c,e,h;if(this.b.Bq().Sj){h=this.Y();if(h.da)for(h.da=!1,h.d.length=0,h.R.length=0,c=this.d,a=0,d=c.length;a<
d;a++)e=c[a],e.uid===b?h.R.push(e):h.d.push(e);else{c=a=0;for(d=h.d.length;a<d;a++)e=h.d[a],h.d[c]=e,e.uid===b?h.R.push(e):c++;h.d.length=c}this.cd();return!!h.d.length}e=this.b.uh(b);if(!e)return!1;h=this.Y();if(!h.da&&-1===h.d.indexOf(e))return!1;if(this.K)for(b=e.type.fa,a=0,d=b.length;a<d;a++){if(b[a]===this)return h.Eg(e),this.cd(),!0}else if(e.type===this)return h.Eg(e),this.cd(),!0;return!1},b.Ji=function(){return!0},b.Lo=function(){return!0},d.Wo=function(b,a){var d=this.Ga;ka(d[b])?d[b]=
ka(a)?a:parseFloat(a):P(d[b])&&(d[b]=P(a)?a:a.toString())},d.Ms=function(b,a){var d=this.Ga;ka(d[b])?d[b]=ka(a)?d[b]+a:d[b]+parseFloat(a):P(d[b])&&(d[b]=P(a)?d[b]+a:d[b]+a.toString())},d.Ht=function(b,a){var d=this.Ga;ka(d[b])&&(d[b]=ka(a)?d[b]-a:d[b]-parseFloat(a))},d.Vo=function(b,a){this.Ga[b]=a?1:0},d.It=function(b){this.Ga[b]=1-this.Ga[b]},d.zo=function(){this.b.oe(this)},d.Go||(d.Go=function(b){var a,d;try{a=JSON.parse(b)}catch(c){return}this.b.Rh(this,a,!0);this.Hd&&this.Hd();if(this.F)for(b=
0,a=this.F.length;b<a;++b)d=this.F[b],d.Hd&&d.Hd()}),t.Ys=function(b){var a=b.rf.d.length,d,c,e;d=0;for(c=this.b.Ic.length;d<c;d++)e=this.b.Ic[d],b.rf.K?0<=e.type.fa.indexOf(b.rf)&&a++:e.type===b.rf&&a++;b.P(a)},t.tt=function(b){b.P(b.rf.Y().Mc().length)},t.Jt=function(b){b.P(this.uid)},t.Zs=function(b){b.P(this.$f())},t.el||(t.el=function(b){b.pb(JSON.stringify(this.b.Ik(this,!0)))}));l&&(b.dt=function(){return this.visible},d.$o=function(b){!b!==!this.visible&&(this.visible=b,this.b.ba=!0)},b.Vs=
function(b,a){return Yb(gb(100*this.opacity),b,a)},d.Dt=function(b){b/=100;0>b?b=0:1<b&&(b=1);b!==this.opacity&&(this.opacity=b,this.b.ba=!0)},t.Opacity=function(b){b.r(gb(100*this.opacity))});h&&(b.$s=function(b){return b?this.e===b:!1},b.qt=function(b){var a=this.Y(),d=a.Mc();if(!d.length)return!1;var c=d[0],e=c,h,f;h=1;for(f=d.length;h<f;h++)if(c=d[h],0===b){if(c.e.index>e.e.index||c.e.index===e.e.index&&c.Nc()>e.Nc())e=c}else if(c.e.index<e.e.index||c.e.index===e.e.index&&c.Nc()<e.Nc())e=c;a.Eg(e);
return!0},d.kt=function(){var b=this.e,a=b.d;a.length&&a[a.length-1]===this||(b.xf(this,!1),b.Kf(this,!1),this.b.ba=!0)},d.it=function(){var b=this.e,a=b.d;a.length&&a[0]===this||(b.xf(this,!1),b.Wr(this),this.b.ba=!0)},d.jt=function(b){b&&b!=this.e&&(this.e.xf(this,!0),this.e=b,b.Kf(this,!0),this.b.ba=!0)},d.Lt=function(b,a){var d=0===b;if(a){var c=a.Dq(this);c&&c.uid!==this.uid&&(this.e.index!==c.e.index&&(this.e.xf(this,!0),this.e=c.e,c.e.Kf(this,!0)),this.e.Br(this,c,d),this.b.ba=!0)}},t.ft=function(b){b.P(this.e.dn)},
t.et=function(b){b.pb(this.e.name)},t.Kt=function(b){b.P(this.Nc())});e&&(d.At=function(b,a){if(this.b.p){var d=this.type.Bj(a);if(!(0>d)){var c=1===b;this.Gd[d]!==c&&(this.Gd[d]=c,this.Bd(),this.b.ba=!0)}}},d.Bt=function(b,a,d){if(this.b.p){var c=this.type.Bj(b);0>c||(b=this.type.C[c],c=this.ja[c],a=Math.floor(a),0>a||a>=c.length||(1===this.b.p.Mq(b.Ya,a)&&(d/=100),c[a]!==d&&(c[a]=d,b.Ib&&(this.b.ba=!0))))}})};Eb=function(){this.bj=this.Wi=!0;this.type.nl=!0;this.b.ba=!0;var k,a,n=this.Xi;k=0;for(a=
n.length;k<a;++k)n[k](this);this.e.Ec&&this.Va()};Fb=function(k){k&&this.Xi.push(k)};Hb=function(){if(this.Wi){var k=this.ab,a=this.te;k.set(this.x,this.y,this.x+this.width,this.y+this.height);k.offset(-this.Ab*this.width,-this.Bb*this.height);this.i?(k.offset(-this.x,-this.y),a.Mn(k,this.i),a.offset(this.x,this.y),a.wl(k)):a.ri(k);k.normalize();this.Wi=!1;this.Fs()}};var k=new T(0,0,0,0);Ib=function(){if(this.e.Ec){var q=this.e.Fb,a=this.ab;k.set(q.Gb(a.left),q.Hb(a.top),q.Gb(a.right),q.Hb(a.bottom));
this.nb.jh(k)||(this.nb.right<this.nb.left?q.update(this,null,k):q.update(this,this.nb,k),this.nb.$g(k),this.e.vd=!0)}};Jb=function(){if(this.bj&&this.Pf){this.Va();var q=this.type.Dl,a=this.ab;k.set(q.Gb(a.left),q.Hb(a.top),q.Gb(a.right),q.Hb(a.bottom));this.Ld.jh(k)||(this.Ld.right<this.Ld.left?q.update(this,null,k):q.update(this,this.Ld,k),this.Ld.$g(k),this.bj=!1)}};Gb=function(k,a){return this.ab.$b(k,a)&&this.te.$b(k,a)?this.Hc&&!this.Hc.qr()?(this.Hc.sp(this.width,this.height,this.i),this.Hc.$b(k-
this.x,a-this.y)):!0:!1};Ab=function(){this.type.Ei();return this.De};Kb=function(){this.e.Xk();return this.Fc};Lb=function(){this.O.length=0;var k,a;k=0;for(a=this.Gd.length;k<a;k++)this.Gd[k]&&this.O.push(this.type.C[k]);this.oo=!!this.O.length};Bb=function(){return"Inst"+this.Bn};nb=function(k){if(k&&k.Qb&&k.type!=this){var a,n,r;a=0;for(n=k.siblings.length;a<n;a++)if(r=k.siblings[a],r.type==this)return r}k=this.Y().Mc();return k.length?k[0]:null};pb=function(k){var a=this.Y().Mc();return a.length?
a[k.$f()%a.length]:null};mb=function(){if(this.Bf&&!this.K){var k,a;k=0;for(a=this.d.length;k<a;k++)this.d[k].De=k;var n=k,r=this.b.Ic;k=0;for(a=r.length;k<a;++k)r[k].type===this&&(r[k].De=n++);this.Bf=!1}};yb=function(k){if(k<this.d.length)return this.d[k];k-=this.d.length;var a=this.b.Ic,n,r;n=0;for(r=a.length;n<r;++n)if(a[n].type===this){if(0===k)return a[n];--k}return null};qb=function(){return this.ke[this.hd]};rb=function(){this.hd++;this.hd===this.ke.length?this.ke.push(new lb(this)):this.ke[this.hd].da=
!0};sb=function(){this.hd++;this.hd===this.ke.length&&this.ke.push(new lb(this));var k=this.ke[this.hd],a=this.ke[this.hd-1];a.da?k.da=!0:(k.da=!1,za(k.d,a.d),za(k.R,a.R))};tb=function(){this.hd--};ub=function(k){var a,n,r,g,f,l=0;if(!this.K)for(a=0,n=this.fa.length;a<n;a++)for(f=this.fa[a],r=0,g=f.ta.length;r<g;r++){if(k===f.ta[r].name)return this.na.lastBehIndex=l,f.ta[r];l++}a=0;for(n=this.ta.length;a<n;a++){if(k===this.ta[a].name)return this.na.lastBehIndex=l,this.ta[a];l++}return null};vb=function(k){return this.rh(k)?
this.na.lastBehIndex:-1};wb=function(k){var a,n;a=0;for(n=this.C.length;a<n;a++)if(this.C[a].name===k)return a;return-1};xb=function(){if(this.Qb&&!this.K){var k,a,n,r,g,f,l;this.Ei();f=this.Y();var h=f.da,e=(k=this.b.eb())&&k.bb&&k.bb.zc;k=0;for(a=this.xb.length;k<a;k++)if(g=this.xb[k],g!==this&&(g.Ei(),l=g.Y(),l.da=h,!h)){l.d.length=f.d.length;n=0;for(r=f.d.length;n<r;n++)l.d[n]=g.cm(f.d[n].De);if(e)for(l.R.length=f.R.length,n=0,r=f.R.length;n<r;n++)l.R[n]=g.cm(f.R[n].De)}}};zb=function(){return"Type"+
this.L};Yb=function(k,a,n){if("undefined"===typeof k||"undefined"===typeof n)return!1;switch(a){case 0:return k===n;case 1:return k!==n;case 2:return k<n;case 3:return k<=n;case 4:return k>n;case 5:return k>=n;default:return!1}}})();var gc={};function ic(k){this.b=k}
(function(){function k(){return l.length?l.pop():[]}function q(a){var e,b;e=0;for(b=a.length;e<b;e++)Array.isArray(a[e])&&q(a[e]);a.length=0;l.push(a)}function a(){}function n(){}function r(){}var g=ic.prototype;g.oc=function(a){this.ka=a;this.b=a.b};g.oc.prototype.za=function(){};g.sb=function(a){this.type=a;this.b=a.b};var f=g.sb.prototype,l=[];Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});f.za=function(){this.ec=this.V[0];this.rc=this.V[1];
this.Jc=this.V[2];this.Tb||(this.dd=k());var a=this.dd;a.length=this.ec;var e,b,d;for(e=0;e<this.ec;e++)for(a[e]||(a[e]=k()),a[e].length=this.rc,b=0;b<this.rc;b++)for(a[e][b]||(a[e][b]=k()),a[e][b].length=this.Jc,d=0;d<this.Jc;d++)a[e][b][d]=0;this.Tl=[];this.Ul=[];this.Vl=[];this.nd=-1};f.Cg=function(){var a;for(a=0;a<this.ec;a++)q(this.dd[a]);this.dd.length=0};f.Vi=function(a,e,b){a=Math.floor(a);e=Math.floor(e);b=Math.floor(b);return isNaN(a)||0>a||a>this.ec-1||isNaN(e)||0>e||e>this.rc-1||isNaN(b)||
0>b||b>this.Jc-1?0:this.dd[a][e][b]};f.set=function(a,e,b,d){a=Math.floor(a);e=Math.floor(e);b=Math.floor(b);isNaN(a)||0>a||a>this.ec-1||isNaN(e)||0>e||e>this.rc-1||isNaN(b)||0>b||b>this.Jc-1||(this.dd[a][e][b]=d)};f.zq=function(){return JSON.stringify({c2array:!0,size:[this.ec,this.rc,this.Jc],data:this.dd})};f.Ub=function(){return{size:[this.ec,this.rc,this.Jc],data:this.dd}};f.yc=function(a){var e=a.size;this.ec=e[0];this.rc=e[1];this.Jc=e[2];this.dd=a.data};f.he=function(a,e,b){0>a&&(a=0);0>e&&
(e=0);0>b&&(b=0);if(this.ec!==a||this.rc!==e||this.Jc!==b){this.ec=a;this.rc=e;this.Jc=b;var d,f,g=this.dd;g.length=a;for(a=0;a<this.ec;a++)for(ja(g[a])&&(g[a]=k()),g[a].length=e,d=0;d<this.rc;d++)for(ja(g[a][d])&&(g[a][d]=k()),g[a][d].length=b,f=0;f<this.Jc;f++)ja(g[a][d][f])&&(g[a][d][f]=0)}};f.Qt=function(){return 0<=this.nd&&this.nd<this.Tl.length?this.Tl[this.nd]:0};f.Rt=function(){return 0<=this.nd&&this.nd<this.Ul.length?this.Ul[this.nd]:0};f.St=function(){return 0<=this.nd&&this.nd<this.Vl.length?
this.Vl[this.nd]:0};a.prototype.xo=function(a,e,b){return Yb(this.Vi(a,0,0),e,b)};f.Ot=function(a){this.b.Ig(a.W);a.Dk();this.b.de(a.W)};g.n=new a;n.prototype.Oi=function(a,e,b){this.he(a,e,b)};n.prototype.Pi=function(a,e){this.set(a,0,0,e)};g.Z=new n;r.prototype.so=function(a,e,b,d){a.Ln(this.Vi(e,b||0,d||0))};r.prototype.Qi=function(a){a.P(this.ec)};r.prototype.Ii=function(a){a.P(this.rc)};r.prototype.el=function(a){a.pb(this.zq())};g.Fa=new r})();function jc(k){this.b=k}
(function(){function k(b){0>b&&(b=0);1<b&&(b=1);return Math.log(b)/Math.log(10)*20}function q(b){b=b.toLowerCase();return R.hasOwnProperty(b)&&R[b].length?R[b][0].Ob():v.destination}function a(){return v.createGain?v.createGain():v.createGainNode()}function n(b){return v.createDelay?v.createDelay(b):v.createDelayNode(b)}function r(b){b.start?b.start(0):b.noteOn(0)}function g(b,a,c){b.start?b.start(0,a):b.noteGrainOn(0,a,c-a)}function f(b){try{b.stop?b.stop(0):b.noteOff(0)}catch(a){}}function l(b,
c,d,e,f,h){this.type="filter";this.Ac=[b,c,d,e,f,h];this.M=a();this.B=a();this.B.gain.value=h;this.u=a();this.u.gain.value=1-h;this.wa=v.createBiquadFilter();this.wa.type="number"===typeof this.wa.type?b:nc[b];this.wa.frequency.value=c;this.wa.detune&&(this.wa.detune.value=d);this.wa.Q.value=e;this.wa.gain.value=f;this.M.connect(this.wa);this.M.connect(this.u);this.wa.connect(this.B)}function h(b,c,d){this.type="delay";this.Ac=[b,c,d];this.M=a();this.B=a();this.B.gain.value=d;this.u=a();this.u.gain.value=
1-d;this.zg=a();this.gc=n(b);this.gc.delayTime.value=b;this.hh=a();this.hh.gain.value=c;this.M.connect(this.zg);this.M.connect(this.u);this.zg.connect(this.B);this.zg.connect(this.gc);this.gc.connect(this.hh);this.hh.connect(this.zg)}function e(b,c,d,e){this.type="convolve";this.Ac=[c,d,e];this.M=a();this.B=a();this.B.gain.value=d;this.u=a();this.u.gain.value=1-d;this.ue=v.createConvolver();b&&(this.ue.normalize=c,this.ue.buffer=b);this.M.connect(this.ue);this.M.connect(this.u);this.ue.connect(this.B)}
function b(b,c,d,e,f){this.type="flanger";this.Ac=[b,c,d,e,f];this.M=a();this.u=a();this.u.gain.value=1-f/2;this.B=a();this.B.gain.value=f/2;this.mh=a();this.mh.gain.value=e;this.gc=n(b+c);this.gc.delayTime.value=b;this.Ra=v.createOscillator();this.Ra.frequency.value=d;this.Eb=a();this.Eb.gain.value=c;this.M.connect(this.gc);this.M.connect(this.u);this.gc.connect(this.B);this.gc.connect(this.mh);this.mh.connect(this.gc);this.Ra.connect(this.Eb);this.Eb.connect(this.gc.delayTime);r(this.Ra)}function d(b,
c,d,e,f,h){this.type="phaser";this.Ac=[b,c,d,e,f,h];this.M=a();this.u=a();this.u.gain.value=1-h/2;this.B=a();this.B.gain.value=h/2;this.wa=v.createBiquadFilter();this.wa.type="number"===typeof this.wa.type?7:"allpass";this.wa.frequency.value=b;this.wa.detune&&(this.wa.detune.value=c);this.wa.Q.value=d;this.Ra=v.createOscillator();this.Ra.frequency.value=f;this.Eb=a();this.Eb.gain.value=e;this.M.connect(this.wa);this.M.connect(this.u);this.wa.connect(this.B);this.Ra.connect(this.Eb);this.Eb.connect(this.wa.frequency);
r(this.Ra)}function t(b){this.type="gain";this.Ac=[b];this.N=a();this.N.gain.value=b}function m(b,c){this.type="tremolo";this.Ac=[b,c];this.N=a();this.N.gain.value=1-c/2;this.Ra=v.createOscillator();this.Ra.frequency.value=b;this.Eb=a();this.Eb.gain.value=c/2;this.Ra.connect(this.Eb);this.Eb.connect(this.N.gain);r(this.Ra)}function w(b,c){this.type="ringmod";this.Ac=[b,c];this.M=a();this.B=a();this.B.gain.value=c;this.u=a();this.u.gain.value=1-c;this.Kg=a();this.Kg.gain.value=0;this.Ra=v.createOscillator();
this.Ra.frequency.value=b;this.Ra.connect(this.Kg.gain);r(this.Ra);this.M.connect(this.Kg);this.M.connect(this.u);this.Kg.connect(this.B)}function s(b,c,d,e,f){this.type="distortion";this.Ac=[b,c,d,e,f];this.M=a();this.gi=a();this.fi=a();this.os(d,Math.pow(10,e/20));this.B=a();this.B.gain.value=f;this.u=a();this.u.gain.value=1-f;this.Hi=v.createWaveShaper();this.fh=new Float32Array(65536);this.xq(b,c);this.Hi.fh=this.fh;this.M.connect(this.gi);this.M.connect(this.u);this.gi.connect(this.Hi);this.Hi.connect(this.fi);
this.fi.connect(this.B)}function c(b,a,c,d,e){this.type="compressor";this.Ac=[b,a,c,d,e];this.N=v.createDynamicsCompressor();try{this.N.threshold.value=b,this.N.knee.value=a,this.N.ratio.value=c,this.N.attack.value=d,this.N.release.value=e}catch(f){}}function p(b,a){this.type="analyser";this.Ac=[b,a];this.N=v.createAnalyser();this.N.fftSize=b;this.N.smoothingTimeConstant=a;this.vq=new Float32Array(this.N.frequencyBinCount);this.Pn=new Uint8Array(b);this.Dg=0}function u(){this.A=null;this.Th=0;this.le=
[];this.lk=this.Jh=this.Ih=0}function N(b,c){this.src=b;this.J=C;this.wc=c;this.kl=!1;var d=this;this.kk=this.tk=null;this.uf=[];this.pi=0;this.bl=this.sj=this.Sn=this.bi=!1;1===C&&c&&(this.J=0,this.tk=a());this.re=this.S=null;var e;switch(this.J){case 0:this.S=new Audio;this.S.addEventListener("canplaythrough",function(){d.bl=!0});1===C&&v.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.Sn=!0,this.S.addEventListener("canplay",function(){d.kk||(d.kk=v.createMediaElementSource(d.S),
d.kk.connect(d.tk))}));this.S.autoplay=!1;this.S.Vt="auto";this.S.src=b;break;case 1:e=new XMLHttpRequest;e.open("GET",b,!0);e.responseType="arraybuffer";e.onload=function(){d.re=e.response;d.Ap()};e.onerror=function(){d.sj=!0};e.send();break;case 2:this.S=!0;break;case 3:this.S=!0}}function A(b,c){var d=this;this.tag=c;this.Za=this.Lc=!0;this.src=b.src;this.buffer=b;this.J=C;this.wc=b.wc;this.playbackRate=1;this.fj=!0;this.ic=this.wd=!1;this.ob=0;this.jg=this.jf=this.Rc=!1;this.volume=1;this.Fe=
1===I&&!this.wc||2===I;this.qf=1;this.startTime=this.Fe?y.Rb.X:y.ad.X;this.qa=this.xa=null;this.Tc=!1;this.pa=null;this.qn=this.pn=this.on=this.nn=this.sn=this.rn=0;this.g=null;var e=!1;1!==this.J||0!==this.buffer.J||this.buffer.Sn||(this.J=0);switch(this.J){case 0:this.wc?(this.g=b.S,e=!b.kl,b.kl=!0):(this.g=new Audio,this.g.autoplay=!1,this.g.src=b.S.src,e=!0);e&&this.g.addEventListener("ended",function(){sa=d.tag;d.Za=!0;y.trigger(jc.prototype.n.Ki,L)});break;case 1:this.xa=a();this.xa.connect(q(c));
1===this.buffer.J?b.S&&(this.g=v.createBufferSource(),this.g.buffer=b.S,this.g.connect(this.xa)):(this.g=this.buffer.S,this.buffer.tk.connect(this.xa));break;case 2:this.g=new window.Media(W+this.src,null,null,function(b){b===window.Media.MEDIA_STOPPED&&(d.fj=!0,d.Za=!0,sa=d.tag,y.trigger(jc.prototype.n.Ki,L))});break;case 3:this.g=!0}}function D(b,a){R.hasOwnProperty(b)?R[b].push(a):R[b]=[a];var c,d,e,f,h=v.destination;if(R.hasOwnProperty(b)&&(e=R[b],e.length))for(h=e[0].Ob(),c=0,d=e.length;c<d;c++)f=
e[c],c+1===d?f.Zb(v.destination):f.Zb(e[c+1].Ob());Da.length=0;if(b.length)for(c=0,d=E.length;c<d;c++)e=E[c],hb(b,e.tag)&&Da.push(e);else F&&!F.Ce()&&(Da.length=1,Da[0]=F);c=0;for(d=Da.length;c<d;c++)Da[c].as(h);aa&&ob===b&&(aa.disconnect(),aa.connect(h))}function S(){}function Y(){}var G=jc.prototype;G.oc=function(b){this.ka=b;this.b=b.b};G.oc.prototype.za=function(){};var y=null,L=null,sa="",W="",C=0,v=null,ta=[],E=[],F=null,x=!1,I=0,J=!1,B=1,O=0,K=0,ha=1,M=1,la=10,da=1E4,pa=1,aa=null,ob="",Ja=
!1,Ka=[],R={},nc="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");l.prototype.Zb=function(b){this.B.disconnect();this.B.connect(b);this.u.disconnect();this.u.connect(b)};l.prototype.remove=function(){this.M.disconnect();this.wa.disconnect();this.B.disconnect();this.u.disconnect()};l.prototype.Ob=function(){return this.M};h.prototype.Zb=function(b){this.B.disconnect();this.B.connect(b);this.u.disconnect();this.u.connect(b)};h.prototype.remove=function(){this.M.disconnect();
this.zg.disconnect();this.gc.disconnect();this.hh.disconnect();this.B.disconnect();this.u.disconnect()};h.prototype.Ob=function(){return this.M};e.prototype.Zb=function(b){this.B.disconnect();this.B.connect(b);this.u.disconnect();this.u.connect(b)};e.prototype.remove=function(){this.M.disconnect();this.ue.disconnect();this.B.disconnect();this.u.disconnect()};e.prototype.Ob=function(){return this.M};b.prototype.Zb=function(b){this.u.disconnect();this.u.connect(b);this.B.disconnect();this.B.connect(b)};
b.prototype.remove=function(){this.M.disconnect();this.gc.disconnect();this.Ra.disconnect();this.Eb.disconnect();this.u.disconnect();this.B.disconnect();this.mh.disconnect()};b.prototype.Ob=function(){return this.M};d.prototype.Zb=function(b){this.u.disconnect();this.u.connect(b);this.B.disconnect();this.B.connect(b)};d.prototype.remove=function(){this.M.disconnect();this.wa.disconnect();this.Ra.disconnect();this.Eb.disconnect();this.u.disconnect();this.B.disconnect()};d.prototype.Ob=function(){return this.M};
t.prototype.Zb=function(b){this.N.disconnect();this.N.connect(b)};t.prototype.remove=function(){this.N.disconnect()};t.prototype.Ob=function(){return this.N};m.prototype.Zb=function(b){this.N.disconnect();this.N.connect(b)};m.prototype.remove=function(){this.Ra.disconnect();this.Eb.disconnect();this.N.disconnect()};m.prototype.Ob=function(){return this.N};w.prototype.Zb=function(b){this.B.disconnect();this.B.connect(b);this.u.disconnect();this.u.connect(b)};w.prototype.remove=function(){this.Ra.disconnect();
this.Kg.disconnect();this.M.disconnect();this.B.disconnect();this.u.disconnect()};w.prototype.Ob=function(){return this.M};s.prototype.os=function(b,a){.01>b&&(b=.01);this.gi.gain.value=b;this.fi.gain.value=Math.pow(1/b,.6)*a};s.prototype.shape=function(b,a,c){var d=1.05*c*a-a;c=0>b?-1:1;b=0>b?-b:b;a=b<a?b:a+d*(1-Math.exp(-(1/d)*(b-a)));return a*c};s.prototype.xq=function(b,a){for(var c=Math.pow(10,b/20),d=Math.pow(10,a/20),e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,c,d),this.fh[32768+f]=e,this.fh[32768-
f-1]=-e};s.prototype.Zb=function(b){this.B.disconnect();this.B.connect(b);this.u.disconnect();this.u.connect(b)};s.prototype.remove=function(){this.M.disconnect();this.gi.disconnect();this.Hi.disconnect();this.fi.disconnect();this.B.disconnect();this.u.disconnect()};s.prototype.Ob=function(){return this.M};c.prototype.Zb=function(b){this.N.disconnect();this.N.connect(b)};c.prototype.remove=function(){this.N.disconnect()};c.prototype.Ob=function(){return this.N};p.prototype.jb=function(){this.N.getFloatFrequencyData(this.vq);
this.N.getByteTimeDomainData(this.Pn);for(var b=this.N.fftSize,a=0,c=this.Dg=0,d=0;a<b;a++)d=(this.Pn[a]-128)/128,0>d&&(d=-d),this.Dg<d&&(this.Dg=d),c+=d*d;this.Dg=k(this.Dg);k(Math.sqrt(c/b))};p.prototype.Zb=function(b){this.N.disconnect();this.N.connect(b)};p.prototype.remove=function(){this.N.disconnect()};p.prototype.Ob=function(){return this.N};u.prototype.Lg=function(b){if(this.A=b)this.Ih=this.A.x,this.Jh=this.A.y;this.le.length=0};u.prototype.zh=function(){return!!this.A};u.prototype.jb=function(b){this.A&&
0!==b&&(this.lk=Na(this.Ih,this.Jh,this.A.x,this.A.y),b=Sa(this.Ih,this.Jh,this.A.x,this.A.y)/b,4>this.le.length||this.le.shift(),this.le.push(b),this.Ih=this.A.x,this.Jh=this.A.y)};u.prototype.gm=function(){if(!this.le.length)return 0;var b,a,c=0;b=0;for(a=this.le.length;b<a;b++)c+=this.le[b];return c/this.le.length};u.prototype.Gj=function(){return Math.cos(this.lk)*this.gm()};u.prototype.Hj=function(){return Math.sin(this.lk)*this.gm()};var mc=!1;N.prototype.Ap=function(){if(!this.S&&this.re){var b=
this;if(v.decodeAudioData)v.decodeAudioData(this.re,function(a){b.S=a;b.re=null;var c,d,e;if(ja(b.ci)||J)ja(b.Zg)||(c=b.Zg.ue,c.normalize=b.cn,c.buffer=a);else if(b.uf.length){c=0;for(d=b.uf.length;c<d;c++){a=b.uf[c];e=new A(b,a.Yn);e.Lk(!0);if("undefined"!==typeof a.en&&(a.A=y.uh(a.en),!a.A))continue;if(a.A){var f=Ra(a.A.x,a.A.y,-a.A.e.ya(),O,K,!0),h=Ra(a.A.x,a.A.y,-a.A.e.ya(),O,K,!1);e.Kk(f,h,Ea(a.A.i-a.A.e.ya()),a.Nj,a.nk,a.pk);e.Lg(a.A)}else e.Kk(a.x,a.y,a.ip,a.Nj,a.nk,a.pk);e.play(b.hk,b.al,
b.pi);b.bi&&e.pause();E.push(e)}b.uf.length=0}else e=new A(b,b.ci),e.play(b.hk,b.al,b.pi),b.bi&&e.pause(),E.push(e)},function(){b.sj=!0});else if(this.S=v.createBuffer(this.re,!1),this.re=null,ja(this.ci)||J)ja(this.Zg)||(a=this.Zg.ue,a.normalize=this.cn,a.buffer=this.S);else{var a=new A(this,this.ci);a.play(this.hk,this.al,this.pi);this.bi&&a.pause();E.push(a)}}};N.prototype.qm=function(){switch(this.J){case 0:var b=4<=this.S.readyState;b&&(this.bl=!0);return b||this.bl;case 1:return!!this.re||!!this.S;
case 2:return!0;case 3:return!0}return!1};N.prototype.mr=function(){switch(this.J){case 0:return this.qm();case 1:return!!this.S;case 2:return!0;case 3:return!0}return!1};N.prototype.er=function(){switch(this.J){case 0:return!!this.S.error;case 1:return this.sj}return!1};A.prototype.Ce=function(){var b;switch(this.J){case 0:return this.g.ended;case 1:if(1===this.buffer.J){if(!this.Lc&&!this.Za&&this.g.loop||this.ic)return!1;b=this.Fe?y.Rb.X:y.ad.X;return b-this.startTime>this.buffer.S.duration}return this.g.ended;
case 2:return this.fj;case 3:!0}return!0};A.prototype.tp=function(){return this.Lc||this.Za?!0:this.Ce()};A.prototype.Lk=function(b){1===C&&(!this.Tc&&b?this.xa&&(this.qa||(this.qa=v.createPanner(),this.qa.panningModel="number"===typeof this.qa.panningModel?ha:["equalpower","HRTF","soundfield"][ha],this.qa.distanceModel="number"===typeof this.qa.distanceModel?M:["linear","inverse","exponential"][M],this.qa.refDistance=la,this.qa.maxDistance=da,this.qa.rolloffFactor=pa),this.xa.disconnect(),this.xa.connect(this.qa),
this.qa.connect(q(this.tag)),this.Tc=!0):this.Tc&&!b&&this.xa&&(this.qa.disconnect(),this.xa.disconnect(),this.xa.connect(q(this.tag)),this.Tc=!1))};A.prototype.Kk=function(b,a,c,d,e,f){this.Tc&&1===C&&(this.qa.setPosition(b,a,0),this.qa.setOrientation(Math.cos(U(c)),Math.sin(U(c)),0),this.qa.coneInnerAngle=d,this.qa.coneOuterAngle=e,this.qa.coneOuterGain=f,this.rn=b,this.sn=a,this.nn=c,this.on=d,this.pn=e,this.qn=f)};A.prototype.Lg=function(b){this.Tc&&1===C&&(this.pa||(this.pa=new u),this.pa.Lg(b))};
A.prototype.jb=function(b){if(this.Tc&&1===C&&this.pa&&this.pa.zh()&&this.ef()){this.pa.jb(b);b=this.pa.A;var a=Ra(b.x,b.y,-b.e.ya(),O,K,!0),c=Ra(b.x,b.y,-b.e.ya(),O,K,!1);this.qa.setPosition(a,c,0);a=0;"undefined"!==typeof this.pa.A.i&&(a=b.i-b.e.ya(),this.qa.setOrientation(Math.cos(a),Math.sin(a),0));a=Ra(this.pa.Gj(),this.pa.Hj(),-b.e.ya(),0,0,!0);c=Ra(this.pa.Gj(),this.pa.Hj(),-b.e.ya(),0,0,!1);this.qa.setVelocity(a,c,0)}};A.prototype.play=function(b,a,c){var d=this.g;this.Rc=b;this.volume=a;
c=c||0;switch(this.J){case 0:1!==d.playbackRate&&(d.playbackRate=1);d.volume!==a*B&&(d.volume=a*B);d.loop!==b&&(d.loop=b);d.muted&&(d.muted=!1);if(d.currentTime!==c)try{d.currentTime=c}catch(e){}if(this.wc&&Ja&&!y.Pc)Ka.push(this);else try{this.g.play()}catch(f){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",f)}break;case 1:this.muted=!1;this.qf=1;if(1===this.buffer.J)this.Lc||(this.g=v.createBufferSource(),this.g.buffer=this.buffer.S,this.g.connect(this.xa)),
this.g.loop=b,this.xa.gain.value=a*B,0===c?r(this.g):g(this.g,c,this.Ae());else{1!==d.playbackRate&&(d.playbackRate=1);d.loop!==b&&(d.loop=b);this.xa.gain.value=a*B;if(d.currentTime!==c)try{d.currentTime=c}catch(h){}this.wc&&Ja&&!y.Pc?Ka.push(this):d.play()}break;case 2:(!this.Lc&&this.Za||0!==c)&&d.seekTo(c);d.play();this.fj=!1;break;case 3:y.lb?AppMobi.context.playSound(this.src,b):AppMobi.player.playSound(this.src,b)}this.playbackRate=1;this.startTime=(this.Fe?y.Rb.X:y.ad.X)-c;this.ic=this.Za=
this.Lc=!1};A.prototype.stop=function(){switch(this.J){case 0:this.g.paused||this.g.pause();break;case 1:1===this.buffer.J?f(this.g):this.g.paused||this.g.pause();break;case 2:this.g.stop();break;case 3:y.lb&&AppMobi.context.stopSound(this.src)}this.Za=!0;this.ic=!1};A.prototype.pause=function(){if(!(this.Lc||this.Za||this.Ce()||this.ic)){switch(this.J){case 0:this.g.paused||this.g.pause();break;case 1:1===this.buffer.J?(this.ob=this.Ej(),this.Rc&&(this.ob%=this.Ae()),f(this.g)):this.g.paused||this.g.pause();
break;case 2:this.g.pause();break;case 3:y.lb&&AppMobi.context.stopSound(this.src)}this.ic=!0}};A.prototype.ds=function(){if(!(this.Lc||this.Za||this.Ce())&&this.ic){switch(this.J){case 0:this.g.play();break;case 1:1===this.buffer.J?(this.g=v.createBufferSource(),this.g.buffer=this.buffer.S,this.g.connect(this.xa),this.g.loop=this.Rc,this.xa.gain.value=B*this.volume*this.qf,this.startTime=(this.Fe?y.Rb.X:y.ad.X)-this.ob,g(this.g,this.ob,this.Ae())):this.g.play();break;case 2:this.g.play();break;case 3:y.lb&&
AppMobi.context.resumeSound(this.src)}this.ic=!1}};A.prototype.seek=function(b){if(!(this.Lc||this.Za||this.Ce()))switch(this.J){case 0:try{this.g.currentTime=b}catch(a){}break;case 1:if(1===this.buffer.J)this.ic?this.ob=b:(this.pause(),this.ob=b,this.ds());else try{this.g.currentTime=b}catch(c){}break;case 3:y.lb&&AppMobi.context.seekSound(this.src,b)}};A.prototype.as=function(b){1===this.J&&(this.Tc?(this.qa.disconnect(),this.qa.connect(b)):(this.xa.disconnect(),this.xa.connect(b)))};A.prototype.Ae=
function(){switch(this.J){case 0:if("undefined"!==typeof this.g.duration)return this.g.duration;break;case 1:return this.buffer.S.duration;case 2:return this.g.getDuration();case 3:if(y.lb)return AppMobi.context.getDurationSound(this.src)}return 0};A.prototype.Ej=function(){var b=this.Ae(),a=0;switch(this.J){case 0:"undefined"!==typeof this.g.currentTime&&(a=this.g.currentTime);break;case 1:if(1===this.buffer.J){if(this.ic)return this.ob;a=(this.Fe?y.Rb.X:y.ad.X)-this.startTime}else"undefined"!==
typeof this.g.currentTime&&(a=this.g.currentTime);break;case 3:y.lb&&(a=AppMobi.context.getPlaybackTimeSound(this.src))}!this.Rc&&a>b&&(a=b);return a};A.prototype.ef=function(){return!this.ic&&!this.Lc&&!this.Za&&!this.Ce()};A.prototype.Ds=function(){var b=this.volume*B;switch(this.J){case 0:this.g.volume&&this.g.volume!==b&&(this.g.volume=b);break;case 1:this.xa.gain.value=b*this.qf}};A.prototype.ih=function(b){switch(this.J){case 0:this.g.muted!==!!b&&(this.g.muted=!!b);break;case 1:this.qf=b?0:
1,this.xa.gain.value=B*this.volume*this.qf}};A.prototype.qs=function(){this.jf=!0;this.ih(this.jf||this.jg)};A.prototype.Jn=function(b){this.jg=!!b;this.ih(this.jf||this.jg)};A.prototype.no=function(){var b=this.playbackRate;this.Fe&&(b*=y.Cf);switch(this.J){case 0:this.g.playbackRate!==b&&(this.g.playbackRate=b);break;case 1:1===this.buffer.J?this.g.playbackRate.value!==b&&(this.g.playbackRate.value=b):this.g.playbackRate!==b&&(this.g.playbackRate=b)}};A.prototype.ss=function(b){switch(this.J){case 0:b?
this.ef()?(this.g.pause(),this.wd=!0):this.wd=!1:this.wd&&this.g.play();break;case 1:b?this.ef()?(1===this.buffer.J?(this.ob=this.Ej(),this.Rc&&(this.ob%=this.Ae()),f(this.g)):this.g.pause(),this.wd=!0):this.wd=!1:this.wd&&(1===this.buffer.J?(this.g=v.createBufferSource(),this.g.buffer=this.buffer.S,this.g.connect(this.xa),this.g.loop=this.Rc,this.xa.gain.value=B*this.volume*this.qf,this.startTime=(this.Fe?y.Rb.X:y.ad.X)-this.ob,g(this.g,this.ob,this.Ae())):this.g.play());break;case 2:b?this.ef()?
(this.g.pause(),this.wd=!0):this.wd=!1:this.wd&&this.g.play()}};G.sb=function(b){this.type=b;y=this.b=b.b;L=this;this.gb=null;this.rg=-600;!(this.b.Hh||this.b.Ch&&(this.b.eg||this.b.Dh))||this.b.fg||this.b.Na||(Ja=!0);v=null;"undefined"!==typeof AudioContext?(C=1,v=new AudioContext):"undefined"!==typeof webkitAudioContext&&(C=1,v=new webkitAudioContext);(this.b.Hh&&1===C||Ja)&&document.addEventListener("touchstart",function(){var b,a,c;!mc&&v&&(b=v.createBuffer(1,1,22050),a=v.createBufferSource(),
a.buffer=b,a.connect(v.destination),r(a),mc=!0);if(Ja){if(!J)for(b=0,a=Ka.length;b<a;++b)c=Ka[b],c.Za||c.ic||c.g.play();Ka.length=0}},!0);1!==C&&(this.b.Rd&&"undefined"!==typeof window.Media?C=2:this.b.pm&&(C=3));2===C&&(W=location.href,b=W.lastIndexOf("/"),-1<b&&(W=W.substr(0,b+1)),W=W.replace("file://",""));if(this.b.rm&&this.b.or&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.oe(this);
else{if(this.b.lb)x=this.b.Ch;else try{x=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(a){x=!1}this.b.Sg(this)}};var ia=G.sb.prototype;ia.za=function(){this.b.Xe=this;I=this.V[0];this.xd=this.V[1];this.Pr=0!==this.V[2];ha=this.V[3];M=this.V[4];this.rg=-this.V[5];la=this.V[6];da=this.V[7];pa=this.V[8];this.gb=new u;var b=this.b.H||this.b.width,a=this.b.G||this.b.height;1===C&&(v.listener.speedOfSound=this.V[9],v.listener.dopplerFactor=this.V[10],v.listener.setPosition(b/2,a/2,this.rg),
v.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(b,a){aa&&aa.disconnect();ob=a.toLowerCase();aa=v.createMediaStreamSource(b);aa.connect(q(ob))});this.b.lp(function(b){L.Lr(b)});var c=this;this.b.jp(function(b){c.Gr(b)})};ia.Gr=function(b){var a,c,d;a=0;for(c=E.length;a<c;a++)d=E[a],d.pa&&d.pa.A===b&&(d.pa.A=null,d.Tc&&d.ef()&&d.Rc&&d.stop());this.gb.A===b&&(this.gb.A=null)};ia.Ub=function(){var b={silent:J,masterVolume:B,listenerZ:this.rg,listenerUid:this.gb.zh()?this.gb.A.uid:
-1,playing:[],effects:{}},a=b.playing,c,d,e,f,h,g;c=0;for(d=E.length;c<d;c++)e=E[c],!e.ef()||3===this.xd||e.wc&&1===this.xd||!e.wc&&2===this.xd||(f=e.Ej(),e.Rc&&(f%=e.Ae()),f={tag:e.tag,buffersrc:e.buffer.src,is_music:e.wc,playbackTime:f,volume:e.volume,looping:e.Rc,muted:e.jf,playbackRate:e.playbackRate,paused:e.ic,resume_position:e.ob},e.Tc&&(f.pan={},g=f.pan,e.pa&&e.pa.zh()?g.objUid=e.pa.A.uid:(g.x=e.rn,g.y=e.sn,g.a=e.nn),g.ia=e.on,g.oa=e.pn,g.og=e.qn),a.push(f));a=b.effects;for(h in R)if(R.hasOwnProperty(h)){e=
[];c=0;for(d=R[h].length;c<d;c++)e.push({type:R[h][c].type,params:R[h][c].Ac});a[h]=e}return b};var La=[];ia.yc=function(a){var f=a.silent;B=a.masterVolume;this.rg=a.listenerZ;this.gb.Lg(null);var g=a.listenerUid;-1!==g&&(this.gb.Th=g,La.push(this.gb));var g=a.playing,k,n,q,r,v,y,A,N,x,z,C;if(3!==this.xd)for(k=0,n=E.length;k<n;k++)x=E[k],x.wc&&1===this.xd||(x.wc||2!==this.xd)&&x.stop();for(v in R)if(R.hasOwnProperty(v))for(k=0,n=R[v].length;k<n;k++)R[v][k].remove();Va(R);for(v in a.effects)if(a.effects.hasOwnProperty(v))for(y=
a.effects[v],k=0,n=y.length;k<n;k++)switch(q=y[k].type,z=y[k].params,q){case "filter":D(v,new l(z[0],z[1],z[2],z[3],z[4],z[5]));break;case "delay":D(v,new h(z[0],z[1],z[2]));break;case "convolve":q=z[2];x=this.qh(q,!1);x.S?q=new e(x.S,z[0],z[1],q):(q=new e(null,z[0],z[1],q),x.cn=z[0],x.Zg=q);D(v,q);break;case "flanger":D(v,new b(z[0],z[1],z[2],z[3],z[4]));break;case "phaser":D(v,new d(z[0],z[1],z[2],z[3],z[4],z[5]));break;case "gain":D(v,new t(z[0]));break;case "tremolo":D(v,new m(z[0],z[1]));break;
case "ringmod":D(v,new w(z[0],z[1]));break;case "distortion":D(v,new s(z[0],z[1],z[2],z[3],z[4]));break;case "compressor":D(v,new c(z[0],z[1],z[2],z[3],z[4]));break;case "analyser":D(v,new p(z[0],z[1]))}k=0;for(n=g.length;k<n;k++)3===this.xd||(a=g[k],q=a.buffersrc,r=a.is_music,v=a.tag,y=a.playbackTime,A=a.looping,N=a.volume,C=(z=a.pan)&&z.hasOwnProperty("objUid")?z.objUid:-1,r&&1===this.xd)||!r&&2===this.xd||((x=this.Yl(q,v,r,A,N))?(x.ob=a.resume_position,x.Lk(!!z),x.play(A,N,y),x.no(),x.Ds(),x.ih(x.jf||
x.jg),a.paused&&x.pause(),a.muted&&x.qs(),x.ih(x.jf||x.jg),z&&(-1!==C?(x.pa=x.pa||new u,x.pa.Th=C,La.push(x.pa)):x.Kk(z.x,z.y,z.a,z.ia,z.oa,z.og))):(x=this.qh(q,r),x.pi=y,x.bi=a.paused,z&&(-1!==C?x.uf.push({en:C,Nj:z.ia,nk:z.oa,pk:z.og,Yn:v}):x.uf.push({x:z.x,y:z.y,ip:z.a,Nj:z.ia,nk:z.oa,pk:z.og,Yn:v}))));if(f&&!J){k=0;for(n=E.length;k<n;k++)E[k].Jn(!0);J=!0}else if(!f&&J){k=0;for(n=E.length;k<n;k++)E[k].Jn(!1);J=!1}};ia.Hd=function(){var b,a,c,d;b=0;for(a=La.length;b<a;b++)c=La[b],d=this.b.uh(c.Th),
c.Lg(d),c.Th=-1,d&&(O=d.x,K=d.y);La.length=0};ia.Lr=function(b){if(!this.Pr){!b&&v&&v.resume&&v.resume();var a,c;a=0;for(c=E.length;a<c;a++)E[a].ss(b);b&&v&&v.suspend&&v.suspend()}};ia.jb=function(){var b=this.b.xe,a,c,d;a=0;for(c=E.length;a<c;a++)d=E[a],d.jb(b),0===d.J||3===d.J||d.Lc||d.Za||!d.Ce()||(d.Za=!0,sa=d.tag,y.trigger(jc.prototype.n.Ki,L)),0!==I&&d.no();var e,f;for(e in R)if(R.hasOwnProperty(e))for(d=R[e],a=0,c=d.length;a<c;a++)f=d[a],f.jb&&f.jb();1===C&&this.gb.zh()&&(this.gb.jb(b),O=this.gb.A.x,
K=this.gb.A.y,v.listener.setPosition(this.gb.A.x,this.gb.A.y,this.rg),v.listener.setVelocity(this.gb.Gj(),this.gb.Hj(),0))};var Ma=[];ia.rs=function(b){var a,c,d,e,f,h=0;a=0;for(c=b.length;a<c;++a)if(d=b[a],e=d[0],d=2*d[1],(f=4<e.length&&".ogg"===e.substr(e.length-4))&&x||!f&&!x)Ma.push({filename:e,size:d,A:null}),h+=d;return h};ia.us=function(){var b,a,c,d;b=0;for(a=Ma.length;b<a;++b)c=Ma[b],d=this.b.tj+c.filename,c.A=this.qh(d,!1)};ia.Jq=function(){var b=0,a,c,d;a=0;for(c=Ma.length;a<c;++a)d=Ma[a],
d.A.mr()||d.A.er()||this.b.Na||this.b.Dh?b+=d.size:d.A.qm()&&(b+=Math.floor(d.size/2));return b};ia.qh=function(b,a){var c,d,e,f=null;c=0;for(d=ta.length;c<d;c++)if(e=ta[c],e.src===b){f=e;break}f||(f=new N(b,a),ta.push(f));return f};ia.Yl=function(b,a,c,d,e){var f,h,g;f=0;for(h=E.length;f<h;f++)if(g=E[f],g.src===b&&(g.tp()||c))return g.tag=a,g;b=this.qh(b,c);if(!b.S)return"<preload>"!==a&&(b.ci=a,b.hk=d,b.al=e),null;g=new A(b,a);E.push(g);return g};var Da=[];S.prototype.Ki=function(b){return hb(sa,
b)};G.n=new S;Y.prototype.Play=function(b,a,c,d){!J&&(c=Math.pow(10,c/20),0>c&&(c=0),1<c&&(c=1),F=this.Yl(this.b.tj+b[0]+(x?".ogg":".m4a"),d,b[1],0!==a,c))&&(F.Lk(!1),F.play(0!==a,c))};G.Z=new Y;G.Fa=new function(){}})();function kc(k){this.b=k}
(function(){function k(){}function q(){}var a=kc.prototype;a.oc=function(a){this.ka=a;this.b=a.b};a.oc.prototype.za=function(){};a.sb=function(a){this.type=a;this.b=a.b;this.Yi=Array(4);this.ao=this.Ci=this.Df=this.Zd=this.Yd=0;this.Kj=!1};var n=a.sb.prototype;n.za=function(){var a=this;if(!this.b.Na){jQuery(document).mousemove(function(f){a.Ir(f)});jQuery(document).mousedown(function(f){a.Hr(f)});jQuery(document).mouseup(function(f){a.Jr(f)});jQuery(document).dblclick(function(f){a.Fr(f)});var f=
function(f){a.Mr(f)};document.addEventListener("mousewheel",f,!1);document.addEventListener("DOMMouseScroll",f,!1)}};var r={left:0,top:0};n.Ir=function(a){var f=this.b.Na?r:jQuery(this.b.canvas).offset();this.Yd=a.pageX-f.left;this.Zd=a.pageY-f.top};n.Ym=function(){return 0<this.b.yb?!0:0<=this.Yd&&0<=this.Zd&&this.Yd<this.b.width&&this.Zd<this.b.height};n.Hr=function(a){this.Ym()&&(this.b.Jj&&!this.b.Qc&&a.preventDefault(),this.Yi[a.which]=!0,this.b.Pc=!0,this.b.trigger(kc.prototype.n.Jo,this),this.Df=
a.which-1,this.Ci=0,this.b.trigger(kc.prototype.n.fl,this),this.b.trigger(kc.prototype.n.Mi,this),this.b.Pc=!1)};n.Jr=function(a){this.Yi[a.which]&&(this.b.Jj&&!this.b.Qc&&a.preventDefault(),this.b.Jj=!0,this.Yi[a.which]=!1,this.b.Pc=!0,this.Df=a.which-1,this.b.trigger(kc.prototype.n.Oo,this),this.b.Pc=!1)};n.Fr=function(a){this.Ym()&&(a.preventDefault(),this.b.Pc=!0,this.Df=a.which-1,this.Ci=1,this.b.trigger(kc.prototype.n.fl,this),this.b.trigger(kc.prototype.n.Mi,this),this.b.Pc=!1)};n.Mr=function(a){this.ao=
0>(a.wheelDelta?a.wheelDelta:a.detail?-a.detail:0)?0:1;this.Kj=!1;this.b.Pc=!0;this.b.trigger(kc.prototype.n.Po,this);this.b.Pc=!1;this.Kj&&ib(a)&&a.preventDefault()};k.prototype.fl=function(a,f){return a===this.Df&&f===this.Ci};k.prototype.Jo=function(){return!0};k.prototype.Oo=function(a){return a===this.Df};k.prototype.Mi=function(a,f,k){return a!==this.Df||f!==this.Ci?!1:this.b.ws(k,this.Yd,this.Zd)};k.prototype.Po=function(a){this.Kj=!0;return a===this.ao};a.n=new k;a.Z=new function(){};q.prototype.gp=
function(a,f){var k,h,e,b,d;ja(f)?(k=this.b.Xf(0),h=k.scale,e=k.Ed,b=k.td,d=k.i,k.scale=1,k.Ed=1,k.td=1,k.i=0,a.r(k.wb(this.Yd,this.Zd,!0)),k.scale=h,k.Ed=e,k.td=b,k.i=d):(k=ka(f)?this.b.Xf(f):this.b.Dj(f))?a.r(k.wb(this.Yd,this.Zd,!0)):a.r(0)};q.prototype.hp=function(a,f){var k,h,e,b,d;ja(f)?(k=this.b.Xf(0),h=k.scale,e=k.Ed,b=k.ud,d=k.i,k.scale=1,k.Ed=1,k.ud=1,k.i=0,a.r(k.wb(this.Yd,this.Zd,!1)),k.scale=h,k.Ed=e,k.ud=b,k.i=d):(k=ka(f)?this.b.Xf(f):this.b.Dj(f))?a.r(k.wb(this.Yd,this.Zd,!1)):a.r(0)};
a.Fa=new q})();function Z(k){this.b=k}
(function(){function k(){if(0===this.jj.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Af?b.drawImage(this.qb,this.sf,this.tf,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.qb,0,0,this.width,this.height);this.jj=a.toDataURL("image/png")}return this.jj}function q(){}function a(){}var n=Z.prototype;n.oc=function(a){this.ka=a;this.b=a.b};var r=n.oc.prototype;r.za=function(){if(!this.K){var a,b,d,f,h,g,l,c,n;this.qc=
[];this.bg=!1;a=0;for(b=this.ub.length;a<b;a++){h=this.ub[a];l={};l.name=h[0];l.speed=h[1];l.loop=h[2];l.Ck=h[3];l.mi=h[4];l.vn=h[5];l.L=h[6];l.frames=[];d=0;for(f=h[7].length;d<f;d++)g=h[7][d],c={},c.Wn=g[0],c.Xn=g[1],c.sf=g[2],c.tf=g[3],c.width=g[4],c.height=g[5],c.duration=g[6],c.Ab=g[7],c.Bb=g[8],c.Oj=g[9],c.di=g[10],c.wn=g[11],c.Af=0!==c.width,c.jj="",c.Pt=k,n={left:0,top:0,right:1,bottom:1},c.Mk=n,c.Cd=null,(n=this.b.tq(g[0]))?c.qb=n:(c.qb=new Image,c.qb.xp=g[0],c.qb.wp=g[1],c.qb.rp=null,this.b.Js(c.qb,
g[0])),l.frames.push(c),this.qc.push(c);this.ub[a]=l}}};r.lo=function(){var a,b,d;a=0;for(b=this.d.length;a<b;a++)d=this.d[a],d.dh=d.ac.Cd};r.rk=function(){if(!this.K){var a,b,d;a=0;for(b=this.qc.length;a<b;++a)d=this.qc[a],d.qb.rp=null,d.Cd=null;this.bg=!1;this.lo()}};r.ln=function(){if(!this.K&&this.d.length){var a,b,d;a=0;for(b=this.qc.length;a<b;++a)d=this.qc[a],d.Cd=this.b.p.Fm(d.qb,this.b.T,d.wn);this.lo()}};r.ur=function(){if(!this.K&&!this.bg&&this.b.p){var a,b,d;a=0;for(b=this.qc.length;a<
b;++a)d=this.qc[a],d.Cd=this.b.p.Fm(d.qb,this.b.T,d.wn);this.bg=!0}};r.jo=function(){if(!this.K&&!this.d.length&&this.bg){var a,b,d;a=0;for(b=this.qc.length;a<b;++a)d=this.qc[a],this.b.p.deleteTexture(d.Cd),d.Cd=null;this.bg=!1}};var g=[];r.yn=function(a){var b,d,f;b=g.length=0;for(d=this.qc.length;b<d;++b)f=this.qc[b].qb,-1===g.indexOf(f)&&(a.drawImage(f,0,0),g.push(f))};n.sb=function(a){this.type=a;this.b=a.b;a=this.type.ub[0].frames[0].di;this.Tb?this.Hc.Ng(a):this.Hc=new bb(a)};var f=n.sb.prototype;
f.za=function(){this.visible=0===this.V[0];this.Ah=this.ig=!1;this.Pf=0!==this.V[3];1===this.type.ub.length&&1===this.type.ub[0].frames.length||0===this.type.ub[0].speed||(this.b.Sg(this),this.ig=!0);this.ga=this.Xl(this.V[1])||this.type.ub[0];this.m=this.V[2];0>this.m&&(this.m=0);this.m>=this.ga.frames.length&&(this.m=this.ga.frames.length-1);var a=this.ga.frames[this.m];this.Hc.Ng(a.di);this.Ab=a.Ab;this.Bb=a.Bb;this.Rf=this.ga.speed;this.Tb?this.Gc.reset():this.Gc=new $a;this.od=this.Gc.X;this.qe=
!0;this.bd=0;this.pe=!0;this.Yg=this.ll="";this.Cl=0;this.Xg=-1;this.type.ur();var b,d,f,h,g,k,c,a=0;for(b=this.type.ub.length;a<b;a++)for(h=this.type.ub[a],d=0,f=h.frames.length;d<f;d++)g=h.frames[d],0===g.width&&(g.width=g.qb.width,g.height=g.qb.height),g.Af&&(c=g.qb,k=g.Mk,k.left=g.sf/c.width,k.top=g.tf/c.height,k.right=(g.sf+g.width)/c.width,k.bottom=(g.tf+g.height)/c.height,0===g.sf&&0===g.tf&&g.width===c.width&&g.height===c.height&&(g.Af=!1));this.ac=this.ga.frames[this.m];this.dh=this.ac.Cd};
f.Ub=function(){var a={a:this.ga.L,f:this.m,cas:this.Rf,fs:this.od,ar:this.bd,at:this.Gc.X};this.qe||(a.ap=this.qe);this.pe||(a.af=this.pe);return a};f.yc=function(a){var b=this.yq(a.a);b&&(this.ga=b);this.m=a.f;0>this.m&&(this.m=0);this.m>=this.ga.frames.length&&(this.m=this.ga.frames.length-1);this.Rf=a.cas;this.od=a.fs;this.bd=a.ar;this.Gc.reset();this.Gc.X=a.at;this.qe=a.hasOwnProperty("ap")?a.ap:!0;this.pe=a.hasOwnProperty("af")?a.af:!0;this.ac=this.ga.frames[this.m];this.dh=this.ac.Cd;this.Hc.Ng(this.ac.di);
this.Ab=this.ac.Ab;this.Bb=this.ac.Bb};f.Ui=function(a){this.m=a?0:this.ga.frames.length-1;this.qe=!1;this.ll=this.ga.name;this.Ah=!0;this.b.trigger(Z.prototype.n.Io,this);this.b.trigger(Z.prototype.n.Ho,this);this.Ah=!1;this.bd=0};f.Tt=function(){return this.Gc.X};f.jb=function(){this.Gc.add(this.b.$l(this));this.Yg.length&&this.Jl();0<=this.Xg&&this.Kl();var a=this.Gc.X,b=this.ga,d=b.frames[this.m],f=d.duration/this.Rf;this.qe&&a>=this.od+f&&(this.pe?this.m++:this.m--,this.od+=f,this.m>=b.frames.length&&
(b.vn?(this.pe=!1,this.m=b.frames.length-2):b.loop?this.m=b.mi:(this.bd++,this.bd>=b.Ck?this.Ui(!1):this.m=b.mi)),0>this.m&&(b.vn?(this.m=1,this.pe=!0,b.loop||(this.bd++,this.bd>=b.Ck&&this.Ui(!0))):b.loop?this.m=b.mi:(this.bd++,this.bd>=b.Ck?this.Ui(!0):this.m=b.mi)),0>this.m?this.m=0:this.m>=b.frames.length&&(this.m=b.frames.length-1),a>this.od+b.frames[this.m].duration/this.Rf&&(this.od=a),a=b.frames[this.m],this.Ue(d,a),this.b.ba=!0)};f.Xl=function(a){var b,d,f;b=0;for(d=this.type.ub.length;b<
d;b++)if(f=this.type.ub[b],hb(f.name,a))return f;return null};f.yq=function(a){var b,d,f;b=0;for(d=this.type.ub.length;b<d;b++)if(f=this.type.ub[b],f.L===a)return f;return null};f.Jl=function(){var a=this.ga.frames[this.m],b=this.Xl(this.Yg);this.Yg="";!b||hb(b.name,this.ga.name)&&this.qe||(this.ga=b,this.Rf=b.speed,0>this.m&&(this.m=0),this.m>=this.ga.frames.length&&(this.m=this.ga.frames.length-1),1===this.Cl&&(this.m=0),this.qe=!0,this.od=this.Gc.X,this.pe=!0,this.Ue(a,this.ga.frames[this.m]),
this.b.ba=!0)};f.Kl=function(){var a=this.ga.frames[this.m],b=this.m;this.m=Q(this.Xg);0>this.m&&(this.m=0);this.m>=this.ga.frames.length&&(this.m=this.ga.frames.length-1);b!==this.m&&(this.Ue(a,this.ga.frames[this.m]),this.od=this.Gc.X,this.b.ba=!0);this.Xg=-1};f.Ue=function(a,b){var d=a.width,f=a.height,h=b.width,g=b.height;d!=h&&(this.width*=h/d);f!=g&&(this.height*=g/f);this.Ab=b.Ab;this.Bb=b.Bb;this.Hc.Ng(b.di);this.La();this.ac=b;this.dh=b.Cd;d=0;for(f=this.F.length;d<f;d++)h=this.F[d],h.Kr&&
h.Kr(a,b);this.b.trigger(Z.prototype.n.Ue,this)};f.jd=function(a){a.globalAlpha=this.opacity;var b=this.ac,d=b.Af,f=b.qb,h=this.x,g=this.y,k=this.width,c=this.height;if(0===this.i&&0<=k&&0<=c)h-=this.Ab*k,g-=this.Bb*c,this.b.be&&(h=Math.round(h),g=Math.round(g)),d?a.drawImage(f,b.sf,b.tf,b.width,b.height,h,g,k,c):a.drawImage(f,h,g,k,c);else{this.b.be&&(h=Math.round(h),g=Math.round(g));a.save();var l=0<k?1:-1,n=0<c?1:-1;a.translate(h,g);1===l&&1===n||a.scale(l,n);a.rotate(this.i*l*n);h=0-this.Ab*oa(k);
g=0-this.Bb*oa(c);d?a.drawImage(f,b.sf,b.tf,b.width,b.height,h,g,oa(k),oa(c)):a.drawImage(f,h,g,oa(k),oa(c));a.restore()}};f.sc=function(a){a.Vb(this.dh);a.yf(this.opacity);var b=this.ac,d=this.te;if(this.b.be){var f=Math.round(this.x)-this.x,h=Math.round(this.y)-this.y;b.Af?a.ee(d.Ta+f,d.Ua+h,d.Wb+f,d.Xb+h,d.Mb+f,d.Nb+h,d.Kb+f,d.Lb+h,b.Mk):a.ki(d.Ta+f,d.Ua+h,d.Wb+f,d.Xb+h,d.Mb+f,d.Nb+h,d.Kb+f,d.Lb+h)}else b.Af?a.ee(d.Ta,d.Ua,d.Wb,d.Xb,d.Mb,d.Nb,d.Kb,d.Lb,b.Mk):a.ki(d.Ta,d.Ua,d.Wb,d.Xb,d.Mb,d.Nb,
d.Kb,d.Lb)};f.Fq=function(a){var b=this.ac,d,f;d=0;for(f=b.Oj.length;d<f;d++)if(hb(a,b.Oj[d][0]))return d;return-1};f.Cj=function(a,b){var d=this.ac,f=d.Oj,h;h=P(a)?this.Fq(a):a-1;h=Q(h);if(0>h||h>=f.length)return b?this.x:this.y;var g=(f[h][1]-d.Ab)*this.width,f=f[h][2],f=(f-d.Bb)*this.height,d=Math.cos(this.i);h=Math.sin(this.i);var k=g*d-f*h,f=f*d+g*h,g=k+this.x,f=f+this.y;return b?g:f};var l=new ea,h=!1;new T(0,0,0,0);r.finish=function(a){if(h){if(a){var b=this.b.eb().bb.zc;a=null.Y();var d=l.ne(),
f,g;if(a.da){a.da=!1;a.d.length=d.length;f=0;for(g=d.length;f<g;f++)a.d[f]=d[f];if(b)for(f=a.R.length=0,g=null.d.length;f<g;f++)d=null.d[f],l.contains(d)||a.R.push(d)}else if(b)for(b=a.d.length,a.d.length=b+d.length,f=0,g=d.length;f<g;f++)a.d[b+f]=d[f],Ca(a.R,d[f]);else za(a.d,d);null.cd()}l.clear();h=!1}};q.prototype.Ho=function(a){return hb(this.ll,a)};q.prototype.Io=function(){return!0};q.prototype.Ue=function(){return!0};n.n=new q;a.prototype.To=function(a,b){this.Yg=a;this.Cl=b;this.ig||(this.b.Sg(this),
this.ig=!0);this.Ah||this.Jl()};a.prototype.Uo=function(a){this.Xg=a;this.ig||(this.b.Sg(this),this.ig=!0);this.Ah||this.Kl()};n.Z=new a;n.Fa=new function(){}})();function lc(k){this.b=k}
(function(){function k(){return l.length?l.pop():{}}function q(a){var e,b;e=0;for(b=a.length;e<b;e++)l.push(a[e]);a.length=0}function a(){}function n(){}var r=lc.prototype;r.za=function(){r.Z.bp=function(a){this.width!==a&&(this.width=a,this.Qe=!0,this.La())}};r.oc=function(a){this.ka=a;this.b=a.b};var g=r.oc.prototype;g.za=function(){};g.rk=function(){if(!this.K){var a,e,b;a=0;for(e=this.d.length;a<e;a++)b=this.d[a],b.Sc=null,b.Me=null,b.Db=null}};r.sb=function(a){this.type=a;this.b=a.b;this.Tb?
this.Wd.length=0:this.Wd=[];this.Qe=!0};g=r.sb.prototype;g.za=function(){this.text=this.V[0];this.visible=0===this.V[1];this.font=this.V[2];this.color=this.V[3];this.yh=this.V[4];this.Fi=this.V[5];this.dl=0===this.V[7];this.ak=this.Nh=this.width;this.Mh=this.height;this.ck=this.V[8];this.oh=this.$e="";this.Un=this.Vn=this.Gg=0;this.Nr();this.Db=this.Me=this.Sc=null;this.an=!1;this.qg=this.b.yd;this.Tb?this.wf.set(0,0,1,1):this.wf=new T(0,0,1,1);this.b.p&&this.b.Sg(this)};g.Nr=function(){var a=this.font.split(" "),
e;for(e=0;e<a.length;e++)if("pt"===a[e].substr(a[e].length-2,2)){this.Gg=parseInt(a[e].substr(0,a[e].length-2));this.yk=Math.ceil(this.Gg/72*96)+4;0<e&&(this.oh=a[e-1]);this.$e=a[e+1];for(e+=2;e<a.length;e++)this.$e+=" "+a[e];break}};g.Ub=function(){return{t:this.text,f:this.font,c:this.color,ha:this.yh,va:this.Fi,wr:this.dl,lho:this.ck,fn:this.$e,fs:this.oh,ps:this.Gg,pxh:this.yk,tw:this.Vn,th:this.Un,lrt:this.qg}};g.yc=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.yh=a.ha;this.Fi=
a.va;this.dl=a.wr;this.ck=a.lho;this.$e=a.fn;this.oh=a.fs;this.Gg=a.ps;this.yk=a.pxh;this.Vn=a.tw;this.Un=a.th;this.qg=a.lrt;this.Qe=!0;this.ak=this.Nh=this.width;this.Mh=this.height};g.jb=function(){if(this.b.p&&this.Db&&300<=this.b.yd-this.qg){var a=this.e;this.Va();var e=this.ab;if(e.right<a.la||e.bottom<a.ma||e.left>a.Da||e.top>a.Ca)this.b.p.deleteTexture(this.Db),this.Sc=this.Me=this.Db=null}};g.Cg=function(){this.Sc=this.Me=null;this.b.p&&this.Db&&this.b.p.deleteTexture(this.Db);this.Db=null};
g.au=function(){this.font=this.oh+" "+this.Gg.toString()+"pt "+this.$e;this.Qe=!0;this.b.ba=!0};g.jd=function(a,e){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=e?1:this.opacity;var b=1;e&&(b=this.e.Pb(),a.save(),a.scale(b,b));if(this.Qe||this.width!==this.ak)this.type.ka.ep(this.text,this.Wd,a,this.width,this.dl),this.Qe=!1,this.ak=this.width;this.Va();var b=e?0:this.te.Ta,d=e?0:this.te.Ua;this.b.be&&(b=b+.5|0,d=d+.5|0);0===this.i||e||(a.save(),a.translate(b,d),a.rotate(this.i),
d=b=0);var f=d+this.height,g=this.yk,g=g+this.ck,k,l;1===this.Fi?d+=Math.max(this.height/2-this.Wd.length*g/2,0):2===this.Fi&&(d+=Math.max(this.height-this.Wd.length*g-2,0));for(l=0;l<this.Wd.length&&!(k=b,1===this.yh?k=b+(this.width-this.Wd[l].width)/2:2===this.yh&&(k=b+(this.width-this.Wd[l].width)),a.fillText(this.Wd[l].text,k,d),d+=g,d>=f-g);l++);(0!==this.i||e)&&a.restore();this.qg=this.b.yd};g.sc=function(a){if(!(1>this.width||1>this.height)){var e=this.Qe||this.an;this.an=!1;var b=this.e.Pb(),
d=this.e.ya(),f=this.wf,g=b*this.width,k=b*this.height,l=Math.ceil(g),c=Math.ceil(k),n=this.b.H/2,q=this.b.G/2;this.Me||(this.Sc=document.createElement("canvas"),this.Sc.width=l,this.Sc.height=c,this.Nh=l,this.Mh=c,e=!0,this.Me=this.Sc.getContext("2d"));if(l!==this.Nh||c!==this.Mh)this.Sc.width=l,this.Sc.height=c,this.Db&&(a.deleteTexture(this.Db),this.Db=null),e=!0;e&&(this.Me.clearRect(0,0,l,c),this.jd(this.Me,!0),this.Db||(this.Db=a.fd(l,c,this.b.T,this.b.Qc)),a.Is(this.Sc,this.Db,this.b.Qc));
this.Nh=l;this.Mh=c;a.Vb(this.Db);a.yf(this.opacity);a.Vc();a.translate(-n,-q);a.Zc();var r=this.te,e=this.e.Ha(r.Ta,r.Ua,!0),n=this.e.Ha(r.Ta,r.Ua,!1),q=this.e.Ha(r.Wb,r.Xb,!0),A=this.e.Ha(r.Wb,r.Xb,!1),D=this.e.Ha(r.Mb,r.Nb,!0),S=this.e.Ha(r.Mb,r.Nb,!1),Y=this.e.Ha(r.Kb,r.Lb,!0),r=this.e.Ha(r.Kb,r.Lb,!1);if(this.b.be||0===this.i&&0===d)var G=(e+.5|0)-e,y=(n+.5|0)-n,e=e+G,n=n+y,q=q+G,A=A+y,D=D+G,S=S+y,Y=Y+G,r=r+y;0===this.i&&0===d?(q=e+l,A=n,D=q,S=n+c,Y=e,r=S,f.right=1,f.bottom=1):(f.right=g/l,f.bottom=
k/c);a.ee(e,n,q,A,D,S,Y,r,f);a.Vc();a.scale(b,b);a.Fk(-this.e.ya());a.translate((this.e.la+this.e.Da)/-2,(this.e.ma+this.e.Ca)/-2);a.Zc();this.qg=this.b.yd}};var f=[];r.cp=function(a){f.length=0;for(var e="",b,d=0;d<a.length;)if(b=a.charAt(d),"\n"===b)e.length&&(f.push(e),e=""),f.push("\n"),++d;else if(" "===b||"\t"===b||"-"===b){do e+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));f.push(e);e=""}else d<a.length&&(e+=b,d++);e.length&&f.push(e)};var l=[];r.ep=function(a,
e,b,d,f){if(a&&a.length)if(2>=d)q(e);else{if(100>=a.length&&-1===a.indexOf("\n")){var g=b.measureText(a).width;if(g<=d){q(e);e.push(k());e[0].text=a;e[0].width=g;return}}this.fp(a,e,b,d,f)}else q(e)};r.fp=function(a,e,b,d,g){g&&(this.cp(a),a=f);var m="",n,q,c,p=0;for(c=0;c<a.length;c++)"\n"===a[c]?(p>=e.length&&e.push(k()),q=e[p],q.text=m,q.width=b.measureText(m).width,p++,m=""):(n=m,m+=a[c],q=b.measureText(m).width,q>=d&&(p>=e.length&&e.push(k()),q=e[p],q.text=n,q.width=b.measureText(n).width,p++,
m=a[c],g||" "!==m||(m="")));m.length&&(p>=e.length&&e.push(k()),q=e[p],q.text=m,q.width=b.measureText(m).width,p++);for(c=p;c<e.length;c++)l.push(e[c]);e.length=p};r.n=new function(){};a.prototype.Yo=function(a){ka(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Qe=!0,this.b.ba=!0)};r.Z=new a;n.prototype.Text=function(a){a.pb(this.text)};r.Fa=new n})();
function hc(){return[kc,Z,lc,ic,jc,X.prototype.n.gl,X.prototype.Z.So,lc.prototype.Z.Xo,X.prototype.Fa.Ls,lc.prototype.Fa.Qi,X.prototype.Fa.Ks,lc.prototype.Fa.Ii,X.prototype.Z.Zo,X.prototype.Fa["int"],Z.prototype.Fa.Qi,Z.prototype.Fa.Ii,ic.prototype.Z.Oi,jc.prototype.Z.Play,lc.prototype.Z.Pi,X.prototype.n.Ro,X.prototype.Z.qo,ic.prototype.Z.Pi,X.prototype.Fa.random,ic.prototype.Fa.so,X.prototype.n.vo,X.prototype.Z.yo,Z.prototype.Z.Oi,Z.prototype.Z.Wo,kc.prototype.n.Mi,Z.prototype.n.Do,X.prototype.n.wo,
Z.prototype.Z.Vo,Z.prototype.Z.To,Z.prototype.Z.Uo,lc.prototype.Z.Yo,X.prototype.n.Qo,X.prototype.Z.dp,Z.prototype.Z.zo,lc.prototype.Z.$o,X.prototype.Z.Bo]};
